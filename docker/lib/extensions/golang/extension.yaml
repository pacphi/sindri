---
metadata:
  name: golang
  version: 1.0.0
  description: Go 1.24 via mise
  category: language
  dependencies: []

requirements:
  domains:
    - golang.org
    - proxy.golang.org
  diskSpace: 500
  memory: 256
  installTime: 60

install:
  method: mise
  mise:
    configFile: mise.toml
    reshimAfterInstall: true

configure:
  environment:
    - key: GOPATH
      value: "${HOME}/go"
      scope: bashrc
    - key: GOMODCACHE
      value: "${HOME}/go/pkg/mod"
      scope: bashrc
    - key: GOBIN
      value: "${HOME}/go/bin"
      scope: bashrc
    - key: PATH
      value: "${HOME}/go/bin:${PATH}"
      scope: bashrc

validate:
  commands:
    - name: go
      expectedPattern: "go version go\\d+\\.\\d+"

remove:
  mise:
    removeConfig: true
    tools: [go]

bom:
  tools:
    - name: go
      version: dynamic
      source: mise
      type: compiler
      license: BSD-3-Clause
      homepage: https://golang.org
      purl: pkg:golang/go
