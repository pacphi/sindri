<!DOCTYPE html>
<!--
  Sindri FAQ - Self-contained build
  Generated: 2026-02-05T18:48:30.032Z
  Questions: 152
  Categories: 11

  This file is auto-generated. Edit source files in src/ directory.
  Rebuild with: pnpm build:faq
-->

<html lang="en" class="scroll-smooth">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Sindri FAQ - Frequently Asked Questions</title>
  <meta name="description" content="Comprehensive FAQ for Sindri - the declarative, provider-agnostic cloud development environment system">

  <!-- Tailwind CSS 4 via CDN -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Anime-style fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=M+PLUS+Rounded+1c:wght@300;400;500;700;800&family=Zen+Maru+Gothic:wght@300;400;500;700;900&display=swap" rel="stylesheet">

  <!-- Custom Tailwind Config -->
  <script>
    tailwind.config = {
      darkMode: 'class',
      theme: {
        extend: {
          fontFamily: {
            'anime': ['"M PLUS Rounded 1c"', '"Zen Maru Gothic"', 'system-ui', 'sans-serif'],
            'anime-bold': ['"Zen Maru Gothic"', '"M PLUS Rounded 1c"', 'system-ui', 'sans-serif'],
          },
          colors: {
            'sindri': {
              50: '#f0f9ff',
              100: '#e0f2fe',
              200: '#bae6fd',
              300: '#7dd3fc',
              400: '#38bdf8',
              500: '#0ea5e9',
              600: '#0284c7',
              700: '#0369a1',
              800: '#075985',
              900: '#0c4a6e',
              950: '#082f49',
            },
            'sakura': {
              50: '#fdf2f8',
              100: '#fce7f3',
              200: '#fbcfe8',
              300: '#f9a8d4',
              400: '#f472b6',
              500: '#ec4899',
              600: '#db2777',
              700: '#be185d',
              800: '#9d174d',
              900: '#831843',
            }
          },
          animation: {
            'bounce-slow': 'bounce 2s infinite',
            'pulse-slow': 'pulse 3s infinite',
            'fade-in': 'fadeIn 0.3s ease-out',
            'slide-down': 'slideDown 0.3s ease-out',
          },
          keyframes: {
            fadeIn: {
              '0%': { opacity: '0', transform: 'translateY(-10px)' },
              '100%': { opacity: '1', transform: 'translateY(0)' },
            },
            slideDown: {
              '0%': { opacity: '0', maxHeight: '0' },
              '100%': { opacity: '1', maxHeight: '500px' },
            }
          }
        }
      }
    }
  </script>

  <!-- Custom Styles -->
  <style>
    /* Anime-style text rendering */
    .font-anime {
      font-family: "M PLUS Rounded 1c", "Zen Maru Gothic", system-ui, sans-serif;
      font-feature-settings: "palt";
      -webkit-font-smoothing: antialiased;
    }

    /* Smooth accordion transitions */
    .accordion-content {
      max-height: 0;
      overflow: hidden;
      transition: max-height 0.3s ease-out, opacity 0.3s ease-out, padding 0.3s ease-out;
      opacity: 0;
    }

    .accordion-content.open {
      max-height: 1000px;
      opacity: 1;
    }

    /* Custom scrollbar */
    ::-webkit-scrollbar {
      width: 8px;
      height: 8px;
    }

    ::-webkit-scrollbar-track {
      background: transparent;
    }

    ::-webkit-scrollbar-thumb {
      background: #cbd5e1;
      border-radius: 4px;
    }

    .dark ::-webkit-scrollbar-thumb {
      background: #475569;
    }

    /* Search highlight */
    .highlight {
      background: linear-gradient(120deg, #fef08a 0%, #fde047 100%);
      border-radius: 2px;
      padding: 0 2px;
    }

    .dark .highlight {
      background: linear-gradient(120deg, #854d0e 0%, #a16207 100%);
      color: #fef9c3;
    }

    /* Glassmorphism effect */
    .glass {
      background: rgba(255, 255, 255, 0.7);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
    }

    .dark .glass {
      background: rgba(15, 23, 42, 0.7);
    }

    /* Category badge colors */
    .badge-getting-started { @apply bg-emerald-100 text-emerald-800 dark:bg-emerald-900/50 dark:text-emerald-300; }
    .badge-configuration { @apply bg-blue-100 text-blue-800 dark:bg-blue-900/50 dark:text-blue-300; }
    .badge-deployment { @apply bg-purple-100 text-purple-800 dark:bg-purple-900/50 dark:text-purple-300; }
    .badge-extensions { @apply bg-orange-100 text-orange-800 dark:bg-orange-900/50 dark:text-orange-300; }
    .badge-secrets { @apply bg-red-100 text-red-800 dark:bg-red-900/50 dark:text-red-300; }
    .badge-troubleshooting { @apply bg-amber-100 text-amber-800 dark:bg-amber-900/50 dark:text-amber-300; }
    .badge-architecture { @apply bg-indigo-100 text-indigo-800 dark:bg-indigo-900/50 dark:text-indigo-300; }
    .badge-cicd { @apply bg-cyan-100 text-cyan-800 dark:bg-cyan-900/50 dark:text-cyan-300; }
    .badge-vm-images { @apply bg-teal-100 text-teal-800 dark:bg-teal-900/50 dark:text-teal-300; }
    .badge-image-management { @apply bg-sky-100 text-sky-800 dark:bg-sky-900/50 dark:text-sky-300; }
    .badge-kubernetes { @apply bg-violet-100 text-violet-800 dark:bg-violet-900/50 dark:text-violet-300; }
    .badge-doctor-diagnostics { @apply bg-lime-100 text-lime-800 dark:bg-lime-900/50 dark:text-lime-300; }
    .badge-migration { @apply bg-pink-100 text-pink-800 dark:bg-pink-900/50 dark:text-pink-300; }

    /* Focus styles */
    .faq-item:focus-within {
      outline: 2px solid #0ea5e9;
      outline-offset: 2px;
    }

    /* Print styles */
    @media print {
      .no-print { display: none !important; }
      .accordion-content { max-height: none !important; opacity: 1 !important; }
    }
  </style>
</head>

<body class="font-anime bg-gradient-to-br from-slate-50 via-white to-sindri-50 dark:from-slate-950 dark:via-slate-900 dark:to-slate-950 min-h-screen transition-colors duration-300">

  <!-- Header -->
  <header class="sticky top-0 z-50 glass border-b border-slate-200/50 dark:border-slate-700/50 no-print">
    <div class="max-w-5xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="flex items-center justify-between h-16">
        <!-- Title -->
        <h1 class="text-xl font-bold text-slate-900 dark:text-white font-anime-bold tracking-tight">
          Sindri FAQ
        </h1>

        <!-- Actions -->
        <div class="flex items-center gap-2 sm:gap-4">
          <!-- GitHub Link -->
          <a href="https://github.com/pacphi/sindri" target="_blank" rel="noopener noreferrer"
             class="p-2 rounded-lg text-slate-600 hover:text-slate-900 dark:text-slate-400 dark:hover:text-white hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors"
             title="View on GitHub">
            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
              <path fill-rule="evenodd" clip-rule="evenodd" d="M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.202 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0022 12.017C22 6.484 17.522 2 12 2z"/>
            </svg>
          </a>

          <!-- Theme Toggle -->
          <button id="theme-toggle"
                  class="p-2 rounded-lg text-slate-600 hover:text-slate-900 dark:text-slate-400 dark:hover:text-white hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors"
                  title="Toggle theme">
            <svg id="theme-icon-light" class="w-5 h-5 hidden dark:block" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"/>
            </svg>
            <svg id="theme-icon-dark" class="w-5 h-5 block dark:hidden" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"/>
            </svg>
          </button>
        </div>
      </div>
    </div>
  </header>

  <!-- Main Content -->
  <main class="max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 py-8 sm:py-12">

    <!-- Hero Section -->
    <section class="text-center mb-10 sm:mb-14">
      <h2 class="text-3xl sm:text-4xl lg:text-5xl font-bold font-anime-bold text-slate-900 dark:text-white mb-4 tracking-tight">
        <span class="bg-gradient-to-r from-sindri-600 via-sindri-500 to-sakura-500 bg-clip-text text-transparent">
          How can we help?
        </span>
      </h2>
      <p class="text-lg sm:text-xl text-slate-600 dark:text-slate-400 max-w-2xl mx-auto font-light">
        Find answers to common questions about Sindri's deployment, configuration, extensions, and more.
      </p>
    </section>

    <!-- Search Section -->
    <section class="mb-8 sm:mb-10 no-print">
      <div class="relative max-w-2xl mx-auto">
        <div class="absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none">
          <svg class="w-5 h-5 text-slate-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/>
          </svg>
        </div>
        <input type="text"
               id="search-input"
               placeholder="Search questions... (e.g., 'deploy', 'extension', 'secrets')"
               class="w-full pl-12 pr-12 py-4 text-lg rounded-2xl border-2 border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800/50 text-slate-900 dark:text-white placeholder-slate-400 focus:border-sindri-500 dark:focus:border-sindri-400 focus:ring-4 focus:ring-sindri-500/20 outline-none transition-all shadow-lg shadow-slate-200/50 dark:shadow-slate-900/50"
               autocomplete="off">
        <button id="clear-search"
                class="absolute inset-y-0 right-0 pr-4 flex items-center text-slate-400 hover:text-slate-600 dark:hover:text-slate-300 hidden"
                title="Clear search">
          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
          </svg>
        </button>
      </div>
      <div id="search-stats" class="text-center mt-3 text-sm text-slate-500 dark:text-slate-400 hidden">
        <span id="result-count">0</span> results found
      </div>
    </section>

    <!-- Version Filter Toggle -->
    <section class="mb-6 no-print">
      <div id="version-filters" class="flex justify-center gap-2">
        <button data-version="all"
                class="version-toggle px-4 py-2 rounded-full text-sm font-medium transition-all bg-sindri-500 text-white shadow-lg shadow-sindri-500/25">
          All Versions
        </button>
        <button data-version="v2"
                class="version-toggle px-4 py-2 rounded-full text-sm font-medium transition-all bg-slate-100 dark:bg-slate-800 text-slate-600 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-700">
          V2
        </button>
        <button data-version="v3"
                class="version-toggle px-4 py-2 rounded-full text-sm font-medium transition-all bg-slate-100 dark:bg-slate-800 text-slate-600 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-700">
          V3
        </button>
      </div>
    </section>

    <!-- Category Filter Pills -->
    <section class="mb-8 no-print">
      <div id="category-filters" class="flex flex-wrap justify-center gap-2">
        <button data-category="all"
                class="category-pill active px-4 py-2 rounded-full text-sm font-medium transition-all bg-sindri-500 text-white shadow-lg shadow-sindri-500/25">
          All Categories
        </button>
        <!-- Category pills will be dynamically inserted here -->
      </div>
    </section>

    <!-- FAQ List -->
    <section id="faq-container" class="space-y-4">
      <!-- FAQ items will be dynamically inserted here -->
      <div id="loading" class="text-center py-12">
        <div class="inline-flex items-center gap-3 text-slate-500 dark:text-slate-400">
          <svg class="w-6 h-6 animate-spin" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"/>
          </svg>
          <span class="font-medium">Loading FAQ...</span>
        </div>
      </div>
    </section>

    <!-- No Results Message -->
    <section id="no-results" class="hidden text-center py-12">
      <div class="inline-flex flex-col items-center gap-4">
        <div class="w-16 h-16 rounded-full bg-slate-100 dark:bg-slate-800 flex items-center justify-center">
          <svg class="w-8 h-8 text-slate-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
          </svg>
        </div>
        <div>
          <h3 class="text-lg font-semibold text-slate-900 dark:text-white mb-1">No results found</h3>
          <p class="text-slate-500 dark:text-slate-400">Try adjusting your search or browse all categories</p>
        </div>
        <button id="reset-search" class="px-4 py-2 bg-sindri-500 text-white rounded-lg hover:bg-sindri-600 transition-colors">
          Show all questions
        </button>
      </div>
    </section>

  </main>

  <!-- Footer -->
  <footer class="border-t border-slate-200 dark:border-slate-800 mt-16 py-8 no-print">
    <div class="max-w-5xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="flex flex-col sm:flex-row items-center justify-between gap-4">
        <div class="text-sm text-slate-500 dark:text-slate-400">
          <span class="font-medium">Sindri</span> - Declarative Cloud Development Environments
        </div>
        <div class="flex items-center gap-6 text-sm">
          <a href="https://github.com/pacphi/sindri/blob/main/docs/QUICKSTART.md"
             class="text-slate-500 hover:text-sindri-600 dark:text-slate-400 dark:hover:text-sindri-400 transition-colors">
            Quick Start
          </a>
          <a href="https://github.com/pacphi/sindri/blob/main/docs/CONFIGURATION.md"
             class="text-slate-500 hover:text-sindri-600 dark:text-slate-400 dark:hover:text-sindri-400 transition-colors">
            Configuration
          </a>
          <a href="https://github.com/pacphi/sindri/issues"
             class="text-slate-500 hover:text-sindri-600 dark:text-slate-400 dark:hover:text-sindri-400 transition-colors">
            Report Issue
          </a>
        </div>
      </div>
    </div>
  </footer>

  <!-- FAQ JavaScript -->
  <script>
// Embedded FAQ Data (generated by build.mjs)
window.FAQ_DATA = {"schemaVersion":"3.0.0","lastUpdated":"2026-02-05","meta":{"totalQuestions":152,"versionsSupported":["v2","v3"],"categories":11,"personas":6},"categories":[{"id":"getting-started","name":"Getting Started","icon":"rocket","description":"Installation, first deployment, and initial setup for Sindri"},{"id":"configuration","name":"Configuration","icon":"cog","description":"sindri.yaml schema, runtime settings, environment variables"},{"id":"deployment","name":"Deployment","icon":"cloud-upload","description":"Docker, Fly.io, DevPod, E2B, and provider management"},{"id":"extensions","name":"Extensions","icon":"puzzle","description":"Installing, managing, and creating extensions with version pinning"},{"id":"secrets","name":"Secrets Management","icon":"lock","description":"S3 encrypted secrets, age encryption, HashiCorp Vault integration"},{"id":"troubleshooting","name":"Troubleshooting","icon":"wrench","description":"Debugging, error resolution, and performance optimization"},{"id":"vm-images","name":"VM Images","icon":"server","description":"Packer builds, golden images, multi-cloud VM deployment (v3-only)"},{"id":"image-management","name":"Image Management","icon":"shield","description":"Image verification, signing, semantic versions, security (v3-only)"},{"id":"kubernetes","name":"Kubernetes","icon":"kubernetes","description":"Local K8s clusters (kind/k3d), production deployments (v3-enhanced)"},{"id":"doctor-diagnostics","name":"Doctor & Diagnostics","icon":"stethoscope","description":"System health checks, auto-fix, prerequisite validation (v3-only)"},{"id":"migration","name":"Migration","icon":"arrow-right","description":"V2 to V3 migration, breaking changes, command mapping"}],"personas":[{"id":"individual-developer","name":"Individual Developer","icon":"user","description":"Solo developers wanting quick setup, local development, and minimal cost","keywords":["solo","individual","personal","hobbyist","student"]},{"id":"small-team","name":"Small Team","icon":"users","description":"Teams of 2-10 developers needing consistent environments and collaboration","keywords":["team","collaboration","shared","startup","agile"]},{"id":"enterprise","name":"Enterprise","icon":"building","description":"Large organizations requiring production K8s, security, compliance, and audit logging","keywords":["enterprise","corporate","compliance","audit","production","scale"]},{"id":"ai-ml-researcher","name":"AI/ML Researcher","icon":"brain","description":"Researchers using Claude integration, agents, vector search, and AI tools","keywords":["ai","ml","claude","agent","research","gpu","model"]},{"id":"platform-engineer","name":"Platform Engineer","icon":"terminal","description":"Infrastructure specialists managing multi-cloud, VM images, and automation","keywords":["platform","infrastructure","devops","sre","automation","cloud"]},{"id":"windows-user","name":"Windows User","icon":"windows","description":"Developers on Windows needing native support, WSL2, and compatibility guidance","keywords":["windows","wsl","wsl2","powershell","cmd"]}],"useCases":[{"id":"local-development","name":"Local Development","description":"Docker Compose based local environments, offline work","relatedPersonas":["individual-developer","small-team"],"relatedCategories":["getting-started","deployment","configuration"]},{"id":"cloud-deployment","name":"Cloud Deployment","description":"Fly.io, auto-suspend, SSH access, cloud hosting","relatedPersonas":["small-team","enterprise"],"relatedCategories":["deployment","configuration"]},{"id":"multi-cloud","name":"Multi-Cloud","description":"DevPod backends, provider agnostic deployments","relatedPersonas":["platform-engineer","enterprise"],"relatedCategories":["deployment","vm-images"]},{"id":"production-kubernetes","name":"Production Kubernetes","description":"Production clusters, scaling, StatefulSets, Helm","relatedPersonas":["platform-engineer","enterprise"],"relatedCategories":["kubernetes","deployment"]},{"id":"vm-image-building","name":"VM Image Building","description":"Packer, golden images, multi-cloud VM distribution","relatedPersonas":["platform-engineer"],"relatedCategories":["vm-images","image-management"]},{"id":"ai-agent-development","name":"AI Agent Development","description":"Claude Flow, agents, E2B cloud sandboxes","relatedPersonas":["ai-ml-researcher"],"relatedCategories":["deployment","extensions"]},{"id":"migration","name":"Migration","description":"V2 to V3 upgrade, breaking changes, command mapping","relatedPersonas":["individual-developer","small-team","platform-engineer"],"relatedCategories":["migration","getting-started"]},{"id":"security-compliance","name":"Security & Compliance","description":"Image verification, secrets encryption, audit logging, SBOM","relatedPersonas":["enterprise","platform-engineer"],"relatedCategories":["image-management","secrets"]}],"questions":[{"id":"what-is-sindri","category":"getting-started","question":"What is Sindri?","answer":"Sindri is a declarative, provider-agnostic cloud development environment system. It uses YAML-defined extensions and optimized Docker images to deploy consistent development environments to Fly.io, local Docker, or via DevPod to Kubernetes, AWS, GCP, Azure, and other cloud providers. In v2, Sindri is implemented as a Bash CLI (~52K lines). In v3, it has been rewritten as a Rust binary (~11.2K lines) with 20-50x faster CLI startup, native Windows support, and zero runtime dependencies.","versionsApplicable":["v2","v3"],"versionSpecifics":{"v2":{"command":"./v2/cli/sindri","notes":"Bash-based CLI requiring Docker, yq, jq dependencies"},"v3":{"command":"sindri","notes":"Single 12MB Rust binary with zero runtime dependencies, native cross-platform support"}},"tags":["overview","introduction","basics"],"docs":["README.md","v2/docs/ARCHITECTURE.md","v3/README.md"],"personas":["individual-developer","small-team"],"useCases":["local-development"],"difficulty":"beginner","relatedQuestions":[],"keywords":["overview","introduction","basics"],"dateAdded":"2024-12-01","dateUpdated":"2024-12-01","popularity":0,"upvotes":0},{"id":"prerequisites","category":"getting-started","question":"What are the prerequisites for using Sindri?","answer":"In v2, the core prerequisites are: Docker installed, yq installed (brew install yq on macOS or download from GitHub). For Fly.io deployments, you need flyctl installed. For DevPod deployments, you need the DevPod CLI installed. Optional tools include pnpm for running validation and tests. In v3, the only prerequisite is Docker (for container deployments); the CLI itself is a single binary with zero runtime dependencies. Run 'sindri doctor' in v3 to validate all prerequisites automatically.","versionsApplicable":["v2","v3"],"versionSpecifics":{"v2":{"command":"docker, yq, jq, bash required","notes":"Multiple external tool dependencies"},"v3":{"command":"sindri doctor","notes":"Zero CLI dependencies; Docker needed only for container deployments"}},"tags":["setup","requirements","installation"],"docs":["docs/QUICKSTART.md","v3/docs/QUICKSTART.md"],"personas":["individual-developer","small-team"],"useCases":["local-development"],"difficulty":"beginner","relatedQuestions":[],"keywords":["setup","requirements","installation"],"dateAdded":"2024-12-01","dateUpdated":"2024-12-01","popularity":0,"upvotes":0},{"id":"quick-start","category":"getting-started","question":"How do I get started with Sindri quickly?","answer":"In v2, clone the repository (git clone https://github.com/pacphi/sindri), make the CLI executable (chmod +x cli/sindri), initialize configuration (sindri config init), edit sindri.yaml, then deploy with 'sindri deploy --provider docker'. In v3, download the pre-built binary for your platform, run 'sindri config init' to generate configuration, then 'sindri deploy'. The v3 process is simpler since there are no external dependencies to install.","versionsApplicable":["v2","v3"],"versionSpecifics":{"v2":{"command":"git clone https://github.com/pacphi/sindri && chmod +x cli/sindri && ./v2/cli/sindri deploy","notes":"Requires git clone of entire repository"},"v3":{"command":"sindri config init && sindri deploy","notes":"Download binary, no git clone needed"}},"tags":["quickstart","tutorial","beginner"],"docs":["docs/QUICKSTART.md","v3/docs/QUICKSTART.md"],"personas":["individual-developer","small-team"],"useCases":["local-development"],"difficulty":"beginner","relatedQuestions":[],"keywords":["quickstart","tutorial","beginner"],"dateAdded":"2024-12-01","dateUpdated":"2024-12-01","popularity":0,"upvotes":0},{"id":"first-deploy","category":"getting-started","question":"What happens during my first deployment?","answer":"During first deployment, Sindri validates your configuration, builds or pulls the Docker image, deploys using the provider-specific adapter (Docker Compose, flyctl, or devpod), initializes the persistent volume with the home directory structure, sets up SSH authorized keys, configures Git user settings, and starts the SSH daemon (unless in CI mode). In v2, this uses bash adapter scripts. In v3, the Rust binary handles orchestration with async operations for faster execution.","versionsApplicable":["v2","v3"],"versionSpecifics":{"v2":{"command":"./v2/cli/sindri deploy","notes":"Bash adapter scripts in deploy/adapters/"},"v3":{"command":"sindri deploy","notes":"Rust async orchestration with Tokio runtime"}},"tags":["deploy","first-time","initialization"],"docs":["v2/docs/DEPLOYMENT.md"],"personas":["individual-developer","small-team"],"useCases":["local-development"],"difficulty":"beginner","relatedQuestions":[],"keywords":["deploy","first-time","initialization"],"dateAdded":"2024-12-01","dateUpdated":"2024-12-01","popularity":0,"upvotes":0},{"id":"supported-providers","category":"getting-started","question":"Which cloud providers does Sindri support?","answer":"Both v2 and v3 support Docker (local), Fly.io (cloud with auto-suspend), DevPod (IDE-integrated), and E2B (AI sandboxes). DevPod is a meta-provider supporting Docker, AWS EC2, GCP Compute, Azure VMs, DigitalOcean, Kubernetes pods, and SSH hosts. V3 additionally adds native local Kubernetes support via kind/k3d clusters and deployment dry-run capability.","versionsApplicable":["v2","v3"],"versionSpecifics":{"v2":{"notes":"4 providers: Docker, Fly.io, DevPod, E2B"},"v3":{"notes":"5 providers: Docker, Fly.io, DevPod, E2B, local Kubernetes (kind/k3d)"}},"tags":["providers","cloud","deployment"],"docs":["v2/docs/DEPLOYMENT.md","v2/docs/providers/"],"personas":["individual-developer","small-team","platform-engineer"],"useCases":["local-development","cloud-deployment","multi-cloud"],"difficulty":"beginner","relatedQuestions":[],"keywords":["providers","cloud","deployment"],"dateAdded":"2024-12-01","dateUpdated":"2024-12-01","popularity":0,"upvotes":0},{"id":"what-is-e2b","category":"getting-started","question":"What is E2B and when should I use it?","answer":"E2B is a cloud platform optimized for AI-generated code execution with ultra-fast startup times (~150ms). It's best for AI agent code execution, rapid prototyping, CI/CD testing with ephemeral environments, and remote work through corporate firewalls (uses WebSocket over HTTPS instead of SSH). Unlike traditional providers, E2B uses pause/resume snapshots instead of persistent volumes, with per-second billing that can significantly reduce costs. Use Docker for local development, Fly.io for GPU workloads or long-running servers, DevPod for VS Code integration, and E2B for AI sandboxes requiring fast iteration.","versionsApplicable":["v2","v3"],"versionSpecifics":{"v2":{"command":"./v2/cli/sindri deploy --provider e2b","notes":"E2B provider via bash adapter"},"v3":{"command":"sindri deploy --provider e2b","notes":"E2B provider with enhanced async operations"}},"tags":["e2b","overview","providers","cloud","ai"],"docs":["v2/docs/providers/E2B.md","v2/docs/DEPLOYMENT.md"],"personas":["individual-developer","small-team","ai-ml-researcher"],"useCases":["ai-agent-development","cloud-deployment"],"difficulty":"intermediate","relatedQuestions":[],"keywords":["e2b","overview","providers","cloud","ai"],"dateAdded":"2024-12-01","dateUpdated":"2024-12-01","popularity":0,"upvotes":0},{"id":"config-init","category":"configuration","question":"How do I create a sindri.yaml configuration file?","answer":"Run 'sindri config init' to generate a template sindri.yaml with sensible defaults. This creates a file with version, name, deployment settings (provider, resources, volumes), extensions configuration, and provider-specific options. You can then customize it for your needs. Always validate with 'sindri config validate' after making changes. Both v2 and v3 use the same command, though v3 config parsing is 10-20x faster with native YAML handling.","versionsApplicable":["v2","v3"],"versionSpecifics":{"v2":{"command":"./v2/cli/sindri config init","notes":"Uses yq for YAML processing"},"v3":{"command":"sindri config init","notes":"Native serde_yaml parsing, 10-20x faster"}},"tags":["config","yaml","setup"],"docs":["docs/CONFIGURATION.md","docs/CLI.md"],"personas":["individual-developer","small-team","platform-engineer"],"useCases":["local-development"],"difficulty":"beginner","relatedQuestions":[],"keywords":["config","yaml","setup"],"dateAdded":"2024-12-01","dateUpdated":"2024-12-01","popularity":0,"upvotes":0},{"id":"config-validation","category":"configuration","question":"How do I validate my sindri.yaml configuration?","answer":"Run 'sindri config validate' to validate your configuration against the JSON schema. This checks for required fields, correct types, valid provider names, and proper structure. In v2, the schema is located at docker/lib/schemas/sindri.schema.json and uses python3-jsonschema. In v3, schema validation uses the native jsonschema Rust crate for 10-20x faster validation with type-safe error messages. Exit code 0 means valid, exit code 1 means validation failed.","versionsApplicable":["v2","v3"],"versionSpecifics":{"v2":{"command":"./v2/cli/sindri config validate","notes":"Uses python3-jsonschema for validation"},"v3":{"command":"sindri config validate","notes":"Native Rust jsonschema crate, compile-time type safety"}},"tags":["validation","schema","config"],"docs":["docs/CONFIGURATION.md","v2/docs/SCHEMA.md"],"personas":["individual-developer","small-team","platform-engineer"],"useCases":["local-development"],"difficulty":"intermediate","relatedQuestions":[],"keywords":["validation","schema","config"],"dateAdded":"2024-12-01","dateUpdated":"2024-12-01","popularity":0,"upvotes":0},{"id":"profiles-vs-extensions","category":"configuration","question":"What's the difference between profiles and individual extensions?","answer":"Profiles are pre-configured bundles of extensions for common workflows (e.g., 'fullstack' includes nodejs, python, docker, nodejs-devtools). Individual extensions let you pick exactly what you need. You can use a profile as a base and add additional extensions on top. In sindri.yaml, use 'extensions.profile' for a bundle or 'extensions.active' for individual selections. Both v2 and v3 support profiles, though v3 adds version pinning with '@version' syntax and enhanced dependency resolution.","versionsApplicable":["v2","v3"],"versionSpecifics":{"v2":{"notes":"8 profiles, basic dependency resolution"},"v3":{"notes":"8 updated profiles, parallel DAG dependency resolution, version pinning"}},"tags":["profiles","extensions","bundles"],"docs":["docs/EXTENSIONS.md","docs/CONFIGURATION.md"],"personas":["individual-developer","small-team"],"useCases":["local-development"],"difficulty":"intermediate","relatedQuestions":[],"keywords":["profiles","extensions","bundles"],"dateAdded":"2024-12-01","dateUpdated":"2024-12-01","popularity":0,"upvotes":0},{"id":"available-profiles","category":"configuration","question":"What extension profiles are available?","answer":"Sindri v2 includes 12 extension profiles: minimal, fullstack, ai-dev, anthropic-dev, systems, enterprise, devops, mobile, and 4 VisionFlow profiles (visionflow-core, visionflow-data-scientist, visionflow-creative, visionflow-full). V3 includes 8 profiles with updated defaults but does not include the VisionFlow profiles, which are v2-only. Both versions share the core profiles like minimal, fullstack, ai-dev, and enterprise.","versionsApplicable":["v2","v3"],"versionSpecifics":{"v2":{"notes":"12 profiles including 4 VisionFlow profiles with 77 total extensions"},"v3":{"notes":"8 profiles with 48 extensions, no VisionFlow profiles"}},"tags":["profiles","list","options"],"docs":["docs/EXTENSIONS.md","docker/lib/profiles.yaml"],"personas":["individual-developer","small-team"],"useCases":["local-development"],"difficulty":"beginner","relatedQuestions":[],"keywords":["profiles","list","options"],"dateAdded":"2024-12-01","dateUpdated":"2024-12-01","popularity":0,"upvotes":0},{"id":"resource-allocation","category":"configuration","question":"How do I configure memory and CPU resources?","answer":"In sindri.yaml, set deployment.resources.memory (e.g., '2GB', '4GB') and deployment.resources.cpus (e.g., 1, 2). For Fly.io, memory tiers map to specific VM sizes: 1GB (~$5-10/mo), 2GB (~$10-15/mo), 4GB (~$30-40/mo). You can also set cpuKind to 'shared' (cheaper) or 'performance' (dedicated CPU) for Fly.io. This configuration is identical in both v2 and v3.","versionsApplicable":["v2","v3"],"versionSpecifics":{"v2":{"notes":"Configuration parsed with yq"},"v3":{"notes":"Configuration parsed natively with structured GPU config support"}},"tags":["resources","memory","cpu","sizing"],"docs":["docs/CONFIGURATION.md"],"personas":["individual-developer","small-team","platform-engineer"],"useCases":["local-development","cloud-deployment"],"difficulty":"intermediate","relatedQuestions":[],"keywords":["resources","memory","cpu","sizing"],"dateAdded":"2024-12-01","dateUpdated":"2024-12-01","popularity":0,"upvotes":0},{"id":"volume-size","category":"configuration","question":"How do I configure persistent volume size?","answer":"Set deployment.volumes.workspace.size in sindri.yaml (e.g., '10GB', '30GB', '100GB'). This is the persistent storage for your home directory, workspace, and installed tools. For Fly.io, costs are approximately $1.50/month for 10GB, $4.50/month for 30GB, and $15/month for 100GB. The volume persists across container restarts. This configuration is identical in both v2 and v3.","versionsApplicable":["v2","v3"],"versionSpecifics":{"v2":{"notes":"Volume configuration via sindri.yaml"},"v3":{"notes":"Volume configuration via sindri.yaml with validation"}},"tags":["volumes","storage","persistence"],"docs":["docs/CONFIGURATION.md"],"personas":["individual-developer","small-team","platform-engineer"],"useCases":["local-development","cloud-deployment"],"difficulty":"intermediate","relatedQuestions":[],"keywords":["volumes","storage","persistence"],"dateAdded":"2024-12-01","dateUpdated":"2024-12-01","popularity":0,"upvotes":0},{"id":"backup-profiles","category":"configuration","question":"What backup profiles are available and which should I use?","answer":"Three profiles: 'user-data' (100MB-1GB, includes projects/, scripts/, .claude/, .ssh/host_keys/ - use for migrating to new instances), 'standard' (adds shell configs like .bashrc, .gitconfig, app configs - recommended default), and 'full' (largest, includes all configs and .local/bin/ but excludes caches and regenerable mise installs - use for complete disaster recovery). Never backup .cache/, mise installs (regenerable), or system markers (.initialized, bootstrap.yaml) as these break fresh deployments. Use 'sindri restore --mode safe' (default, never overwrites) or '--mode merge' (backs up conflicts before restoring).","versionsApplicable":["v2","v3"],"versionSpecifics":{"v2":{"command":"./v2/cli/sindri backup","notes":"Bash-based backup with profile selection"},"v3":{"command":"sindri backup","notes":"Rust-based backup via sindri-backup crate"}},"tags":["backup","profiles","configuration","restore"],"docs":["docs/BACKUP_RESTORE.md","docs/CONFIGURATION.md"],"personas":["individual-developer","small-team","platform-engineer"],"useCases":["local-development","cloud-deployment"],"difficulty":"intermediate","relatedQuestions":[],"keywords":["backup","profiles","configuration","restore"],"dateAdded":"2024-12-01","dateUpdated":"2024-12-01","popularity":0,"upvotes":0},{"id":"deploy-idempotent","category":"deployment","question":"Is 'sindri deploy' idempotent? Can I re-run it after making changes?","answer":"Yes, sindri deploy is designed to be re-runnable. Fly.io is most idempotent (~95%) with explicit checks for existing resources. Docker relies on docker-compose idempotency (~70%). DevPod delegates to its CLI (~60%). You can edit sindri.yaml and re-deploy to apply configuration changes like memory, CPU, or profile. Use '--skip-build' for faster iteration when you don't need image rebuilds. This behavior is consistent across v2 and v3.","versionsApplicable":["v2","v3"],"versionSpecifics":{"v2":{"command":"./v2/cli/sindri deploy --skip-build","notes":"Bash adapter idempotency"},"v3":{"command":"sindri deploy --skip-build","notes":"Enhanced idempotency with dry-run support"}},"tags":["idempotent","redeploy","update","changes"],"docs":["v2/docs/DEPLOYMENT.md"],"personas":["individual-developer","small-team"],"useCases":["local-development","cloud-deployment"],"difficulty":"intermediate","relatedQuestions":[],"keywords":["idempotent","redeploy","update","changes"],"dateAdded":"2024-12-01","dateUpdated":"2024-12-01","popularity":0,"upvotes":0},{"id":"deploy-docker","category":"deployment","question":"How do I deploy to local Docker?","answer":"Run 'sindri deploy --provider docker' or set 'deployment.provider: docker' in sindri.yaml. This generates a docker-compose.yml and runs 'docker compose up -d'. Connect with 'sindri connect' or 'docker exec'. Docker is ideal for local development, testing, offline work, and zero-cost environments. Both v2 and v3 support Docker deployment with equivalent functionality.","versionsApplicable":["v2","v3"],"versionSpecifics":{"v2":{"command":"./v2/cli/sindri deploy --provider docker","notes":"Bash docker-adapter.sh generates docker-compose.yml"},"v3":{"command":"sindri deploy --provider docker","notes":"Rust Docker provider, ~800MB image (vs ~2.5GB in v2)"}},"tags":["docker","local","compose"],"docs":["v2/docs/providers/DOCKER.md"],"personas":["individual-developer","small-team"],"useCases":["local-development"],"difficulty":"beginner","relatedQuestions":[],"keywords":["docker","local","compose"],"dateAdded":"2024-12-01","dateUpdated":"2024-12-01","popularity":0,"upvotes":0},{"id":"deploy-fly","category":"deployment","question":"How do I deploy to Fly.io?","answer":"First authenticate with 'flyctl auth login'. Then run 'sindri deploy --provider fly' or set 'deployment.provider: fly' in sindri.yaml. Configure region, organization, SSH port, and auto-suspend options under providers.fly. Fly.io is great for remote access, cost-optimized cloud deployment, and auto-suspend/resume capabilities. Both v2 and v3 support Fly.io with equivalent core functionality.","versionsApplicable":["v2","v3"],"versionSpecifics":{"v2":{"command":"./v2/cli/sindri deploy --provider fly","notes":"Bash fly-adapter.sh generates fly.toml"},"v3":{"command":"sindri deploy --provider fly","notes":"Rust Fly.io provider with async operations"}},"tags":["fly","flyio","cloud"],"docs":["v2/docs/providers/FLY.md"],"personas":["small-team","platform-engineer"],"useCases":["cloud-deployment"],"difficulty":"intermediate","relatedQuestions":[],"keywords":["fly","flyio","cloud"],"dateAdded":"2024-12-01","dateUpdated":"2024-12-01","popularity":0,"upvotes":0},{"id":"deploy-devpod","category":"deployment","question":"How do I deploy with DevPod?","answer":"Run 'sindri deploy --provider devpod' to generate a devcontainer.json. DevPod supports multiple backends via the 'type' field: docker (local), aws, gcp, azure, digitalocean, kubernetes, or ssh. For VS Code integration, open the folder and use 'Dev Containers: Open Folder in Container'. DevPod is ideal for IDE integration and multi-cloud deployments. Both v2 and v3 support DevPod with equivalent core functionality.","versionsApplicable":["v2","v3"],"versionSpecifics":{"v2":{"command":"./v2/cli/sindri deploy --provider devpod","notes":"Bash devpod-adapter.sh generates devcontainer.json"},"v3":{"command":"sindri deploy --provider devpod","notes":"Rust DevPod provider with enhanced configuration"}},"tags":["devpod","devcontainer","vscode"],"docs":["v2/docs/providers/DEVPOD.md"],"personas":["individual-developer","small-team","platform-engineer"],"useCases":["multi-cloud"],"difficulty":"intermediate","relatedQuestions":[],"keywords":["devpod","devcontainer","vscode"],"dateAdded":"2024-12-01","dateUpdated":"2024-12-01","popularity":0,"upvotes":0},{"id":"deploy-kubernetes","category":"deployment","question":"How do I deploy to Kubernetes?","answer":"In v2, Kubernetes deployment uses DevPod with 'type: kubernetes'. Set 'deployment.provider: devpod' and configure 'providers.devpod.type: kubernetes' with namespace and storageClass options. In v3, there is additionally native local Kubernetes support via kind and k3d clusters. For remote clusters, provide KUBECONFIG or use the context option. V3 adds dedicated Kubernetes commands through the sindri-clusters crate.","versionsApplicable":["v2","v3"],"versionSpecifics":{"v2":{"command":"./v2/cli/sindri deploy --provider devpod (with type: kubernetes)","notes":"Kubernetes via DevPod only"},"v3":{"command":"sindri deploy --provider kubernetes","notes":"Native kind/k3d support plus DevPod Kubernetes backend"}},"tags":["kubernetes","k8s","pods"],"docs":["v2/docs/providers/KUBERNETES.md"],"personas":["platform-engineer","enterprise"],"useCases":["production-kubernetes"],"difficulty":"advanced","relatedQuestions":[],"keywords":["kubernetes","k8s","pods"],"dateAdded":"2024-12-01","dateUpdated":"2024-12-01","popularity":0,"upvotes":0},{"id":"deploy-e2b","category":"deployment","question":"How do I deploy to E2B?","answer":"First, get an E2B API key from e2b.dev (free tier includes $100 credits) and install the CLI with 'npm install -g @e2b/cli'. Set the environment variable 'export E2B_API_KEY=e2b_...' then run 'sindri deploy --provider e2b' or set 'deployment.provider: e2b' in sindri.yaml. The first deploy builds a template (2-5 minutes), subsequent deploys start in ~150ms. Connect with 'sindri connect' which uses WebSocket PTY instead of SSH. Configure region, timeout, autoPause, and network policies under 'providers.e2b' in sindri.yaml. Both v2 and v3 support E2B.","versionsApplicable":["v2","v3"],"versionSpecifics":{"v2":{"command":"./v2/cli/sindri deploy --provider e2b","notes":"Bash e2b-adapter.sh"},"v3":{"command":"sindri deploy --provider e2b","notes":"Rust E2B provider with async WebSocket handling"}},"tags":["e2b","deploy","setup","cloud"],"docs":["v2/docs/providers/E2B.md","v2/docs/DEPLOYMENT.md","examples/v2/e2b/"],"personas":["individual-developer","small-team","ai-ml-researcher"],"useCases":["ai-agent-development","cloud-deployment"],"difficulty":"intermediate","relatedQuestions":[],"keywords":["e2b","deploy","setup","cloud"],"dateAdded":"2024-12-01","dateUpdated":"2024-12-01","popularity":0,"upvotes":0},{"id":"e2b-pause-resume","category":"deployment","question":"How does E2B pause/resume work?","answer":"E2B uses snapshot-based pause/resume instead of traditional persistent volumes. When idle (default 5 minutes), the sandbox pauses by saving a snapshot of all RAM and disk state. Paused sandboxes have no compute cost, only storage (included in free tier). When you connect, the sandbox auto-resumes from the snapshot. Pause takes approximately 4 seconds per 1GB of RAM. Enable with 'providers.e2b.autoPause: true' and 'autoResume: true'. Important: Paused sandboxes expire 30 days from creation - always push work to git before this deadline.","versionsApplicable":["v2","v3"],"versionSpecifics":{"v2":{"command":"./v2/cli/sindri pause","notes":"E2B pause/resume via bash adapter"},"v3":{"command":"sindri pause","notes":"E2B pause/resume via Rust provider"}},"tags":["e2b","pause","resume","persistence","cost"],"docs":["v2/docs/providers/E2B.md"],"personas":["individual-developer","small-team","ai-ml-researcher"],"useCases":["ai-agent-development","cloud-deployment"],"difficulty":"intermediate","relatedQuestions":[],"keywords":["e2b","pause","resume","persistence","cost"],"dateAdded":"2024-12-01","dateUpdated":"2024-12-01","popularity":0,"upvotes":0},{"id":"e2b-cost","category":"deployment","question":"How much does E2B cost and how do I minimize costs?","answer":"E2B uses per-second billing: 1 vCPU costs ~$0.05/hour, 2 vCPU ~$0.10/hour, RAM costs ~$0.016/GB/hour. Example: 2 vCPU + 2GB RAM for 8 hours/day, 22 days/month is ~$23 without pause, ~$12 with 50% pause time. Minimize costs by: (1) enabling autoPause to eliminate idle compute costs, (2) manually pausing with 'sindri pause' when stepping away, (3) right-sizing resources (start with 1 vCPU, 1GB RAM), (4) using ephemeral mode for testing ('--ephemeral' flag), and (5) monitoring usage in the E2B dashboard with billing alerts.","versionsApplicable":["v2","v3"],"versionSpecifics":{"v2":{"notes":"E2B billing identical across versions"},"v3":{"notes":"E2B billing identical across versions"}},"tags":["e2b","cost","billing","optimization","pricing"],"docs":["v2/docs/providers/E2B.md","docs/CONFIGURATION.md"],"personas":["individual-developer","small-team"],"useCases":["ai-agent-development","cloud-deployment"],"difficulty":"intermediate","relatedQuestions":[],"keywords":["e2b","cost","billing","optimization","pricing"],"dateAdded":"2024-12-01","dateUpdated":"2024-12-01","popularity":0,"upvotes":0},{"id":"e2b-vs-others","category":"deployment","question":"How does E2B differ from Docker, Fly.io, and DevPod?","answer":"E2B specializes in ultra-fast startup (~150ms vs 10-60s for others) and AI code execution. Key differences: E2B uses WebSocket PTY access (works through firewalls) while others use SSH; E2B uses pause/resume snapshots while others use persistent volumes; E2B has per-second billing while Fly.io is hourly; E2B has no GPU support while Fly.io and DevPod do. Choose E2B for AI agent sandboxes and rapid iteration, Docker for local/offline development, Fly.io for GPU workloads and production deployments, and DevPod for VS Code Remote integration. This comparison applies equally to both v2 and v3.","versionsApplicable":["v2","v3"],"versionSpecifics":{"v2":{"notes":"4 providers to compare"},"v3":{"notes":"5 providers to compare (adds native Kubernetes)"}},"tags":["e2b","comparison","providers","docker","fly","devpod"],"docs":["v2/docs/providers/E2B.md","v2/docs/providers/DOCKER.md","v2/docs/providers/FLY.md","v2/docs/providers/DEVPOD.md"],"personas":["individual-developer","small-team","ai-ml-researcher"],"useCases":["local-development","cloud-deployment","ai-agent-development"],"difficulty":"intermediate","relatedQuestions":[],"keywords":["e2b","comparison","providers","docker","fly","devpod"],"dateAdded":"2024-12-01","dateUpdated":"2024-12-01","popularity":0,"upvotes":0},{"id":"e2b-vscode","category":"deployment","question":"Can I use VS Code Remote SSH with E2B?","answer":"No, E2B doesn't support SSH - it uses WebSocket PTY for terminal access instead. For VS Code workflows with E2B, you have three options: (1) use file sync commands 'e2b sandbox files upload/download' to sync files between local and sandbox, (2) run VS Code Server inside the sandbox and access it via public URL with 'publicAccess: true', or (3) use a terminal-only workflow with 'sindri connect'. For native VS Code Remote SSH integration, use DevPod or Fly.io providers instead.","versionsApplicable":["v2","v3"],"versionSpecifics":{"v2":{"notes":"Same E2B limitations in both versions"},"v3":{"notes":"Same E2B limitations in both versions"}},"tags":["e2b","vscode","ssh","ide","limitations"],"docs":["v2/docs/providers/E2B.md"],"personas":["individual-developer","small-team"],"useCases":["ai-agent-development"],"difficulty":"intermediate","relatedQuestions":[],"keywords":["e2b","vscode","ssh","ide","limitations"],"dateAdded":"2024-12-01","dateUpdated":"2024-12-01","popularity":0,"upvotes":0},{"id":"fly-auto-suspend","category":"deployment","question":"How does Fly.io auto-suspend work? Will I save money?","answer":"Enable auto-suspend with 'providers.fly.autoStopMachines: true' and 'autoStartMachines: true'. The machine suspends after ~5 minutes of idle time and automatically resumes when you SSH connect. You only pay for active time, not idle time, which can significantly reduce costs for intermittent development work. This feature works identically in both v2 and v3.","versionsApplicable":["v2","v3"],"versionSpecifics":{"v2":{"notes":"Fly.io auto-suspend via bash adapter"},"v3":{"notes":"Fly.io auto-suspend via Rust provider"}},"tags":["fly","autosuspend","cost","billing"],"docs":["v2/docs/providers/FLY.md","docs/CONFIGURATION.md"],"personas":["small-team","platform-engineer"],"useCases":["cloud-deployment"],"difficulty":"intermediate","relatedQuestions":[],"keywords":["fly","autosuspend","cost","billing"],"dateAdded":"2024-12-01","dateUpdated":"2024-12-01","popularity":0,"upvotes":0},{"id":"connect-environment","category":"deployment","question":"How do I connect to my deployed environment?","answer":"Run 'sindri connect' which auto-detects the provider and opens an SSH session. For Docker, it uses 'docker exec'. For Fly.io, it uses 'flyctl ssh console' or direct SSH. For DevPod, it uses 'devpod ssh'. You land in the workspace directory as the 'developer' user with full environment access. Both v2 and v3 use the same 'sindri connect' command.","versionsApplicable":["v2","v3"],"versionSpecifics":{"v2":{"command":"./v2/cli/sindri connect","notes":"Bash CLI delegates to provider adapter"},"v3":{"command":"sindri connect","notes":"Rust binary with faster connection setup"}},"tags":["connect","ssh","access"],"docs":["docs/CLI.md"],"personas":["individual-developer","small-team"],"useCases":["local-development","cloud-deployment"],"difficulty":"beginner","relatedQuestions":[],"keywords":["connect","ssh","access"],"dateAdded":"2024-12-01","dateUpdated":"2024-12-01","popularity":0,"upvotes":0},{"id":"destroy-environment","category":"deployment","question":"How do I tear down a deployment?","answer":"Run 'sindri destroy' for interactive confirmation or 'sindri destroy --force' to skip confirmation. This stops containers, destroys Fly.io machines and volumes, or removes DevPod workspaces. Warning: This is destructive and removes persistent data. Back up your workspace first if needed. Both v2 and v3 support the same destroy workflow.","versionsApplicable":["v2","v3"],"versionSpecifics":{"v2":{"command":"./v2/cli/sindri destroy --force","notes":"Bash adapter teardown"},"v3":{"command":"sindri destroy --force","notes":"Rust provider teardown with async operations"}},"tags":["destroy","teardown","cleanup"],"docs":["docs/CLI.md","v2/docs/DEPLOYMENT.md"],"personas":["individual-developer","small-team"],"useCases":["local-development","cloud-deployment"],"difficulty":"intermediate","relatedQuestions":[],"keywords":["destroy","teardown","cleanup"],"dateAdded":"2024-12-01","dateUpdated":"2024-12-01","popularity":0,"upvotes":0},{"id":"backup-workspace","category":"deployment","question":"How do I backup my Sindri workspace?","answer":"Run 'sindri backup --output ./backups/' to create a timestamped tarball of your workspace. Choose a backup profile: 'user-data' (projects, scripts, SSH keys - smallest and safest for migration), 'standard' (user-data plus shell/app configs - default), or 'full' (everything except caches - disaster recovery). Use '--dry-run' to preview what will be backed up. Backups work across all providers (Docker, Fly.io, E2B). Upload to S3 with 'sindri backup --s3 s3://bucket/path'. System markers like .initialized are automatically excluded to prevent breaking fresh deployments.","versionsApplicable":["v2","v3"],"versionSpecifics":{"v2":{"command":"./v2/cli/sindri backup --output ./backups/","notes":"Bash-based backup-restore script"},"v3":{"command":"sindri backup --output ./backups/","notes":"Rust sindri-backup crate with S3 integration"}},"tags":["backup","data","migration","disaster-recovery"],"docs":["docs/BACKUP_RESTORE.md","docs/CLI.md"],"personas":["individual-developer","small-team","platform-engineer"],"useCases":["local-development","cloud-deployment"],"difficulty":"intermediate","relatedQuestions":[],"keywords":["backup","data","migration","disaster-recovery"],"dateAdded":"2024-12-01","dateUpdated":"2024-12-01","popularity":0,"upvotes":0},{"id":"extension-install","category":"extensions","question":"How do I install an extension?","answer":"Inside the deployed container, run 'extension-manager install <name>' (e.g., 'extension-manager install nodejs'). Dependencies are automatically resolved and installed in topological order. After installation, run 'source ~/.bashrc' to reload your environment, or reconnect to the container. Both v2 and v3 use extension-manager inside the container, though v3 adds version pinning with '@version' syntax.","versionsApplicable":["v2","v3"],"versionSpecifics":{"v2":{"command":"extension-manager install <name>","notes":"Sequential dependency resolution"},"v3":{"command":"extension-manager install <name>@<version>","notes":"Parallel DAG resolution with version pinning and rollback"}},"tags":["install","extensions","tools"],"docs":["docs/EXTENSIONS.md","docs/CLI.md"],"personas":["individual-developer","small-team"],"useCases":["local-development"],"difficulty":"beginner","relatedQuestions":[],"keywords":["install","extensions","tools"],"dateAdded":"2024-12-01","dateUpdated":"2024-12-01","popularity":0,"upvotes":0},{"id":"extension-install-profile","category":"extensions","question":"How do I install all extensions from a profile?","answer":"Run 'extension-manager install-profile <name>' (e.g., 'extension-manager install-profile fullstack'). This installs all extensions defined in the profile with their dependencies. Available profiles: minimal, fullstack, ai-dev, anthropic-dev, systems, enterprise, devops, mobile. V2 additionally has VisionFlow profiles (visionflow-core, visionflow-data-scientist, visionflow-creative, visionflow-full).","versionsApplicable":["v2","v3"],"versionSpecifics":{"v2":{"command":"extension-manager install-profile <name>","notes":"12 profiles including VisionFlow"},"v3":{"command":"extension-manager install-profile <name>","notes":"8 profiles, parallel installation"}},"tags":["profile","bundle","install"],"docs":["docs/EXTENSIONS.md"],"personas":["individual-developer","small-team"],"useCases":["local-development"],"difficulty":"beginner","relatedQuestions":[],"keywords":["profile","bundle","install"],"dateAdded":"2024-12-01","dateUpdated":"2024-12-01","popularity":0,"upvotes":0},{"id":"extension-list","category":"extensions","question":"How do I see available extensions?","answer":"Run 'extension-manager list' to see all available extensions. Use '--category <name>' to filter by category (language, dev-tools, ai, infrastructure, etc.). Run 'extension-manager list-profiles' to see available profiles, and 'extension-manager list-categories' to see all categories. V2 has 77 extensions across 11 categories; v3 has 48 extensions across 13 categories.","versionsApplicable":["v2","v3"],"versionSpecifics":{"v2":{"command":"extension-manager list","notes":"77 extensions, 11 categories"},"v3":{"command":"extension-manager list","notes":"48 extensions, 13 categories (no VisionFlow)"}},"tags":["list","available","catalog"],"docs":["docs/EXTENSIONS.md","docs/CLI.md"],"personas":["individual-developer","small-team"],"useCases":["local-development"],"difficulty":"beginner","relatedQuestions":[],"keywords":["list","available","catalog"],"dateAdded":"2024-12-01","dateUpdated":"2024-12-01","popularity":0,"upvotes":0},{"id":"extension-validate","category":"extensions","question":"How do I validate that extensions are installed correctly?","answer":"Run 'extension-manager validate <name>' for a single extension or 'extension-manager validate-all' for all installed extensions. Validation runs the extension's defined validation commands and checks expected output patterns. This verifies that tools are properly installed and accessible in PATH. This works identically in both v2 and v3.","versionsApplicable":["v2","v3"],"versionSpecifics":{"v2":{"command":"extension-manager validate <name>","notes":"Bash-based validation"},"v3":{"command":"extension-manager validate <name>","notes":"Enhanced validation with type-safe error reporting"}},"tags":["validate","verify","check"],"docs":["docs/CLI.md"],"personas":["individual-developer","small-team"],"useCases":["local-development"],"difficulty":"intermediate","relatedQuestions":[],"keywords":["validate","verify","check"],"dateAdded":"2024-12-01","dateUpdated":"2024-12-01","popularity":0,"upvotes":0},{"id":"extension-remove","category":"extensions","question":"How do I remove an extension?","answer":"Run 'extension-manager remove <name>'. This executes the extension's removal script, updates the manifest, and cleans up installation artifacts. Some extensions (docker, infra-tools, etc.) require confirmation before removal. Note: Dependent extensions are not automatically removed. This works identically in both v2 and v3.","versionsApplicable":["v2","v3"],"versionSpecifics":{"v2":{"command":"extension-manager remove <name>","notes":"Bash removal scripts"},"v3":{"command":"extension-manager remove <name>","notes":"Rust-based removal with dependency warnings"}},"tags":["remove","uninstall","delete"],"docs":["docs/CLI.md"],"personas":["individual-developer","small-team"],"useCases":["local-development"],"difficulty":"intermediate","relatedQuestions":[],"keywords":["remove","uninstall","delete"],"dateAdded":"2024-12-01","dateUpdated":"2024-12-01","popularity":0,"upvotes":0},{"id":"extension-reinstall","category":"extensions","question":"How do I reinstall an extension?","answer":"Run 'extension-manager reinstall <name>' to remove and reinstall a single extension, or 'extension-manager reinstall-profile <profile>' to reinstall all extensions in a profile. This is useful after deploying an updated Sindri image with new extension definitions, or when troubleshooting broken installations. The reinstall command forces removal without confirmation, clears markers, and performs a fresh install. Works in both v2 and v3.","versionsApplicable":["v2","v3"],"versionSpecifics":{"v2":{"command":"extension-manager reinstall <name>","notes":"Bash reinstall with marker clearing"},"v3":{"command":"extension-manager reinstall <name>","notes":"Rust reinstall with rollback on failure"}},"tags":["reinstall","fix","refresh","update"],"docs":["docs/CLI.md"],"personas":["individual-developer","small-team"],"useCases":["local-development"],"difficulty":"intermediate","relatedQuestions":[],"keywords":["reinstall","fix","refresh","update"],"dateAdded":"2024-12-01","dateUpdated":"2024-12-01","popularity":0,"upvotes":0},{"id":"extension-manager-where","category":"extensions","question":"Can I run extension-manager on my host machine or only inside the container?","answer":"Extension-manager is designed for dual-environment execution. The primary use case is inside the deployed container where tools are actually installed. However, read-only operations like list, validate, info, and search work on the host machine too. For actual installations, run extension-manager inside the container since tools are installed to the persistent volume. This applies to both v2 and v3.","versionsApplicable":["v2","v3"],"versionSpecifics":{"v2":{"notes":"Bash extension-manager script"},"v3":{"notes":"Rust extension-manager binary with same dual-environment support"}},"tags":["host","container","location"],"docs":["docs/CLI.md","v2/docs/ARCHITECTURE.md"],"personas":["individual-developer","small-team"],"useCases":["local-development"],"difficulty":"intermediate","relatedQuestions":[],"keywords":["host","container","location"],"dateAdded":"2024-12-01","dateUpdated":"2024-12-01","popularity":0,"upvotes":0},{"id":"extension-dependencies","category":"extensions","question":"How are extension dependencies handled?","answer":"Dependencies are declared in each extension's YAML file and automatically resolved using topological sort. When you install an extension, all its dependencies are installed first. For example, ai-toolkit depends on nodejs, python, golang, and github-cli, which are all installed automatically. View dependencies with 'extension-manager info <name>'. In v2, resolution is sequential. In v3, resolution uses parallel DAG (Directed Acyclic Graph) for faster installation.","versionsApplicable":["v2","v3"],"versionSpecifics":{"v2":{"notes":"Sequential topological sort dependency resolution"},"v3":{"notes":"Parallel DAG resolution via sindri-extensions crate, 2x faster installs"}},"tags":["dependencies","resolution","automatic"],"docs":["docs/EXTENSIONS.md","docs/EXTENSION_AUTHORING.md"],"personas":["individual-developer","small-team"],"useCases":["local-development"],"difficulty":"intermediate","relatedQuestions":[],"keywords":["dependencies","resolution","automatic"],"dateAdded":"2024-12-01","dateUpdated":"2024-12-01","popularity":0,"upvotes":0},{"id":"create-extension","category":"extensions","question":"How do I create a custom extension?","answer":"Create a directory in docker/lib/extensions/<name>/ with an extension.yaml file. Define metadata (name, version, category), requirements (domains, diskSpace), install method (mise, apt, script, npm, binary, or hybrid), configure section for environment variables, and validate section with verification commands. Add it to docker/lib/registry.yaml and validate with 'extension-manager validate <name>'. Use the comprehensive extension authoring checklist in docs/EXTENSION_AUTHORING.md to ensure completeness. The authoring process is similar in both v2 and v3.","versionsApplicable":["v2","v3"],"versionSpecifics":{"v2":{"notes":"Bash executor.sh interprets extension YAML"},"v3":{"notes":"Rust extension executor with compile-time type checking of YAML"}},"tags":["create","custom","authoring"],"docs":["docs/EXTENSION_AUTHORING.md"],"personas":["individual-developer","small-team","platform-engineer"],"useCases":["local-development"],"difficulty":"advanced","relatedQuestions":[],"keywords":["create","custom","authoring"],"dateAdded":"2024-12-01","dateUpdated":"2024-12-01","popularity":0,"upvotes":0},{"id":"docker-in-docker","category":"extensions","question":"What is Docker-in-Docker and when do I need it?","answer":"Docker-in-Docker (DinD) allows running Docker containers inside your Sindri container. You need DinD for containerized development workflows: building Docker images, running docker-compose for local testing, Kubernetes development with kind/k3d, CI/CD pipelines that build containers, or multi-container integration testing. Sindri supports three DinD modes: sysbox (secure, requires host setup), privileged (works everywhere but less secure), and socket (shares host Docker daemon). Enable with 'providers.docker.dind.enabled: true'. Both v2 and v3 support DinD.","versionsApplicable":["v2","v3"],"versionSpecifics":{"v2":{"notes":"DinD configuration via sindri.yaml"},"v3":{"notes":"DinD configuration via sindri.yaml with security constraint documentation"}},"tags":["docker","dind","containers","development"],"docs":["docs/extensions/DOCKER.md","examples/v2/docker/dind-*.sindri.yaml"],"personas":["individual-developer","small-team","platform-engineer"],"useCases":["local-development"],"difficulty":"advanced","relatedQuestions":[],"keywords":["docker","dind","containers","development"],"dateAdded":"2024-12-01","dateUpdated":"2024-12-01","popularity":0,"upvotes":0},{"id":"dind-modes","category":"extensions","question":"Which DinD mode should I choose?","answer":"Choose based on host access and security needs: Use 'sysbox' (best security and performance with overlay2 storage) if you can install software on the host - run './scripts/setup-sysbox-host.sh' first. Use 'privileged' if you can't modify the host but accept security risks - works everywhere including Fly.io, uses slower vfs storage. Use 'socket' for simple builds when you just need to share the host's Docker daemon - least isolated but native performance. Use 'auto' (recommended) to auto-detect the best available mode. Note: Sysbox requires Linux (not macOS) and isn't available on managed services like Fly.io. In v3, socket mode has no-new-privileges security constraint that blocks sudo/APT.","versionsApplicable":["v2","v3"],"versionSpecifics":{"v2":{"notes":"Three DinD modes: sysbox, privileged, socket"},"v3":{"notes":"Same three modes; socket mode has no-new-privileges constraint blocking sudo"}},"tags":["docker","dind","modes","security","configuration"],"docs":["docs/extensions/DOCKER.md"],"personas":["individual-developer","small-team","platform-engineer"],"useCases":["local-development"],"difficulty":"advanced","relatedQuestions":[],"keywords":["docker","dind","modes","security","configuration"],"dateAdded":"2024-12-01","dateUpdated":"2024-12-01","popularity":0,"upvotes":0},{"id":"dind-sysbox","category":"extensions","question":"How do I set up Sysbox for secure Docker-in-Docker?","answer":"Sysbox must be installed on the HOST machine (not inside Sindri). For local Linux development machines or cloud VMs you control (EC2, GCP Compute, Azure VM), run './scripts/setup-sysbox-host.sh' on the host. This script installs the Sysbox container runtime, configures Docker to use it, and handles kernel compatibility. Verify with 'docker info | grep sysbox-runc'. Then set 'providers.docker.dind.mode: sysbox' in sindri.yaml and deploy. Sysbox is NOT available for Fly.io, managed Kubernetes, macOS, Windows, or CI services you don't control - use privileged mode instead for these environments.","versionsApplicable":["v2","v3"],"versionSpecifics":{"v2":{"notes":"Sysbox setup script included"},"v3":{"notes":"Sysbox setup script included; doctor command can verify Sysbox availability"}},"tags":["docker","sysbox","setup","security","dind"],"docs":["docs/extensions/DOCKER.md","scripts/setup-sysbox-host.sh"],"personas":["platform-engineer","enterprise"],"useCases":["local-development","security-compliance"],"difficulty":"advanced","relatedQuestions":[],"keywords":["docker","sysbox","setup","security","dind"],"dateAdded":"2024-12-01","dateUpdated":"2024-12-01","popularity":0,"upvotes":0},{"id":"python-uv","category":"extensions","question":"What is uv and how do I use it with Python?","answer":"uv is a modern, extremely fast Python package installer and resolver (10-100x faster than pip) included with the Python extension v1.1.0+. Use 'uv pip install <package>' for fast package installation, 'uv venv' to create virtual environments, and 'uvx <package>' to execute packages without installation (like npx for Node.js). uv is installed via mise alongside Python 3.13. It replaces pip for most workflows while maintaining compatibility with requirements.txt and pyproject.toml. Use uv for faster CI/CD builds, large dependency trees, and rapid prototyping. Available in both v2 and v3.","versionsApplicable":["v2","v3"],"versionSpecifics":{"v2":{"notes":"Python extension with uv via mise"},"v3":{"notes":"Python extension with uv via mise, identical configuration"}},"tags":["python","uv","packages","tools","performance"],"docs":["docs/extensions/PYTHON.md"],"personas":["individual-developer","small-team"],"useCases":["local-development"],"difficulty":"intermediate","relatedQuestions":[],"keywords":["python","uv","packages","tools","performance"],"dateAdded":"2024-12-01","dateUpdated":"2024-12-01","popularity":0,"upvotes":0},{"id":"secrets-overview","category":"secrets","question":"How does Sindri handle secrets?","answer":"Sindri provides a unified, declarative secrets management approach. In both v2 and v3, secrets can come from three sources: env (environment variables, .env files), file (certificates, SSH keys mounted into container), or vault (HashiCorp Vault). V3 adds a fourth source: S3 (age-encrypted secrets stored in S3 buckets). Configure secrets in sindri.yaml under the 'secrets' section. Each provider handles secrets using its native mechanisms.","versionsApplicable":["v2","v3"],"versionSpecifics":{"v2":{"notes":"3 secrets sources: env, file, vault"},"v3":{"notes":"4 secrets sources: env, file, vault, S3 (age-encrypted)"}},"tags":["secrets","overview","management"],"docs":["docs/SECRETS_MANAGEMENT.md"],"personas":["enterprise","platform-engineer"],"useCases":["security-compliance"],"difficulty":"intermediate","relatedQuestions":[],"keywords":["secrets","overview","management"],"dateAdded":"2024-12-01","dateUpdated":"2024-12-01","popularity":0,"upvotes":0},{"id":"secrets-env","category":"secrets","question":"How do I use environment variables for secrets?","answer":"Create a .env.local file (gitignored) with your secrets like ANTHROPIC_API_KEY=sk-ant-.... In sindri.yaml, add: secrets: [{name: ANTHROPIC_API_KEY, source: env}]. Sindri resolves secrets in priority order: shell environment, .env.local, .env, then fromFile if specified. Mark secrets as 'required: true' to fail deployment if missing. This works identically in both v2 and v3.","versionsApplicable":["v2","v3"],"versionSpecifics":{"v2":{"notes":"Environment secrets via bash resolution"},"v3":{"notes":"Environment secrets via Rust sindri-secrets crate"}},"tags":["env","environment","dotenv"],"docs":["docs/SECRETS_MANAGEMENT.md"],"personas":["enterprise","platform-engineer"],"useCases":["security-compliance"],"difficulty":"intermediate","relatedQuestions":[],"keywords":["env","environment","dotenv"],"dateAdded":"2024-12-01","dateUpdated":"2024-12-01","popularity":0,"upvotes":0},{"id":"secrets-ssh","category":"secrets","question":"How do I configure SSH keys for container access?","answer":"For SSH INTO the container, use 'fromFile' to read your public key: secrets: [{name: AUTHORIZED_KEYS, source: env, fromFile: ~/.ssh/id_ed25519.pub}]. Your laptop keeps the private key; the container gets the public key. For SSH OUT FROM the container (git clone), mount a deploy private key using source: file with appropriate mountPath and permissions: '0600'. This configuration is identical in both v2 and v3.","versionsApplicable":["v2","v3"],"versionSpecifics":{"v2":{"notes":"SSH key management via secrets config"},"v3":{"notes":"SSH key management via secrets config, identical"}},"tags":["ssh","keys","authentication"],"docs":["docs/SECRETS_MANAGEMENT.md"],"personas":["enterprise","platform-engineer"],"useCases":["security-compliance"],"difficulty":"intermediate","relatedQuestions":[],"keywords":["ssh","keys","authentication"],"dateAdded":"2024-12-01","dateUpdated":"2024-12-01","popularity":0,"upvotes":0},{"id":"secrets-vault","category":"secrets","question":"How do I integrate with HashiCorp Vault?","answer":"Install Vault CLI and configure VAULT_ADDR and VAULT_TOKEN environment variables. In sindri.yaml, use: secrets: [{name: DATABASE_PASSWORD, source: vault, vaultPath: secret/data/myapp/prod, vaultKey: password}]. Sindri retrieves the secret at deploy time and injects it using the provider's native mechanism. Use 'sindri secrets test-vault' to verify connectivity. Both v2 and v3 support Vault integration.","versionsApplicable":["v2","v3"],"versionSpecifics":{"v2":{"command":"./v2/cli/sindri secrets test-vault","notes":"Vault integration via bash secrets-manager"},"v3":{"command":"sindri secrets test-vault","notes":"Vault integration via Rust sindri-secrets crate"}},"tags":["vault","hashicorp","enterprise"],"docs":["docs/SECRETS_MANAGEMENT.md"],"personas":["enterprise","platform-engineer"],"useCases":["security-compliance"],"difficulty":"advanced","relatedQuestions":[],"keywords":["vault","hashicorp","enterprise"],"dateAdded":"2024-12-01","dateUpdated":"2024-12-01","popularity":0,"upvotes":0},{"id":"secrets-validate","category":"secrets","question":"How do I validate my secrets configuration?","answer":"Run 'sindri secrets validate' to check all configured secrets. It verifies that env secrets exist in .env files or environment, file secrets exist at specified paths, and vault secrets are retrievable. Output shows status for each secret with helpful hints for missing ones. Both v2 and v3 support secrets validation.","versionsApplicable":["v2","v3"],"versionSpecifics":{"v2":{"command":"./v2/cli/sindri secrets validate","notes":"Bash-based secrets validation"},"v3":{"command":"sindri secrets validate","notes":"Rust-based secrets validation with S3 backend checking"}},"tags":["validate","check","verify"],"docs":["docs/SECRETS_MANAGEMENT.md","docs/CLI.md"],"personas":["enterprise","platform-engineer"],"useCases":["security-compliance"],"difficulty":"intermediate","relatedQuestions":[],"keywords":["validate","check","verify"],"dateAdded":"2024-12-01","dateUpdated":"2024-12-01","popularity":0,"upvotes":0},{"id":"secrets-fly","category":"secrets","question":"How are secrets handled on Fly.io specifically?","answer":"Sindri resolves secrets from configured sources, then runs 'flyctl secrets import' to set them atomically. File secrets are base64-encoded and decoded in the container entrypoint. You can also set secrets manually with 'flyctl secrets set KEY=value -a app-name'. Secrets persist across deployments and machine restarts. This process is functionally identical in both v2 and v3.","versionsApplicable":["v2","v3"],"versionSpecifics":{"v2":{"notes":"Fly.io secrets via bash fly-adapter"},"v3":{"notes":"Fly.io secrets via Rust Fly provider"}},"tags":["fly","flyctl","cloud"],"docs":["docs/SECRETS_MANAGEMENT.md","v2/docs/providers/FLY.md"],"personas":["enterprise","platform-engineer"],"useCases":["cloud-deployment","security-compliance"],"difficulty":"intermediate","relatedQuestions":[],"keywords":["fly","flyctl","cloud"],"dateAdded":"2024-12-01","dateUpdated":"2024-12-01","popularity":0,"upvotes":0},{"id":"troubleshoot-yq","category":"troubleshooting","question":"I get 'yq command not found'. How do I fix this?","answer":"Install yq: on macOS use 'brew install yq', on Ubuntu/Debian use 'sudo apt install yq', or manually download from GitHub releases and place in /usr/local/bin. Sindri v2 uses yq for YAML processing. Verify installation with 'yq --version'. Note: This issue is v2-specific. V3 uses native Rust YAML parsing and does not require yq.","versionsApplicable":["v2"],"versionSpecifics":{"v2":{"notes":"V2 requires yq as external dependency; v3 has no such requirement"}},"tags":["yq","install","missing"],"docs":["docs/TROUBLESHOOTING.md"],"personas":["individual-developer","small-team"],"useCases":["local-development"],"difficulty":"beginner","relatedQuestions":[],"keywords":["yq","install","missing"],"dateAdded":"2024-12-01","dateUpdated":"2024-12-01","popularity":0,"upvotes":0},{"id":"troubleshoot-docker","category":"troubleshooting","question":"I get 'Cannot connect to Docker daemon'. What's wrong?","answer":"Docker isn't running. On macOS, open Docker Desktop application. On Linux, run 'sudo systemctl start docker'. If you get permission errors, add your user to the docker group: 'sudo usermod -aG docker $USER' then logout/login or run 'newgrp docker'. This troubleshooting applies to both v2 and v3 since both require Docker for container deployments.","versionsApplicable":["v2","v3"],"versionSpecifics":{"v2":{"notes":"Docker required for all deployments"},"v3":{"command":"sindri doctor","notes":"Run 'sindri doctor' to auto-diagnose Docker issues"}},"tags":["docker","daemon","permission"],"docs":["docs/TROUBLESHOOTING.md"],"personas":["individual-developer","small-team"],"useCases":["local-development"],"difficulty":"beginner","relatedQuestions":[],"keywords":["docker","daemon","permission"],"dateAdded":"2024-12-01","dateUpdated":"2024-12-01","popularity":0,"upvotes":0},{"id":"troubleshoot-extension","category":"troubleshooting","question":"An extension installation failed. How do I debug it?","answer":"Check the installation log at /workspace/.system/logs/<extension>-install.log. Run 'extension-manager validate <extension>' to see what's failing. Common causes: insufficient disk space (check with 'df -h /workspace'), missing dependencies (run 'extension-manager show <extension>'), or network issues (test DNS with 'ping registry.npmjs.org'). This troubleshooting process applies to both v2 and v3.","versionsApplicable":["v2","v3"],"versionSpecifics":{"v2":{"notes":"Extension logs at /workspace/.system/logs/"},"v3":{"notes":"Extension logs at /workspace/.system/logs/ with enhanced error messages"}},"tags":["extension","failed","debug","logs"],"docs":["docs/TROUBLESHOOTING.md"],"personas":["individual-developer","small-team"],"useCases":["local-development"],"difficulty":"intermediate","relatedQuestions":[],"keywords":["extension","failed","debug","logs"],"dateAdded":"2024-12-01","dateUpdated":"2024-12-01","popularity":0,"upvotes":0},{"id":"troubleshoot-command-not-found","category":"troubleshooting","question":"After installing an extension, the command is not found. Why?","answer":"Your shell environment needs to be reloaded. Run 'source ~/.bashrc' to reload PATH and environment variables. Alternatively, disconnect and reconnect to the container. For mise-managed tools, ensure mise is activated with 'eval \"$(mise activate bash)\"'. You can also run 'mise reshim' to regenerate shims. This applies to both v2 and v3.","versionsApplicable":["v2","v3"],"versionSpecifics":{"v2":{"notes":"PATH reload needed after extension install"},"v3":{"notes":"PATH reload needed after extension install"}},"tags":["path","command","bashrc","reload"],"docs":["docs/TROUBLESHOOTING.md"],"personas":["individual-developer","small-team"],"useCases":["local-development"],"difficulty":"beginner","relatedQuestions":[],"keywords":["path","command","bashrc","reload"],"dateAdded":"2024-12-01","dateUpdated":"2024-12-01","popularity":0,"upvotes":0},{"id":"troubleshoot-ssh-refused","category":"troubleshooting","question":"SSH connection refused on Fly.io. What should I check?","answer":"The machine might be suspended (auto-stop). Check status with 'flyctl status -a <app>' and 'flyctl machine list -a <app>'. If suspended, either wait for auto-start on connection attempt (10-20 seconds) or manually start with 'flyctl machine start <machine-id> -a <app>'. Also verify your SSH key is authorized. This troubleshooting applies to both v2 and v3 Fly.io deployments.","versionsApplicable":["v2","v3"],"versionSpecifics":{"v2":{"notes":"Fly.io SSH troubleshooting"},"v3":{"command":"sindri status","notes":"Use 'sindri status' or 'sindri doctor' for diagnostics"}},"tags":["ssh","fly","connection","refused"],"docs":["docs/TROUBLESHOOTING.md","v2/docs/providers/FLY.md"],"personas":["individual-developer","small-team"],"useCases":["cloud-deployment"],"difficulty":"intermediate","relatedQuestions":[],"keywords":["ssh","fly","connection","refused"],"dateAdded":"2024-12-01","dateUpdated":"2024-12-01","popularity":0,"upvotes":0},{"id":"troubleshoot-permission-denied","category":"troubleshooting","question":"I get 'Permission denied' in /workspace. How do I fix it?","answer":"The workspace should be owned by the 'developer' user (uid 1001). Check ownership with 'ls -la /workspace'. Fix with 'chown -R developer:developer /workspace' (run as root in container). This can happen if the volume was created with wrong permissions. Rebuilding the volume also fixes this. This troubleshooting applies to both v2 and v3.","versionsApplicable":["v2","v3"],"versionSpecifics":{"v2":{"notes":"Permission fix via manual chown"},"v3":{"notes":"Permission fix via manual chown or 'sindri doctor --fix'"}},"tags":["permission","ownership","workspace"],"docs":["docs/TROUBLESHOOTING.md"],"personas":["individual-developer","small-team"],"useCases":["local-development"],"difficulty":"intermediate","relatedQuestions":[],"keywords":["permission","ownership","workspace"],"dateAdded":"2024-12-01","dateUpdated":"2024-12-01","popularity":0,"upvotes":0},{"id":"troubleshoot-out-of-memory","category":"troubleshooting","question":"My container keeps getting killed (OOM). What do I do?","answer":"Increase memory in sindri.yaml under deployment.resources.memory (e.g., from '2GB' to '4GB'). Then redeploy with 'sindri deploy'. Monitor usage with 'free -h' or 'docker stats'. For Fly.io, larger memory tiers use bigger VM sizes. Consider using the 'minimal' profile if running many tools isn't needed. This applies to both v2 and v3.","versionsApplicable":["v2","v3"],"versionSpecifics":{"v2":{"notes":"Memory adjustment via sindri.yaml and redeploy"},"v3":{"notes":"Memory adjustment via sindri.yaml and redeploy; v3 image is 68% smaller"}},"tags":["oom","memory","killed","resources"],"docs":["docs/TROUBLESHOOTING.md","docs/CONFIGURATION.md"],"personas":["individual-developer","small-team"],"useCases":["local-development","cloud-deployment"],"difficulty":"intermediate","relatedQuestions":[],"keywords":["oom","memory","killed","resources"],"dateAdded":"2024-12-01","dateUpdated":"2024-12-01","popularity":0,"upvotes":0},{"id":"e2b-retention","category":"troubleshooting","question":"What happens if I lose my paused E2B sandbox?","answer":"Paused E2B sandboxes expire 30 days after initial creation. After expiration, all data is permanently lost. To prevent data loss: (1) always commit and push work to git regularly, (2) check sandbox status with 'sindri status', (3) use 'sindri backup' for critical data before the 30-day window expires, and (4) never rely on paused state as your only backup. If you need longer-term persistence, use Fly.io or Docker with persistent volumes instead. The 30-day retention is a fundamental E2B platform limitation. This applies to both v2 and v3.","versionsApplicable":["v2","v3"],"versionSpecifics":{"v2":{"notes":"E2B 30-day retention limit"},"v3":{"notes":"E2B 30-day retention limit, same as v2"}},"tags":["e2b","retention","data-loss","troubleshooting","backup"],"docs":["v2/docs/providers/E2B.md","docs/TROUBLESHOOTING.md"],"personas":["individual-developer","small-team","ai-ml-researcher"],"useCases":["ai-agent-development"],"difficulty":"intermediate","relatedQuestions":[],"keywords":["e2b","retention","data-loss","troubleshooting","backup"],"dateAdded":"2024-12-01","dateUpdated":"2024-12-01","popularity":0,"upvotes":0},{"id":"troubleshoot-npm-timeout","category":"troubleshooting","question":"How does Sindri handle npm package installations?","answer":"Sindri uses pnpm as the default package manager for all npm: backend packages (configured globally in mise-config). This provides faster installations, better disk efficiency through content-addressable storage, and built-in security features. The nodejs extension bootstraps pnpm via npm, then mise automatically uses pnpm for all package installations. All packages use pinned versions (e.g., typescript=5.9, eslint=9) for reliable, reproducible installations without registry queries. This applies to both v2 and v3.","versionsApplicable":["v2","v3"],"versionSpecifics":{"v2":{"notes":"pnpm via mise-config for npm packages"},"v3":{"notes":"pnpm via mise-config for npm packages, identical"}},"tags":["pnpm","npm","package-manager","extension","mise","performance"],"docs":["docs/extensions/NODEJS.md","docs/extensions/NODEJS-DEVTOOLS.md"],"personas":["individual-developer","small-team"],"useCases":["local-development"],"difficulty":"intermediate","relatedQuestions":[],"keywords":["pnpm","npm","package-manager","extension","mise","performance"],"dateAdded":"2024-12-01","dateUpdated":"2024-12-01","popularity":0,"upvotes":0},{"id":"architecture-volumes","category":"configuration","question":"How does Sindri's volume architecture work?","answer":"Sindri uses a two-tier filesystem. Immutable system files in /docker/lib are baked into the image (extensions, schemas, scripts). The mutable home directory at /alt/home/developer is a persistent volume mount that IS $HOME. It contains workspace/, .local/, .config/, .cache/, and all user data. This survives container restarts and contains all installed tools. This architecture is consistent across both v2 and v3.","versionsApplicable":["v2","v3"],"versionSpecifics":{"v2":{"notes":"~2.5GB Docker image with two-tier filesystem"},"v3":{"notes":"~800MB Docker image (68% smaller) with same two-tier filesystem"}},"tags":["volumes","filesystem","persistence","home"],"docs":["v2/docs/ARCHITECTURE.md","CLAUDE.md"],"personas":["platform-engineer","enterprise"],"useCases":["local-development"],"difficulty":"advanced","relatedQuestions":[],"keywords":["volumes","filesystem","persistence","home"],"dateAdded":"2024-12-01","dateUpdated":"2024-12-01","popularity":0,"upvotes":0},{"id":"architecture-home","category":"configuration","question":"Why is $HOME at /alt/home/developer instead of /home/developer?","answer":"The /alt/home/developer path is the persistent volume mount point. By making this $HOME, everything the user creates (configs, tools, projects) persists across container restarts. The 'alt' prefix avoids conflicts with the default /home directory that might be created by the base image. This is a key design decision for data persistence. This path is the same in both v2 and v3.","versionsApplicable":["v2","v3"],"versionSpecifics":{"v2":{"notes":"Persistent $HOME at /alt/home/developer"},"v3":{"notes":"Same persistent $HOME at /alt/home/developer"}},"tags":["home","path","persistence"],"docs":["v2/docs/ARCHITECTURE.md","CLAUDE.md"],"personas":["platform-engineer","enterprise"],"useCases":["local-development"],"difficulty":"advanced","relatedQuestions":[],"keywords":["home","path","persistence"],"dateAdded":"2024-12-01","dateUpdated":"2024-12-01","popularity":0,"upvotes":0},{"id":"architecture-entrypoint","category":"configuration","question":"What happens when the container starts (entrypoint)?","answer":"The entrypoint.sh script runs as root and: initializes the home directory structure on first boot, sets correct ownership for the developer user, configures SSH authorized keys from AUTHORIZED_KEYS env var, configures Git user from GIT_USER_NAME and GIT_USER_EMAIL, then starts the SSH daemon on port 2222 (unless CI_MODE=true, which uses 'sleep infinity' instead). This entrypoint behavior is consistent across v2 and v3 Docker images.","versionsApplicable":["v2","v3"],"versionSpecifics":{"v2":{"notes":"Bash entrypoint.sh script"},"v3":{"notes":"Bash entrypoint.sh script (container-side), orchestrated by Rust CLI"}},"tags":["entrypoint","startup","initialization"],"docs":["v2/docs/ARCHITECTURE.md","v2/docker/scripts/entrypoint.sh"],"personas":["platform-engineer","enterprise"],"useCases":["local-development"],"difficulty":"advanced","relatedQuestions":[],"keywords":["entrypoint","startup","initialization"],"dateAdded":"2024-12-01","dateUpdated":"2024-12-01","popularity":0,"upvotes":0},{"id":"architecture-mise","category":"configuration","question":"What is mise and why does Sindri use it?","answer":"Mise (formerly rtx) is a unified tool version manager that replaces asdf, nvm, pyenv, etc. Sindri uses mise because it's fast, supports many tools, and stores everything in the user's home directory (persistent volume). Tools installed via mise go to $HOME/.local/share/mise/, making them persist across container restarts. Extensions declare mise.toml configurations for tool installation. Both v2 and v3 use mise identically for tool management.","versionsApplicable":["v2","v3"],"versionSpecifics":{"v2":{"notes":"Mise for tool management across all extensions"},"v3":{"notes":"Mise for tool management across all extensions, identical"}},"tags":["mise","tools","version-manager"],"docs":["docs/extensions/MISE-CONFIG.md","v2/docs/ARCHITECTURE.md"],"personas":["platform-engineer","enterprise"],"useCases":["local-development"],"difficulty":"intermediate","relatedQuestions":[],"keywords":["mise","tools","version-manager"],"dateAdded":"2024-12-01","dateUpdated":"2024-12-01","popularity":0,"upvotes":0},{"id":"architecture-adapters","category":"configuration","question":"How do provider adapters work?","answer":"In v2, each provider has a dedicated adapter script in deploy/adapters/ that handles the full lifecycle: deploy, connect, destroy, plan, status. The sindri CLI delegates all operations to these adapters. Docker adapter generates docker-compose.yml, Fly adapter generates fly.toml, DevPod adapter generates devcontainer.json. In v3, adapters are replaced by Rust provider modules in the sindri-providers crate, providing the same encapsulation with type-safe implementations and async execution.","versionsApplicable":["v2","v3"],"versionSpecifics":{"v2":{"notes":"Bash adapter scripts in deploy/adapters/ (~3000 lines)"},"v3":{"notes":"Rust provider modules in sindri-providers crate with async/await"}},"tags":["adapters","providers","architecture"],"docs":["v2/docs/ARCHITECTURE.md","v2/deploy/adapters/"],"personas":["platform-engineer","enterprise"],"useCases":["local-development"],"difficulty":"advanced","relatedQuestions":[],"keywords":["adapters","providers","architecture"],"dateAdded":"2024-12-01","dateUpdated":"2024-12-01","popularity":0,"upvotes":0},{"id":"architecture-extensions-yaml","category":"configuration","question":"Why are extensions YAML files instead of bash scripts?","answer":"YAML-first architecture is a core design principle. Extension definitions are declarative YAML that describe what to install, not how. In v2, the executor.sh module interprets the YAML and executes installation. In v3, a Rust extension executor handles the same with compile-time type safety. This enables validation against JSON schemas, consistent behavior across extensions, easier maintenance, and the ability to add new installation methods without modifying extension files.","versionsApplicable":["v2","v3"],"versionSpecifics":{"v2":{"notes":"Bash executor.sh interprets YAML with 7 install methods"},"v3":{"notes":"Rust executor with 80+ compile-time typed structs for YAML validation"}},"tags":["yaml","declarative","extensions"],"docs":["v2/docs/ARCHITECTURE.md","docs/EXTENSION_AUTHORING.md"],"personas":["platform-engineer","enterprise"],"useCases":["local-development"],"difficulty":"advanced","relatedQuestions":[],"keywords":["yaml","declarative","extensions"],"dateAdded":"2024-12-01","dateUpdated":"2024-12-01","popularity":0,"upvotes":0},{"id":"backup-system-markers","category":"configuration","question":"Why are system markers never restored during backup restore?","answer":"System markers like .initialized and workspace/.system/bootstrap.yaml control first-boot initialization and auto-install behavior. If restored to a new instance, .initialized causes the entrypoint to skip critical setup (missing .bashrc, broken PATH, no home directory structure). If bootstrap.yaml is restored, auto-install thinks extensions are already installed, resulting in missing tools and a broken development environment. The backup-restore tool automatically excludes these markers to ensure fresh deployments initialize correctly. User data (projects, configs, scripts) is always preserved while system state is regenerated. This applies to both v2 and v3.","versionsApplicable":["v2","v3"],"versionSpecifics":{"v2":{"notes":"System marker exclusion in bash backup-restore"},"v3":{"notes":"System marker exclusion in Rust sindri-backup crate"}},"tags":["backup","restore","architecture","system","markers"],"docs":["docs/BACKUP_RESTORE.md","v2/docs/ARCHITECTURE.md"],"personas":["platform-engineer","enterprise"],"useCases":["local-development"],"difficulty":"advanced","relatedQuestions":[],"keywords":["backup","restore","architecture","system","markers"],"dateAdded":"2024-12-01","dateUpdated":"2024-12-01","popularity":0,"upvotes":0},{"id":"agentdb-init","category":"configuration","question":"How is claude-flow AgentDB automatically initialized?","answer":"When creating or cloning a project with claude-flow (v2 or v3) via new-project or clone-project with '--use-claude-flow' or '--use-agentic-qe', Sindri automatically detects and initializes the AgentDB backend for persistent memory storage. After claude-flow initialization, the init-claude-flow-agentdb script runs, which checks for AgentDB support, creates the database directory, configures connection settings, and verifies the backend is functional. This provides claude-flow sessions with automatic memory persistence without manual setup. The AgentDB data is stored in your persistent workspace volume, surviving container restarts. This applies to both v2 and v3.","versionsApplicable":["v2","v3"],"versionSpecifics":{"v2":{"notes":"AgentDB initialization via bash scripts"},"v3":{"notes":"AgentDB initialization with HNSW vector search (150x-12,500x faster)"}},"tags":["claude-flow","claude-flow-v2","claude-flow-v3","agentdb","memory","persistence","automation"],"docs":["docs/PROJECT_MANAGEMENT.md","cli/init-claude-flow-agentdb"],"personas":["individual-developer","small-team","ai-ml-researcher"],"useCases":["ai-agent-development","local-development"],"difficulty":"advanced","relatedQuestions":[],"keywords":["claude-flow","claude-flow-v2","claude-flow-v3","agentdb","memory","persistence","automation"],"dateAdded":"2024-12-01","dateUpdated":"2024-12-01","popularity":0,"upvotes":0},{"id":"cicd-local-testing","category":"deployment","question":"How do I run tests locally before pushing?","answer":"Run tests inside a local container using sindri-test.sh. First build the image with 'pnpm build', then start a container with 'docker run -d --name test -e SKIP_AUTO_INSTALL=true sindri:local'. Run quick tests with 'docker exec test /docker/scripts/sindri-test.sh --level quick', extension tests with '--level extension', or profile tests with '--level profile --profile minimal'. This is the same test script used in CI.","versionsApplicable":["v2"],"versionSpecifics":{"v2":{"command":"docker exec test /docker/scripts/sindri-test.sh --level quick","notes":"V2-specific test harness using bash scripts"}},"tags":["testing","local","docker","sindri-test"],"docs":["docs/CI_WORKFLOW_IN_DEPTH.md","docs/TESTING.md"],"personas":["platform-engineer","enterprise"],"useCases":["local-development","cloud-deployment"],"difficulty":"intermediate","relatedQuestions":[],"keywords":["testing","local","docker","sindri-test"],"dateAdded":"2024-12-01","dateUpdated":"2024-12-01","popularity":0,"upvotes":0},{"id":"cicd-workflows-overview","category":"deployment","question":"What GitHub Actions workflows are available?","answer":"Five main v2 workflows: ci.yml (full CI pipeline - runs on push/PR), v2-test-extensions.yml (test individual v2 extensions from registry), v2-test-profiles.yml (test sindri.yaml configs from examples/), v2-manual-deploy.yml (deploy to any provider on-demand), and v2-deploy-sindri.yml (reusable deployment workflow). Each can be triggered manually via GitHub UI or 'gh workflow run'.","versionsApplicable":["v2"],"versionSpecifics":{"v2":{"notes":"V2-specific GitHub Actions workflows"}},"tags":["workflows","github","actions","overview"],"docs":[".github/workflows/","docs/CI_WORKFLOW_IN_DEPTH.md"],"personas":["platform-engineer","enterprise"],"useCases":["cloud-deployment"],"difficulty":"intermediate","relatedQuestions":[],"keywords":["workflows","github","actions","overview"],"dateAdded":"2024-12-01","dateUpdated":"2024-12-01","popularity":0,"upvotes":0},{"id":"cicd-trigger-workflows","category":"deployment","question":"How do I trigger CI workflows manually with gh CLI?","answer":"Use 'gh workflow run <workflow>.yml' with field flags. Examples: 'gh workflow run ci.yml -f providers=\"docker,fly\" -f test-level=\"quick\"' for quick CI, 'gh workflow run v2-test-extensions.yml -f extensions=\"nodejs,python\"' to test extensions, 'gh workflow run v2-test-profiles.yml -f config-path=\"examples/v2/fly/\"' to test configs. Add '-f skip-cleanup=true' for debugging.","versionsApplicable":["v2"],"versionSpecifics":{"v2":{"command":"gh workflow run ci.yml -f providers=\"docker,fly\"","notes":"V2-specific workflow triggers"}},"tags":["gh","cli","trigger","workflow"],"docs":["docs/CI_WORKFLOW_IN_DEPTH.md"],"personas":["platform-engineer","enterprise"],"useCases":["cloud-deployment"],"difficulty":"intermediate","relatedQuestions":[],"keywords":["gh","cli","trigger","workflow"],"dateAdded":"2024-12-01","dateUpdated":"2024-12-01","popularity":0,"upvotes":0},{"id":"cicd-test-levels","category":"deployment","question":"What are the different test levels in CI?","answer":"Three test levels: 'quick' (10-15s) validates CLI commands work (sindri --version, extension-manager list); 'extension' (45-60s) tests full extension lifecycle (install, validate, remove) with idempotency check; 'profile' (90-120s) tests full profile lifecycle (install-profile, validate-all, remove). All tests run inside the container via /docker/scripts/sindri-test.sh.","versionsApplicable":["v2"],"versionSpecifics":{"v2":{"notes":"V2 test harness with bash sindri-test.sh"}},"tags":["testing","levels","quick","extension","profile"],"docs":["docs/CI_WORKFLOW_IN_DEPTH.md"],"personas":["platform-engineer","enterprise"],"useCases":["cloud-deployment"],"difficulty":"intermediate","relatedQuestions":[],"keywords":["testing","levels","quick","extension","profile"],"dateAdded":"2024-12-01","dateUpdated":"2024-12-01","popularity":0,"upvotes":0},{"id":"cicd-ci-mode","category":"deployment","question":"What is CI_MODE and when should I use it?","answer":"CI_MODE=true disables the SSH daemon and keeps the container alive with 'sleep infinity'. This avoids port conflicts with Fly.io's hallpass (port 22) and is designed for automated testing. CI mode also forces autoInstall=false for clean-slate testing. Access containers via 'flyctl ssh console' (Fly.io) or 'docker exec' (Docker) instead of direct SSH. CI_MODE works in both v2 and v3.","versionsApplicable":["v2","v3"],"versionSpecifics":{"v2":{"notes":"CI_MODE in bash entrypoint"},"v3":{"notes":"CI_MODE in container entrypoint, identical behavior"}},"tags":["ci","mode","testing","automated"],"docs":["docs/CI_WORKFLOW_IN_DEPTH.md","CLAUDE.md"],"personas":["platform-engineer","enterprise"],"useCases":["cloud-deployment"],"difficulty":"intermediate","relatedQuestions":[],"keywords":["ci","mode","testing","automated"],"dateAdded":"2024-12-01","dateUpdated":"2024-12-01","popularity":0,"upvotes":0},{"id":"cicd-validation","category":"deployment","question":"How do I validate YAML and shell scripts?","answer":"Run 'pnpm validate' to run all validation (YAML, shell, markdown). Individual commands: 'pnpm lint:yaml' (yamllint --strict), 'pnpm lint:shell' (shellcheck -S warning), 'pnpm lint:md' (markdownlint). The CI workflow (ci.yml) runs these checks automatically on push/PR. Schema validation happens via validate-yaml.yml workflow.","versionsApplicable":["v2"],"versionSpecifics":{"v2":{"command":"pnpm validate","notes":"V2-specific validation using pnpm scripts"}},"tags":["validation","lint","yaml","shell"],"docs":[".github/workflows/validate-yaml.yml","CLAUDE.md"],"personas":["platform-engineer","enterprise"],"useCases":["local-development"],"difficulty":"intermediate","relatedQuestions":[],"keywords":["validation","lint","yaml","shell"],"dateAdded":"2024-12-01","dateUpdated":"2024-12-01","popularity":0,"upvotes":0},{"id":"cicd-debug-failures","category":"deployment","question":"How do I debug CI test failures?","answer":"Add '-f skip-cleanup=true' when triggering workflows to keep containers running after failure. Use 'gh run view <run-id> --log' to see logs. For Fly.io, SSH in with 'flyctl ssh console -a <app-name>'. Check extension logs at /alt/home/developer/workspace/.system/logs/<extension>-install.log. Use 'gh run watch' to monitor running workflows.","versionsApplicable":["v2"],"versionSpecifics":{"v2":{"notes":"V2-specific CI debugging workflow"}},"tags":["debug","failures","logs","troubleshooting"],"docs":["docs/CI_WORKFLOW_IN_DEPTH.md","docs/TROUBLESHOOTING.md"],"personas":["platform-engineer","enterprise"],"useCases":["cloud-deployment"],"difficulty":"intermediate","relatedQuestions":[],"keywords":["debug","failures","logs","troubleshooting"],"dateAdded":"2024-12-01","dateUpdated":"2024-12-01","popularity":0,"upvotes":0},{"id":"vscode-remote-fly","category":"deployment","question":"How do I connect VS Code to my Fly.io Sindri instance?","answer":"Use the VS Code Remote - SSH extension. First, ensure your AUTHORIZED_KEYS secret is configured with your public key (fromFile: ~/.ssh/id_ed25519.pub). Then add an entry to ~/.ssh/config: 'Host sindri-fly' with 'HostName <app-name>.fly.dev', 'Port 10022', 'User developer', and 'IdentityFile ~/.ssh/id_ed25519'. In VS Code, open Command Palette (Cmd+Shift+P) and select 'Remote-SSH: Connect to Host', then choose 'sindri-fly'. If direct SSH is blocked by firewalls, use 'flyctl proxy 10022:2222 -a <app-name>' and connect to localhost:10022 instead. This works with both v2 and v3 Fly.io deployments.","versionsApplicable":["v2","v3"],"versionSpecifics":{"v2":{"notes":"VS Code SSH to v2 Fly.io deployment"},"v3":{"notes":"VS Code SSH to v3 Fly.io deployment, identical process"}},"tags":["vscode","remote","ssh","fly","ide"],"docs":["v2/docs/providers/FLY.md"],"personas":["individual-developer","small-team"],"useCases":["cloud-deployment"],"difficulty":"intermediate","relatedQuestions":[],"keywords":["vscode","remote","ssh","fly","ide"],"dateAdded":"2024-12-01","dateUpdated":"2024-12-01","popularity":0,"upvotes":0},{"id":"gpu-support","category":"configuration","question":"Does Sindri support GPU-accelerated workloads?","answer":"Yes! Sindri supports GPU configuration across multiple providers (Fly.io, AWS, GCP, Azure, Docker, Kubernetes). Configure GPUs in sindri.yaml under deployment.resources.gpu with properties: enabled (true/false), type (nvidia/amd), count (1-8), tier (gpu-small/medium/large/xlarge), and memory. GPU tiers abstract provider-specific GPU types for easier configuration. Both v2 and v3 support GPU configuration, with v3 providing structured config validation.","versionsApplicable":["v2","v3"],"versionSpecifics":{"v2":{"notes":"GPU configuration via sindri.yaml, partial support"},"v3":{"notes":"GPU configuration via sindri.yaml with structured validation, full support"}},"tags":["gpu","ml","ai","cuda","acceleration"],"docs":["v2/docs/GPU.md","docs/CONFIGURATION.md"],"personas":["individual-developer","small-team","platform-engineer","ai-ml-researcher"],"useCases":["local-development","cloud-deployment"],"difficulty":"advanced","relatedQuestions":[],"keywords":["gpu","ml","ai","cuda","acceleration"],"dateAdded":"2024-12-01","dateUpdated":"2024-12-01","popularity":0,"upvotes":0},{"id":"gpu-tiers","category":"configuration","question":"What GPU tiers are available and what do they map to?","answer":"Four GPU tiers: gpu-small (T4, 8-16GB, $0.50-1.00/hr) for inference and development; gpu-medium (A10G/L4, 16-24GB, $1.00-2.00/hr) for training and inference; gpu-large (A100-40GB/L40S, 40-48GB, $2.50-4.00/hr) for large model training; gpu-xlarge (A100-80GB/H100, 80GB+, $8.00-15.00/hr) for LLM training. Each tier maps to provider-specific GPU types automatically. See docs/GPU.md for complete mappings and cost comparisons. GPU tiers are available in both v2 and v3.","versionsApplicable":["v2","v3"],"versionSpecifics":{"v2":{"notes":"GPU tier mappings via YAML config"},"v3":{"notes":"GPU tier mappings with type-safe validation"}},"tags":["gpu","tiers","pricing","instances"],"docs":["v2/docs/GPU.md"],"personas":["platform-engineer","enterprise","ai-ml-researcher"],"useCases":["cloud-deployment"],"difficulty":"advanced","relatedQuestions":[],"keywords":["gpu","tiers","pricing","instances"],"dateAdded":"2024-12-01","dateUpdated":"2024-12-01","popularity":0,"upvotes":0},{"id":"region-selection","category":"configuration","question":"Which cloud region should I choose for my deployment?","answer":"Choose based on: proximity (lowest latency), GPU availability (us-west-2 for AWS, us-central1-a for GCP, eastus for Azure), and cost (varies by region). Fly.io regions: sjc (US West), iad (US East), lhr (London). AWS best: us-west-2, us-east-1. GCP best: us-central1-a/b. Azure best: eastus, westeurope. Test latency with 'ping compute.us-west-2.amazonaws.com'. Full region documentation in docs/CONFIGURATION.md under Cloud Provider Regions. Region selection applies to both v2 and v3.","versionsApplicable":["v2","v3"],"versionSpecifics":{"v2":{"notes":"Region configuration via sindri.yaml"},"v3":{"notes":"Region configuration via sindri.yaml with validation"}},"tags":["regions","zones","location","latency"],"docs":["docs/CONFIGURATION.md","v2/docs/GPU.md"],"personas":["small-team","platform-engineer"],"useCases":["cloud-deployment"],"difficulty":"intermediate","relatedQuestions":[],"keywords":["regions","zones","location","latency"],"dateAdded":"2024-12-01","dateUpdated":"2024-12-01","popularity":0,"upvotes":0},{"id":"test-suites","category":"deployment","question":"What test suites are available for deployed instances?","answer":"Three test suite levels: 'smoke' (~30s) for basic connectivity and health checks (container running, SSH works, commands execute); 'integration' (~5-10min) for full extension validation (runs extension-manager validate-all); 'full' (~10-15min) runs all suites sequentially including profile lifecycle tests. Run with 'sindri test --suite <name>'. Smoke tests are good after deployment, integration before production, full in CI/CD pipelines.","versionsApplicable":["v2"],"versionSpecifics":{"v2":{"command":"./v2/cli/sindri test --suite smoke","notes":"V2-specific test suites via bash"}},"tags":["testing","suites","smoke","integration","validation"],"docs":["CLAUDE.md","docs/TESTING.md"],"personas":["platform-engineer","enterprise"],"useCases":["cloud-deployment"],"difficulty":"intermediate","relatedQuestions":[],"keywords":["testing","suites","smoke","integration","validation"],"dateAdded":"2024-12-01","dateUpdated":"2024-12-01","popularity":0,"upvotes":0},{"id":"manifest-schema","category":"extensions","question":"What is the manifest.json file and how does it work?","answer":"Extension manifests are JSON files in $WORKSPACE/.system/manifest/ that track installed extensions, their activation state, dependencies, and execution configuration. The extension-manager uses manifests to manage lifecycles. Each manifest contains version, extensions array (with name, active, protected, category, dependencies), and optional config (execution settings like parallel/failFast/timeout and validation settings like schemaValidation/dnsCheck/dependencyCheck). See docs/MANIFEST.md for complete reference. Manifests work similarly in both v2 and v3.","versionsApplicable":["v2","v3"],"versionSpecifics":{"v2":{"notes":"JSON manifests managed by bash extension-manager"},"v3":{"notes":"JSON manifests managed by Rust sindri-extensions crate"}},"tags":["manifest","json","tracking","state"],"docs":["docs/MANIFEST.md","v2/docs/SCHEMA.md"],"personas":["individual-developer","small-team"],"useCases":["local-development"],"difficulty":"intermediate","relatedQuestions":[],"keywords":["manifest","json","tracking","state"],"dateAdded":"2024-12-01","dateUpdated":"2024-12-01","popularity":0,"upvotes":0},{"id":"link-checking","category":"deployment","question":"How are documentation links validated?","answer":"Sindri uses automated link checking via .github/workflows/check-links.yml. Internal markdown links are checked on every PR, external URLs are checked weekly on schedule, and anchor links are validated for correctness. The workflow runs three jobs: check-internal-links (verifies file paths exist), check-external-links (uses markdown-link-check), and check-anchors (validates heading references). Manual checks available in docs/CONTRIBUTING.md.","versionsApplicable":["v2"],"versionSpecifics":{"v2":{"notes":"V2-specific link checking workflow"}},"tags":["links","validation","documentation","ci"],"docs":["docs/CONTRIBUTING.md",".github/workflows/check-links.yml"],"personas":["platform-engineer","enterprise"],"useCases":["local-development"],"difficulty":"intermediate","relatedQuestions":[],"keywords":["links","validation","documentation","ci"],"dateAdded":"2024-12-01","dateUpdated":"2024-12-01","popularity":0,"upvotes":0},{"id":"install-sindri-v3-binary","category":"getting-started","question":"How do I install Sindri v3?","answer":"Download the pre-built binary for your platform from GitHub releases. For Linux x86_64: 'wget https://github.com/pacphi/sindri/releases/latest/download/sindri-linux-x86_64.tar.gz && tar -xzf sindri-linux-x86_64.tar.gz && sudo mv sindri /usr/local/bin/'. For macOS (Apple Silicon): download sindri-macos-aarch64.tar.gz instead. Unlike v2, v3 is a single 12MB binary with zero runtime dependencies -- no bash, yq, or jq needed. Verify with 'sindri version'.","versionsApplicable":["v3"],"versionSpecifics":{"v3":{"minVersion":"3.0.0","command":"sindri version","notes":"Native binaries available for 5 platforms: Linux x86_64, Linux aarch64, macOS x86_64, macOS aarch64, and Windows x86_64. Can also install via 'cargo install sindri' or build from source."}},"tags":["v3","install","binary","beginner","linux","macos"],"docs":["v3/docs/QUICKSTART.md","v3/docs/CLI.md"],"personas":["individual-developer","small-team","platform-engineer"],"useCases":["local-development"],"difficulty":"beginner","relatedQuestions":["install-sindri-v3-windows","upgrade-from-previous-v3-release","self-update-v3","doctor-check-prereqs"],"keywords":["install","binary","download","setup","linux","macos","cargo","tar"],"dateAdded":"2026-02-05","dateUpdated":"2026-02-05","popularity":0,"upvotes":0},{"id":"upgrade-from-previous-v3-release","category":"getting-started","question":"How do I upgrade from a previous v3 release?","answer":"Use the built-in self-update command: 'sindri upgrade'. This checks for the latest version, verifies extension compatibility, and downloads the new binary. You can check for updates first with 'sindri upgrade --check', list available versions with 'sindri upgrade --list', or upgrade to a specific version with 'sindri upgrade --version 3.1.0'. If an upgrade causes issues, you can downgrade with 'sindri upgrade --version 3.0.0 --allow-downgrade'.","versionsApplicable":["v3"],"versionSpecifics":{"v3":{"minVersion":"3.0.0","command":"sindri upgrade","notes":"Self-update includes compatibility checks for installed extensions before upgrading. Use --compat flag to check compatibility before committing to an upgrade."}},"tags":["v3","upgrade","self-update","binary","beginner"],"docs":["v3/docs/CLI.md","v3/docs/QUICKSTART.md"],"personas":["individual-developer","small-team","platform-engineer"],"useCases":["local-development"],"difficulty":"beginner","relatedQuestions":["self-update-v3","install-sindri-v3-binary","doctor-check-prereqs"],"keywords":["upgrade","update","version","latest","downgrade","rollback"],"dateAdded":"2026-02-05","dateUpdated":"2026-02-05","popularity":0,"upvotes":0},{"id":"self-update-v3","category":"getting-started","question":"How does self-update work in Sindri v3?","answer":"Sindri v3 has a built-in upgrade command that downloads new versions directly from GitHub releases. Run 'sindri upgrade --check' to see if an update is available, and 'sindri upgrade' to perform the update. Before upgrading, the CLI checks extension compatibility with 'sindri upgrade --compat <version>' to warn about potential breakages. The upgrade also supports prereleases with --prerelease, forced upgrades with --force, and skipping prompts with --yes for CI/CD automation.","versionsApplicable":["v3"],"versionSpecifics":{"v3":{"minVersion":"3.0.0","command":"sindri upgrade --check","notes":"Self-update is a v3-only feature. V2 required manual git pulls or Docker image updates. The upgrade command replaces the binary in-place."}},"tags":["v3","self-update","upgrade","binary","automation"],"docs":["v3/docs/CLI.md"],"personas":["individual-developer","platform-engineer"],"useCases":["local-development","cloud-deployment"],"difficulty":"beginner","relatedQuestions":["upgrade-from-previous-v3-release","install-sindri-v3-binary","doctor-check-prereqs"],"keywords":["self-update","auto-update","upgrade","check","compatibility","prerelease"],"dateAdded":"2026-02-05","dateUpdated":"2026-02-05","popularity":0,"upvotes":0},{"id":"doctor-check-prereqs","category":"doctor-diagnostics","question":"How do I run the doctor command to check prerequisites?","answer":"Run 'sindri doctor' to check all required tools and dependencies for your current configuration. Use 'sindri doctor --provider docker' to check tools for a specific provider, or 'sindri doctor --all' to check everything. The command performs parallel tool checking (~500ms), validates versions against minimums, and detects your OS and available package managers. For CI/CD pipelines, use 'sindri doctor --ci --format json' to get machine-readable output with non-zero exit codes on failure.","versionsApplicable":["v3"],"versionSpecifics":{"v3":{"minVersion":"3.0.0","command":"sindri doctor --all","notes":"Doctor is a v3-only command. It checks Git, Docker, flyctl, devpod, kubectl, mise, npm, vault, and gh with platform-specific install instructions."}},"tags":["v3","doctor","diagnostics","prerequisites","beginner"],"docs":["v3/docs/DOCTOR.md","v3/docs/QUICKSTART.md"],"personas":["individual-developer","small-team","platform-engineer"],"useCases":["local-development"],"difficulty":"beginner","relatedQuestions":["doctor-auto-fix","install-sindri-v3-binary","basic-troubleshooting-v3"],"keywords":["doctor","check","prerequisites","diagnostics","tools","health","system"],"dateAdded":"2026-02-05","dateUpdated":"2026-02-05","popularity":0,"upvotes":0},{"id":"install-sindri-v3-windows","category":"getting-started","question":"How do I install Sindri v3 on Windows?","answer":"Download sindri-windows-x86_64.zip from GitHub releases (https://github.com/pacphi/sindri/releases/latest) and extract the sindri.exe binary. Add it to your PATH or move it to a directory already in your PATH. Verify with 'sindri version'. Windows native support is new in v3 -- v2 required WSL2 with Docker. You will still need Docker Desktop for Windows to use container-based providers.","versionsApplicable":["v3"],"versionSpecifics":{"v3":{"minVersion":"3.0.0","command":"sindri version","notes":"Native Windows x86_64 binary. V2 only supported Windows through WSL2 + Docker. The doctor command supports winget, Chocolatey, and Scoop package managers for auto-fix."}},"tags":["v3","install","windows","binary","beginner"],"docs":["v3/docs/QUICKSTART.md","v3/docs/DOCTOR.md"],"personas":["individual-developer","windows-user"],"useCases":["local-development"],"difficulty":"beginner","relatedQuestions":["install-sindri-v3-binary","doctor-check-prereqs","what-is-sindri-v3"],"keywords":["install","windows","binary","setup","winget","path","native"],"dateAdded":"2026-02-05","dateUpdated":"2026-02-05","popularity":0,"upvotes":0},{"id":"what-is-sindri-v3","category":"migration","question":"What is Sindri v3 and how is it different from v2?","answer":"Sindri v3 is a complete rewrite of the Sindri CLI in Rust, replacing the v2 Bash-based implementation (~52K lines) with ~11.2K lines of Rust. Key improvements include a single 12MB binary with zero runtime dependencies, 20-50x faster CLI startup (<100ms vs 2-5s), native Windows support, built-in self-update, S3 encrypted secrets, container image verification with cosign, local Kubernetes cluster management (kind/k3d), and a comprehensive doctor command with auto-fix. The Docker image is also 68% smaller (~800MB vs ~2.5GB).","versionsApplicable":["v2","v3"],"versionSpecifics":{"v2":{"command":"./v2/cli/sindri deploy --provider <p>","notes":"Bash-based CLI requiring git clone, bash, yq, jq, and python3-jsonschema as dependencies. 77 extensions (including 33 VisionFlow)."},"v3":{"minVersion":"3.0.0","command":"sindri deploy","notes":"Rust binary with native YAML/JSON parsing, async runtime (tokio), compile-time type safety. 48 extensions (VisionFlow excluded). 140+ subcommands vs ~50 in v2."}},"tags":["v3","v2-v3-compatible","migration","overview","beginner"],"docs":["docs/migration/COMPARISON_GUIDE.md","docs/migration/MIGRATION_GUIDE.md","v3/README.md"],"personas":["individual-developer","small-team","enterprise","platform-engineer"],"useCases":["migration"],"difficulty":"beginner","relatedQuestions":["breaking-changes-v2-to-v3","command-mapping-v2-to-v3","can-run-v2-v3-side-by-side"],"keywords":["v3","v2","differences","comparison","overview","rewrite","rust","bash"],"dateAdded":"2026-02-05","dateUpdated":"2026-02-05","popularity":0,"upvotes":0},{"id":"breaking-changes-v2-to-v3","category":"migration","question":"What are the breaking changes when migrating from v2 to v3?","answer":"The main breaking changes are: (1) CLI rewritten from Bash to Rust, so Bash-based extensions are incompatible and need the v3 extension format. (2) Config schema updated to 3.0 -- sindri.yaml format changes are auto-migrated with backup. (3) Vault path renamed from 'secrets.provider.vault.path' to 'secrets.provider.vault.mount_path'. (4) Extension install method 'manual' removed, use 'script' instead. (5) VisionFlow extensions (vf-* prefixed) are not available in v3. (6) Several extensions removed: claude-flow v1 (replaced by claude-flow-v2/v3), claude-auth-with-api-key (now built-in), and ruvnet-aliases (consolidated).","versionsApplicable":["v2","v3"],"versionSpecifics":{"v2":{"notes":"V2 remains available for VisionFlow workflows and can run side-by-side with v3."},"v3":{"minVersion":"3.0.0","isBreakingChange":true,"breakingChangeDetails":"Config schema 3.0 auto-migrated. Extension schema updated to v1.0 with stricter validation. Manual install method removed.","notes":"Run 'sindri config validate' to auto-migrate config. Run 'sindri extension validate-all' to check extensions."}},"tags":["v3","migration","breaking-change","v2-v3-compatible"],"docs":["docs/migration/MIGRATION_GUIDE.md","docs/migration/COMPARISON_GUIDE.md"],"personas":["individual-developer","small-team","enterprise","platform-engineer"],"useCases":["migration"],"difficulty":"intermediate","relatedQuestions":["what-is-sindri-v3","command-mapping-v2-to-v3","config-auto-migration-v3","visionflow-v3","v2-extensions-compatible-v3"],"keywords":["breaking","changes","migration","incompatible","removed","deprecated","vault","extensions"],"dateAdded":"2026-02-05","dateUpdated":"2026-02-05","popularity":0,"upvotes":0},{"id":"command-mapping-v2-to-v3","category":"migration","question":"How do I map v2 commands to v3 equivalents?","answer":"V3 consolidates all CLI tools into a single 'sindri' binary. Deployment: './v2/cli/sindri deploy --provider <p>' becomes 'sindri deploy' (provider from config). Extensions: './v2/cli/extension-manager list' becomes 'sindri extension list'. Profiles: './v2/cli/sindri profiles list' becomes 'sindri profile list' (note singular 'profile'). Secrets: './v2/cli/secrets-manager validate' becomes 'sindri secrets validate'. Projects: './v2/cli/new-project <name>' becomes 'sindri project new <name>'. V3 also adds new commands with no v2 equivalent: 'sindri upgrade', 'sindri doctor', 'sindri k8s', 'sindri image', and 'sindri secrets s3'.","versionsApplicable":["v2","v3"],"versionSpecifics":{"v2":{"command":"./v2/cli/sindri deploy --provider <p>","notes":"Separate CLI tools: sindri, extension-manager, secrets-manager, backup-restore, new-project, clone-project. All accessed via relative paths."},"v3":{"minVersion":"3.0.0","command":"sindri deploy","notes":"Single binary with subcommands. All functionality unified under 'sindri' command. Provider specified in sindri.yaml config, not on command line."}},"tags":["v3","migration","commands","v2-v3-compatible","reference"],"docs":["docs/migration/MIGRATION_GUIDE.md","v3/docs/CLI.md"],"personas":["individual-developer","small-team","platform-engineer"],"useCases":["migration"],"difficulty":"beginner","relatedQuestions":["what-is-sindri-v3","breaking-changes-v2-to-v3","config-auto-migration-v3"],"keywords":["commands","mapping","equivalents","v2","v3","translate","conversion","reference"],"dateAdded":"2026-02-05","dateUpdated":"2026-02-05","popularity":0,"upvotes":0},{"id":"config-auto-migration-v3","category":"migration","question":"How does config auto-migration work?","answer":"When you first run a v3 command like 'sindri config validate', Sindri automatically migrates your sindri.yaml from schema version 2.x to 3.0. It creates a backup of your original config as sindri.yaml.v2.backup before making changes. The manifest file (~/.sindri/manifest.yaml) is also auto-migrated with a backup at manifest.yaml.v2.backup. Vault path configuration is updated from 'secrets.provider.vault.path' to 'secrets.provider.vault.mount_path'. After migration, review the updated config and fix any validation errors.","versionsApplicable":["v2","v3"],"versionSpecifics":{"v2":{"notes":"V2 config schema uses version 2.x format."},"v3":{"minVersion":"3.0.0","command":"sindri config validate","notes":"Auto-migration runs on first v3 command. Backup is always created. Extension metadata compatibility is also verified during migration."}},"tags":["v3","migration","configuration","auto-migration","backup"],"docs":["docs/migration/MIGRATION_GUIDE.md"],"personas":["individual-developer","small-team","enterprise"],"useCases":["migration"],"difficulty":"beginner","relatedQuestions":["breaking-changes-v2-to-v3","rollback-v3-to-v2","command-mapping-v2-to-v3"],"keywords":["config","auto-migration","schema","backup","sindri.yaml","manifest","upgrade"],"dateAdded":"2026-02-05","dateUpdated":"2026-02-05","popularity":0,"upvotes":0},{"id":"rollback-v3-to-v2","category":"migration","question":"Can I rollback from v3 to v2?","answer":"Yes. For a quick rollback: destroy the v3 deployment with 'sindri destroy --force', restore your v2 config backup with 'cp sindri.yaml.v2.backup sindri.yaml', checkout the v2 branch with 'git checkout v2.2.1', then deploy with './v2/cli/sindri deploy --provider <provider>'. For full removal: delete the v3 binary with 'sudo rm /usr/local/bin/sindri', restore the manifest backup from ~/.sindri/manifest.yaml.v2.backup, and redeploy with v2. It is recommended to test v3 in staging before production to minimize rollback risk.","versionsApplicable":["v2","v3"],"versionSpecifics":{"v2":{"command":"./v2/cli/sindri deploy --provider <provider>","notes":"V2 CLI accessed via relative path. Keep yq and jq installed if rolling back."},"v3":{"minVersion":"3.0.0","command":"sindri destroy --force","notes":"V3 auto-creates backups during migration, making rollback straightforward. Backup files: sindri.yaml.v2.backup, manifest.yaml.v2.backup."}},"tags":["v3","migration","rollback","v2-v3-compatible","backup"],"docs":["docs/migration/MIGRATION_GUIDE.md"],"personas":["individual-developer","small-team","enterprise"],"useCases":["migration"],"difficulty":"intermediate","relatedQuestions":["config-auto-migration-v3","can-run-v2-v3-side-by-side","breaking-changes-v2-to-v3"],"keywords":["rollback","revert","downgrade","undo","restore","v2","backup"],"dateAdded":"2026-02-05","dateUpdated":"2026-02-05","popularity":0,"upvotes":0},{"id":"can-run-v2-v3-side-by-side","category":"migration","question":"Can I run v2 and v3 side-by-side?","answer":"Yes, v2 and v3 can coexist during your transition period. V2 is accessed via relative path ('./v2/cli/sindri') and uses Docker image tag ':v2', while v3 is an installed binary ('sindri') using image tag ':v3'. They have separate CI workflows (ci-v2.yml and ci-v3.yml) and separate tag namespaces (v2.x.x and v3.x.x). This lets you run v2 for VisionFlow or legacy workflows while using v3 for new projects. Note that yq and jq must remain installed if you continue to use v2.","versionsApplicable":["v2","v3"],"versionSpecifics":{"v2":{"command":"./v2/cli/sindri deploy","notes":"Accessed via relative path. Docker image: ghcr.io/pacphi/sindri:v2."},"v3":{"minVersion":"3.0.0","command":"sindri deploy","notes":"Installed binary in PATH. Docker image: ghcr.io/pacphi/sindri:v3. No conflict with v2 CLI."}},"tags":["v3","migration","v2-v3-compatible","coexistence"],"docs":["docs/migration/MIGRATION_GUIDE.md","docs/migration/COMPARISON_GUIDE.md"],"personas":["individual-developer","small-team","enterprise"],"useCases":["migration"],"difficulty":"beginner","relatedQuestions":["what-is-sindri-v3","rollback-v3-to-v2","visionflow-v3"],"keywords":["side-by-side","coexist","parallel","both","transition","v2","v3"],"dateAdded":"2026-02-05","dateUpdated":"2026-02-05","popularity":0,"upvotes":0},{"id":"visionflow-v3","category":"migration","question":"What happened to VisionFlow in v3?","answer":"VisionFlow extensions (all vf-* prefixed extensions, 33 total) are exclusive to v2 and are not available in v3. This includes vf-comfyui, vf-blender, vf-pytorch-ml, vf-jupyter-notebooks, vf-ffmpeg-processing, and others that typically require GPU support and desktop environments. If you need VisionFlow workflows, continue using v2 -- it can run side-by-side with v3. Use v3 for language development, AI agents, MCP servers, and cloud deployments; use v2 for 3D modeling, image generation, ML training, and document processing.","versionsApplicable":["v2","v3"],"versionSpecifics":{"v2":{"notes":"V2 has 77 extensions total, including 33 VisionFlow extensions for GPU-dependent, desktop-based workflows."},"v3":{"minVersion":"3.0.0","notes":"V3 has 48 extensions. VisionFlow extensions excluded due to GPU dependencies, desktop requirements, and Docker integration complexity. No migration planned."}},"tags":["v3","migration","visionflow","extensions","v2-v3-compatible"],"docs":["docs/migration/COMPARISON_GUIDE.md","docs/migration/MIGRATION_GUIDE.md"],"personas":["individual-developer","ai-ml-researcher"],"useCases":["migration"],"difficulty":"beginner","relatedQuestions":["v2-extensions-compatible-v3","can-run-v2-v3-side-by-side","what-is-sindri-v3"],"keywords":["visionflow","vf","gpu","desktop","blender","comfyui","pytorch","removed"],"dateAdded":"2026-02-05","dateUpdated":"2026-02-05","popularity":0,"upvotes":0},{"id":"v2-extensions-compatible-v3","category":"migration","question":"Are v2 extensions compatible with v3?","answer":"Most core extensions (language, AI, MCP, dev tools) work identically in both v2 and v3 with the same extension.yaml configuration. However, there are key differences: (1) Extension schema is updated to v1.0 with stricter validation -- run 'sindri extension validate-all' to check. (2) The 'manual' install method is removed; use 'script' instead. (3) Three extensions were removed: claude-flow v1 (use claude-flow-v2 or claude-flow-v3), claude-auth-with-api-key (now built-in), and ruvnet-aliases (consolidated). (4) VisionFlow extensions (33 total) are v2-only.","versionsApplicable":["v2","v3"],"versionSpecifics":{"v2":{"command":"./v2/cli/extension-manager list","notes":"77 extensions total. Uses extension schema pre-v1.0 with less strict validation."},"v3":{"minVersion":"3.0.0","command":"sindri extension list","notes":"48 extensions. Schema v1.0 with stricter validation. Added version pinning (@version syntax), upgrade/rollback, and dependency resolution."}},"tags":["v3","migration","extensions","v2-v3-compatible","breaking-change"],"docs":["docs/migration/MIGRATION_GUIDE.md","docs/migration/COMPARISON_GUIDE.md"],"personas":["individual-developer","small-team","platform-engineer"],"useCases":["migration"],"difficulty":"intermediate","relatedQuestions":["breaking-changes-v2-to-v3","visionflow-v3","extension-versioning-v3"],"keywords":["extensions","compatible","v2","v3","validate","schema","install-method"],"dateAdded":"2026-02-05","dateUpdated":"2026-02-05","popularity":0,"upvotes":0},{"id":"image-verification-v3","category":"image-management","question":"How do I verify container image signatures in v3?","answer":"Sindri v3 automatically verifies image signatures and SLSA provenance during deployment. To manually verify, run 'sindri image verify ghcr.io/pacphi/sindri:v3.0.0'. This checks the cosign signature against the certificate identity (GitHub Actions OIDC) and verifies SLSA Level 3 provenance. You can skip signature or provenance checks individually with --no-signature or --no-provenance. To skip all verification during deploy, use 'sindri deploy --skip-image-verification'. Cosign must be installed for verification -- install via 'brew install cosign' on macOS.","versionsApplicable":["v3"],"versionSpecifics":{"v3":{"minVersion":"3.0.0","command":"sindri image verify ghcr.io/pacphi/sindri:v3.0.0","notes":"Requires cosign installed. Uses OIDC keyless signing with GitHub Actions. Verification is enabled by default in sindri.yaml via verify_signature and verify_provenance settings."}},"tags":["v3","image-verification","cosign","security","slsa"],"docs":["v3/docs/IMAGE_MANAGEMENT.md","v3/docs/CLI.md"],"personas":["enterprise","platform-engineer"],"useCases":["security-compliance","cloud-deployment"],"difficulty":"intermediate","relatedQuestions":["semantic-version-images-v3","first-deployment-v3"],"keywords":["verify","signature","cosign","provenance","slsa","security","image","sbom"],"dateAdded":"2026-02-05","dateUpdated":"2026-02-05","popularity":0,"upvotes":0},{"id":"vm-build-packer-v3","category":"vm-images","question":"How do I build VM images with Packer in v3?","answer":"Use 'sindri vm build --cloud <provider>' to build golden VM images with HashiCorp Packer. Supported clouds include aws, azure, gcp, oci, and alibaba. For example: 'sindri vm build --cloud aws --region us-east-1 --profile fullstack' builds an AWS AMI with the fullstack extension profile. Use '--dry-run' to preview the template without building. You can add CIS security hardening with '--cis-hardening', specify a Sindri version with '--sindri-version v3.0.0', and set disk size with '--disk-size 100'. Prerequisites include Packer 1.9+ and cloud provider CLI with credentials.","versionsApplicable":["v3"],"versionSpecifics":{"v3":{"minVersion":"3.0.0","command":"sindri vm build --cloud aws","notes":"VM image building is v3-only. Also supports 'sindri vm validate', 'sindri vm list', 'sindri vm delete', 'sindri vm deploy', 'sindri vm doctor', and 'sindri vm init'. Default instance types vary by provider (e.g., t3.large for AWS)."}},"tags":["v3","packer","vm-images","aws","azure","gcp","cloud"],"docs":["v3/docs/CLI.md","v3/README.md"],"personas":["platform-engineer","enterprise"],"useCases":["vm-image-building","multi-cloud"],"difficulty":"intermediate","relatedQuestions":["first-deployment-v3","choose-provider-v3"],"keywords":["packer","vm","build","image","aws","azure","gcp","oci","alibaba","golden"],"dateAdded":"2026-02-05","dateUpdated":"2026-02-05","popularity":0,"upvotes":0},{"id":"s3-secrets-storage-v3","category":"secrets","question":"How do I use S3 for secrets storage?","answer":"Initialize the S3 backend with 'sindri secrets s3 init --bucket my-secrets --region us-east-1 --create-bucket'. This generates a master encryption key (.sindri-master.key) using age X25519 encryption. Push secrets with 'sindri secrets s3 push ANTHROPIC_API_KEY --value \"sk-ant-...\"' and pull with 'sindri secrets s3 pull ANTHROPIC_API_KEY --show'. Configure in sindri.yaml by setting secrets.backend.type to 's3' with bucket, region, and encryption settings. S3 secrets use envelope encryption (ChaCha20-Poly1305 + age) with 5 layers of defense. Works with AWS S3, MinIO, DigitalOcean Spaces, and Wasabi.","versionsApplicable":["v3"],"versionSpecifics":{"v3":{"minVersion":"3.0.0","command":"sindri secrets s3 init --bucket my-secrets --region us-east-1 --create-bucket","notes":"S3 encrypted storage is new in v3. Commands include init, push, pull, sync, keygen, and rotate. Supports team collaboration, CI/CD integration, and key rotation."}},"tags":["v3","secrets","s3","encryption","s3-secrets","security"],"docs":["v3/docs/SECRETS_MANAGEMENT.md","v3/docs/CLI.md"],"personas":["small-team","enterprise","platform-engineer"],"useCases":["security-compliance","cloud-deployment"],"difficulty":"intermediate","relatedQuestions":["first-deployment-v3","basic-troubleshooting-v3"],"keywords":["s3","secrets","encryption","storage","age","chacha20","push","pull","bucket"],"dateAdded":"2026-02-05","dateUpdated":"2026-02-05","popularity":0,"upvotes":0},{"id":"local-kubernetes-cluster-v3","category":"kubernetes","question":"How do I create a local Kubernetes cluster?","answer":"Use 'sindri k8s create' to create a local Kubernetes cluster using kind (default) or k3d. For example: 'sindri k8s create --provider kind --name dev' creates a kind cluster named 'dev'. For k3d with a local registry: 'sindri k8s create --provider k3d --registry'. You can specify the number of nodes with '--nodes 3' and the Kubernetes version with '--k8s-version v1.34.0'. List clusters with 'sindri k8s list', check status with 'sindri k8s status', and destroy with 'sindri k8s destroy --name dev'. Install kind or k3d first with 'sindri k8s install kind'.","versionsApplicable":["v3"],"versionSpecifics":{"v3":{"minVersion":"3.0.0","command":"sindri k8s create --provider kind --name dev","notes":"Local Kubernetes management is v3-only. Supports kind and k3d providers. Default cluster name is 'sindri-local'. The k3d provider also supports local registries with --registry flag."}},"tags":["v3","kubernetes","kind","k3d","local","cluster"],"docs":["v3/docs/CLI.md","v3/docs/QUICKSTART.md"],"personas":["individual-developer","platform-engineer"],"useCases":["local-development","production-kubernetes"],"difficulty":"intermediate","relatedQuestions":["choose-provider-v3","first-deployment-v3","doctor-check-prereqs"],"keywords":["kubernetes","k8s","kind","k3d","cluster","local","create","nodes"],"dateAdded":"2026-02-05","dateUpdated":"2026-02-05","popularity":0,"upvotes":0},{"id":"extension-versioning-v3","category":"extensions","question":"How does extension versioning work in v3?","answer":"V3 introduces full semantic versioning for extensions. Install a specific version with 'sindri extension install mise@2024.1.0' using the @version syntax. Check available versions with 'sindri extension versions mise'. Upgrade to the latest version with 'sindri extension upgrade mise', or to a specific version with 'sindri extension upgrade mise --version 2024.2.0'. If an upgrade causes issues, roll back with 'sindri extension rollback mise'. Check all extensions for updates with 'sindri extension check'. The upgrade command also verifies extension compatibility before applying changes.","versionsApplicable":["v3"],"versionSpecifics":{"v3":{"minVersion":"3.0.0","command":"sindri extension install mise@2024.1.0","notes":"V2 had limited version pinning. V3 adds @version syntax, upgrade/rollback, version listing, and update checking. Extensions use parallel DAG dependency resolution."}},"tags":["v3","extensions","versioning","semantic-versioning","upgrade"],"docs":["v3/docs/CLI.md"],"personas":["individual-developer","small-team","platform-engineer"],"useCases":["local-development"],"difficulty":"intermediate","relatedQuestions":["v2-extensions-compatible-v3","use-profiles-v3"],"keywords":["extension","version","pin","upgrade","rollback","semver","install","check"],"dateAdded":"2026-02-05","dateUpdated":"2026-02-05","popularity":0,"upvotes":0},{"id":"semantic-version-images-v3","category":"image-management","question":"What are semantic version images in v3?","answer":"V3 uses semantic versioning constraints to automatically resolve container images during deployment. In sindri.yaml, set 'image_config.version' to a constraint like '^3.0.0' (compatible versions 3.x.x), '~3.1.0' (approximate 3.1.x), or '>=3.0.0'. The resolution strategy can be 'semver' (default), 'latest-stable', 'pin-to-cli' (match CLI version), or 'explicit' (use tag_override). For production, pin to a specific digest with 'image_config.digest: sha256:abc123...' for immutable, reproducible deployments. List available versions with 'sindri image versions' and check CLI compatibility.","versionsApplicable":["v3"],"versionSpecifics":{"v3":{"minVersion":"3.0.0","command":"sindri image versions","notes":"V2 used simple image tags (e.g., :latest). V3 adds semantic version constraints, resolution strategies, digest pinning, and automatic verification. Legacy 'image' field still supported for backward compatibility."}},"tags":["v3","image-management","semantic-versioning","deployment"],"docs":["v3/docs/IMAGE_MANAGEMENT.md"],"personas":["platform-engineer","enterprise","small-team"],"useCases":["cloud-deployment","security-compliance"],"difficulty":"intermediate","relatedQuestions":["image-verification-v3","first-deployment-v3"],"keywords":["semver","semantic","version","image","constraint","resolution","digest","pin"],"dateAdded":"2026-02-05","dateUpdated":"2026-02-05","popularity":0,"upvotes":0},{"id":"doctor-auto-fix","category":"doctor-diagnostics","question":"How does doctor auto-fix work?","answer":"Run 'sindri doctor --fix' to automatically install missing tools using your system's package manager. The command detects missing tools, selects the best installation method based on available package managers (Homebrew on macOS, APT on Debian/Ubuntu, DNF on Fedora, winget/Chocolatey/Scoop on Windows), displays the installation command for confirmation, then executes it. Use '--yes' to skip prompts for non-interactive automation, or '--dry-run' to preview what would be installed. Auto-fix cannot install Docker Desktop on macOS/Windows (requires manual download), fix authentication issues, or upgrade existing tools to newer versions.","versionsApplicable":["v3"],"versionSpecifics":{"v3":{"minVersion":"3.0.0","command":"sindri doctor --fix --yes","notes":"Auto-fix is v3-only. Detects OS, architecture, Linux distribution, and available package managers. After installation, re-runs diagnostics to verify success. Supports macOS (Homebrew), Debian/Ubuntu (APT), Fedora (DNF), Arch (Pacman), Alpine (APK), and Windows (winget, Chocolatey, Scoop)."}},"tags":["v3","doctor","auto-fix","install","diagnostics"],"docs":["v3/docs/DOCTOR.md","v3/docs/CLI.md"],"personas":["individual-developer","small-team"],"useCases":["local-development"],"difficulty":"beginner","relatedQuestions":["doctor-check-prereqs","install-sindri-v3-binary","basic-troubleshooting-v3"],"keywords":["doctor","fix","auto-fix","install","missing","tools","package-manager","automatic"],"dateAdded":"2026-02-05","dateUpdated":"2026-02-05","popularity":0,"upvotes":0},{"id":"first-deployment-v3","category":"getting-started","question":"How do I deploy my first environment with v3?","answer":"Create a project directory and initialize config: 'mkdir my-dev-env && cd my-dev-env && sindri config init --provider docker --profile fullstack'. This generates a sindri.yaml file. Deploy with 'sindri deploy --wait', which validates config, resolves and verifies the container image, and deploys to your chosen provider. Connect with 'sindri connect' to get an interactive shell. When done, tear down with 'sindri destroy'. For a dry run first, use 'sindri deploy --dry-run' to preview changes without deploying. The whole process takes about 10 minutes.","versionsApplicable":["v3"],"versionSpecifics":{"v3":{"minVersion":"3.0.0","command":"sindri config init --provider docker --profile fullstack && sindri deploy --wait","notes":"V3 deploy includes automatic image verification (can skip with --skip-image-verification). Default timeout is 600 seconds (10 minutes), adjustable with --timeout."}},"tags":["v3","deploy","quickstart","beginner","docker"],"docs":["v3/docs/QUICKSTART.md","v3/docs/CLI.md"],"personas":["individual-developer","small-team"],"useCases":["local-development"],"difficulty":"beginner","relatedQuestions":["choose-provider-v3","use-profiles-v3","install-sindri-v3-binary","doctor-check-prereqs"],"keywords":["deploy","first","quickstart","environment","init","connect","destroy","start"],"dateAdded":"2026-02-05","dateUpdated":"2026-02-05","popularity":0,"upvotes":0},{"id":"choose-provider-v3","category":"deployment","question":"How do I choose a provider in v3?","answer":"Set the provider in sindri.yaml under 'deployment.provider' or use 'sindri config init --provider <name>'. Available providers: 'docker-compose' for local development (requires Docker only), 'fly' for Fly.io cloud deployment (requires flyctl + account), 'devpod' for multi-cloud workspaces on AWS/GCP/Azure/K8s (requires DevPod CLI), 'kubernetes' for K8s clusters (requires kubectl + cluster access), 'e2b' for ultra-fast cloud sandboxes (requires E2B account), and 'vm' for golden VM images across 5 cloud providers (requires Packer 1.9+ and cloud CLI). Start with 'docker-compose' for the simplest setup.","versionsApplicable":["v3"],"versionSpecifics":{"v3":{"minVersion":"3.0.0","command":"sindri config init --provider docker","notes":"V3 supports 6 providers vs 4 in v2 (adds kubernetes and vm). Provider is specified in config, not on the command line like v2. Use 'sindri doctor --provider <name>' to check provider prerequisites."}},"tags":["v3","provider","deployment","docker","fly","kubernetes"],"docs":["v3/docs/QUICKSTART.md","v3/docs/CLI.md","v3/README.md"],"personas":["individual-developer","small-team","platform-engineer"],"useCases":["local-development","cloud-deployment","multi-cloud"],"difficulty":"beginner","relatedQuestions":["first-deployment-v3","local-kubernetes-cluster-v3","vm-build-packer-v3"],"keywords":["provider","docker","fly","flyio","devpod","kubernetes","e2b","vm","choose"],"dateAdded":"2026-02-05","dateUpdated":"2026-02-05","popularity":0,"upvotes":0},{"id":"use-profiles-v3","category":"configuration","question":"How do I use profiles in v3?","answer":"Profiles are pre-configured extension bundles for common use cases. Set a profile in sindri.yaml under 'extensions.profile' or with 'sindri config init --profile <name>'. Available profiles: 'minimal' (Node.js, Python), 'fullstack' (Node.js, Python, Docker, devtools), 'anthropic-dev' (Claude tools, AI agents), 'systems' (Rust, Go, Docker), 'devops' (Docker, Terraform, cloud tools), and 'enterprise' (all languages + infrastructure). List profiles with 'sindri profile list', get details with 'sindri profile info <name>', and install manually with 'sindri profile install <name>'. You can also install extensions individually with 'sindri extension install <name>'.","versionsApplicable":["v3"],"versionSpecifics":{"v3":{"minVersion":"3.0.0","command":"sindri profile list","notes":"V3 uses 'sindri profile' (singular) vs v2's 'sindri profiles' (plural). Profiles can be set during config init or installed separately. The profile install command supports --continue-on-error for resilient installation."}},"tags":["v3","profiles","extensions","configuration","beginner"],"docs":["v3/docs/QUICKSTART.md","v3/docs/CLI.md"],"personas":["individual-developer","small-team","ai-ml-researcher"],"useCases":["local-development"],"difficulty":"beginner","relatedQuestions":["first-deployment-v3","extension-versioning-v3","choose-provider-v3"],"keywords":["profile","extensions","bundle","minimal","fullstack","anthropic-dev","devops","enterprise"],"dateAdded":"2026-02-05","dateUpdated":"2026-02-05","popularity":0,"upvotes":0},{"id":"basic-troubleshooting-v3","category":"troubleshooting","question":"What basic troubleshooting steps should I try first in v3?","answer":"Start with 'sindri doctor --all' to check all system requirements and tool versions. If tools are missing, run 'sindri doctor --fix' to auto-install them. For deployment issues, try 'sindri deploy --dry-run' to validate without deploying, check status with 'sindri status', and use verbose logging with 'sindri -v deploy' (or -vv, -vvv for more detail). For image issues, run 'sindri image list' to check available versions. For config problems, run 'sindri config validate --check-extensions'. Common fixes include restarting Docker, checking authentication with 'sindri doctor --check-auth', and increasing timeout with 'sindri deploy --timeout 900'.","versionsApplicable":["v3"],"versionSpecifics":{"v3":{"minVersion":"3.0.0","command":"sindri doctor --all","notes":"V3 provides structured error messages with exit codes (0=success, 1=general error, 2=config error, 3=provider error, 4=network error, 5=auth error). Use SINDRI_LOG_LEVEL=debug for detailed logging."}},"tags":["v3","troubleshooting","doctor","debugging","beginner"],"docs":["v3/docs/QUICKSTART.md","v3/docs/DOCTOR.md","v3/docs/CLI.md"],"personas":["individual-developer","small-team"],"useCases":["local-development"],"difficulty":"beginner","relatedQuestions":["doctor-check-prereqs","doctor-auto-fix","first-deployment-v3","get-help-v3"],"keywords":["troubleshoot","debug","error","fix","problem","issue","verbose","logs"],"dateAdded":"2026-02-05","dateUpdated":"2026-02-05","popularity":0,"upvotes":0},{"id":"get-help-v3","category":"troubleshooting","question":"Where do I get help with Sindri v3?","answer":"For self-service help: run 'sindri --help' or 'sindri <command> --help' for any command's usage details. Check the FAQ at https://sindri-faq.fly.dev for common questions. For documentation, see the Quickstart (v3/docs/QUICKSTART.md), CLI Reference (v3/docs/CLI.md), and Troubleshooting guide (v3/docs/TROUBLESHOOTING.md). For community support, file issues at https://github.com/pacphi/sindri/issues or start a discussion at https://github.com/pacphi/sindri/discussions. Run 'sindri doctor --all --verbose-output' and include the output when filing bug reports.","versionsApplicable":["v3"],"versionSpecifics":{"v3":{"minVersion":"3.0.0","command":"sindri --help","notes":"V3 CLI includes built-in help for every command and subcommand. The doctor command output is useful for bug reports. JSON format (--format json) is useful for sharing diagnostics."}},"tags":["v3","help","support","troubleshooting","beginner"],"docs":["v3/docs/QUICKSTART.md","v3/docs/CLI.md","v3/README.md"],"personas":["individual-developer","small-team","windows-user"],"useCases":["local-development"],"difficulty":"beginner","relatedQuestions":["basic-troubleshooting-v3","doctor-check-prereqs","what-is-sindri-v3"],"keywords":["help","support","issues","faq","documentation","community","github","bug"],"dateAdded":"2026-02-05","dateUpdated":"2026-02-05","popularity":0,"upvotes":0},{"id":"v3-deploy-docker","category":"deployment","question":"How do I deploy with Docker Compose in v3?","answer":"Set your provider to 'docker' in sindri.yaml and run 'sindri deploy'. V3 uses a provider-agnostic architecture where Docker Compose is the default local provider. You can configure Docker-specific options like network mode, restart policy, and Docker-in-Docker under the 'providers.docker' section. Use 'sindri deploy --dry-run' to preview before deploying.","versionsApplicable":["v2","v3"],"versionSpecifics":{"v2":{"command":"./v2/cli/sindri deploy","notes":"Bash-based CLI with Docker Compose deployment"},"v3":{"minVersion":"3.0.0","command":"sindri deploy","notes":"Rust binary with enhanced Docker support including DinD modes (sysbox, privileged, socket), runtime auto-detection, and two-Dockerfile architecture (production vs development)"}},"tags":["v3","v2-v3-compatible","docker","deploy","local-development"],"docs":["v3/docs/DEPLOYMENT.md","v3/docs/CONFIGURATION.md"],"personas":["individual-developer","small-team"],"useCases":["local-development"],"difficulty":"beginner","relatedQuestions":["v3-deploy-flyio","v3-deploy-provider-comparison","v3-config-resources"],"keywords":["docker","docker-compose","deploy","local","container","dind"],"dateAdded":"2026-02-05","dateUpdated":"2026-02-05","popularity":0,"upvotes":0},{"id":"v3-deploy-flyio","category":"deployment","question":"How do I deploy to Fly.io with v3?","answer":"Set 'deployment.provider: fly' in sindri.yaml and configure the Fly.io provider options under 'providers.fly' including region, SSH port, and auto-suspend settings. Run 'sindri deploy' to deploy. V3 adds image signature verification and cost optimization via auto-stop/auto-start machines. You need flyctl installed and authenticated ('flyctl auth login').","versionsApplicable":["v2","v3"],"versionSpecifics":{"v2":{"command":"./v2/cli/sindri deploy","notes":"Bash CLI deploys to Fly.io with basic configuration"},"v3":{"minVersion":"3.0.0","command":"sindri deploy","notes":"Rust binary with image verification, dry-run preview, structured image_config with semver constraints, and enhanced Fly.io options (cpuKind, highAvailability, sshPort)"}},"tags":["v3","v2-v3-compatible","flyio","deploy","cloud-deployment"],"docs":["v3/docs/DEPLOYMENT.md","v3/docs/CONFIGURATION.md"],"personas":["individual-developer","small-team"],"useCases":["cloud-deployment"],"difficulty":"beginner","relatedQuestions":["v3-deploy-docker","v3-deploy-provider-comparison","v3-config-networking"],"keywords":["fly.io","flyio","fly","cloud","deploy","remote","ssh","auto-suspend"],"dateAdded":"2026-02-05","dateUpdated":"2026-02-05","popularity":0,"upvotes":0},{"id":"v3-deploy-devpod","category":"deployment","question":"How do I use DevPod as a provider in v3?","answer":"Set 'deployment.provider: devpod' and configure the backend type under 'providers.devpod.type' (aws, gcp, azure, digitalocean, kubernetes, ssh, or docker). DevPod is a meta-provider that supports multiple cloud backends with IDE-native container experiences. For cloud backends, set 'buildRepository' to a container registry for image push. Run 'sindri deploy' after configuring.","versionsApplicable":["v2","v3"],"versionSpecifics":{"v2":{"command":"./v2/cli/sindri deploy","notes":"Bash CLI with DevPod support for local and cloud backends"},"v3":{"minVersion":"3.0.0","command":"sindri deploy","notes":"Rust binary with enhanced DevPod support including AWS, GCP, Azure, DigitalOcean, Kubernetes, SSH, and Docker backends with provider-specific configuration options"}},"tags":["v3","v2-v3-compatible","devpod","deploy","multi-cloud"],"docs":["v3/docs/DEPLOYMENT.md","v3/docs/CONFIGURATION.md"],"personas":["individual-developer","small-team","platform-engineer"],"useCases":["multi-cloud","local-development"],"difficulty":"intermediate","relatedQuestions":["v3-deploy-docker","v3-deploy-kubernetes","v3-deploy-provider-comparison"],"keywords":["devpod","multi-cloud","aws","gcp","azure","vscode","ide"],"dateAdded":"2026-02-05","dateUpdated":"2026-02-05","popularity":0,"upvotes":0},{"id":"v3-deploy-kubernetes","category":"deployment","question":"How do I deploy to a Kubernetes cluster with v3?","answer":"Set 'deployment.provider: kubernetes' in sindri.yaml and configure namespace, storage class, and optional ingress under 'providers.kubernetes'. Run 'sindri config init --provider kubernetes --profile kubernetes' to generate configuration. For local testing, create a cluster first with 'sindri k8s create --provider kind'. Deploy with 'sindri deploy' and connect via 'sindri connect' or kubectl.","versionsApplicable":["v3"],"versionSpecifics":{"v3":{"minVersion":"3.0.0","command":"sindri deploy","notes":"Native Kubernetes provider with built-in local cluster management (kind/k3d), PVC storage, ingress configuration, and GPU support via node labels"}},"tags":["v3","kubernetes","k8s","deploy","enterprise"],"docs":["v3/docs/K8S.md","v3/docs/DEPLOYMENT.md","v3/docs/CONFIGURATION.md"],"personas":["platform-engineer","enterprise"],"useCases":["production-kubernetes","local-development"],"difficulty":"intermediate","relatedQuestions":["v3-deploy-devpod","v3-deploy-provider-comparison","v3-config-resources"],"keywords":["kubernetes","k8s","cluster","kubectl","kind","k3d","namespace","ingress"],"dateAdded":"2026-02-05","dateUpdated":"2026-02-05","popularity":0,"upvotes":0},{"id":"v3-deploy-e2b","category":"deployment","question":"How do I use E2B (cloud sandbox) as a provider?","answer":"Set 'deployment.provider: e2b' in sindri.yaml and configure options under 'providers.e2b' including timeout, autoPause, autoResume, and internetAccess settings. E2B provides ultra-fast cloud sandboxes with ~150ms startup times, ideal for AI agents and rapid prototyping. Note that E2B does not support GPU configuration and uses WebSocket PTY for access instead of SSH. Authenticate with 'e2b auth login' before deploying.","versionsApplicable":["v3"],"versionSpecifics":{"v3":{"minVersion":"3.0.0","command":"sindri deploy","notes":"E2B is a v3-only provider supporting templateAlias, reuseTemplate, domain whitelisting (allowedDomains/blockedDomains), publicAccess, metadata, and team billing"}},"tags":["v3","v3-only","e2b","deploy","ai","sandbox"],"docs":["v3/docs/DEPLOYMENT.md","v3/docs/CONFIGURATION.md"],"personas":["ai-ml-researcher","individual-developer"],"useCases":["ai-agent-development","cloud-deployment"],"difficulty":"intermediate","relatedQuestions":["v3-deploy-provider-comparison","v3-deploy-docker","v3-deploy-flyio"],"keywords":["e2b","sandbox","cloud","ai","agent","websocket","fast-startup"],"dateAdded":"2026-02-05","dateUpdated":"2026-02-05","popularity":0,"upvotes":0},{"id":"v3-deploy-provider-comparison","category":"deployment","question":"How do I compare and choose between providers?","answer":"Sindri v3 supports five providers: Docker (free, local, offline work), Fly.io (~$6-50/mo, remote SSH, auto-suspend), DevPod (multi-cloud IDE integration), E2B (~$0.13/hr, ultra-fast AI sandboxes), and Kubernetes (enterprise, full control). Choose Docker for local development and CI/CD, Fly.io for cost-optimized remote access, DevPod for VS Code users needing multi-cloud, E2B for AI agent sandboxes, and Kubernetes for production enterprise deployments. Run 'sindri deploy --dry-run' to preview any provider's deployment plan.","versionsApplicable":["v3"],"versionSpecifics":{"v3":{"minVersion":"3.0.0","command":"sindri deploy --dry-run","notes":"V3 adds E2B and native Kubernetes providers, plus enhanced DevPod backends. All providers use the same base image and extension system for portability."}},"tags":["v3","deploy","docker","flyio","devpod","e2b","kubernetes"],"docs":["v3/docs/DEPLOYMENT.md"],"personas":["individual-developer","small-team","platform-engineer"],"useCases":["local-development","cloud-deployment","multi-cloud"],"difficulty":"beginner","relatedQuestions":["v3-deploy-docker","v3-deploy-flyio","v3-deploy-devpod","v3-deploy-e2b","v3-deploy-kubernetes"],"keywords":["provider","comparison","choose","cost","pricing","docker","fly","devpod","e2b","kubernetes"],"dateAdded":"2026-02-05","dateUpdated":"2026-02-05","popularity":0,"upvotes":0},{"id":"v3-config-resources","category":"deployment","question":"How do I configure resource limits for my environment?","answer":"Set CPU, memory, and optional GPU resources under 'deployment.resources' in sindri.yaml. Memory uses a pattern like '4GB' or '512MB', and cpus takes an integer (minimum 1). For GPU workloads, enable GPU with 'gpu.enabled: true' and specify type (nvidia/amd), count (1-8), tier (gpu-small through gpu-xlarge), and minimum memory. Note that E2B does not support GPU configuration. Run 'sindri config validate' to verify your resource settings.","versionsApplicable":["v3"],"versionSpecifics":{"v3":{"minVersion":"3.0.0","command":"sindri config validate","notes":"V3 adds structured GPU configuration with tier-based selection (gpu-small, gpu-medium, gpu-large, gpu-xlarge) that maps to provider-specific GPU types automatically"}},"tags":["v3","config","resources","gpu","memory","cpu"],"docs":["v3/docs/CONFIGURATION.md","v3/docs/DEPLOYMENT.md"],"personas":["individual-developer","ai-ml-researcher","platform-engineer"],"useCases":["local-development","cloud-deployment"],"difficulty":"beginner","relatedQuestions":["v3-config-gpu","v3-deploy-provider-comparison","v3-config-schema"],"keywords":["resources","memory","cpu","gpu","limits","allocation","tier"],"dateAdded":"2026-02-05","dateUpdated":"2026-02-05","popularity":0,"upvotes":0},{"id":"v3-config-networking","category":"deployment","question":"How do I configure networking and port forwarding?","answer":"For Docker, configure ports under 'providers.docker.ports' as an array of 'host:container' mappings (e.g., '8080:8080'), and set network mode via 'providers.docker.network' (bridge, host, or none). For Fly.io, set the external SSH port with 'providers.fly.sshPort' (range 1024-65535, default 10022). For Kubernetes, enable ingress with 'providers.kubernetes.ingress.enabled: true' and set a hostname. For E2B, configure 'providers.e2b.internetAccess' and optionally whitelist domains with 'allowedDomains'.","versionsApplicable":["v3"],"versionSpecifics":{"v3":{"minVersion":"3.0.0","command":"sindri config validate","notes":"V3 provides per-provider networking configuration including Docker extraHosts, Fly.io SSH port, Kubernetes ingress, and E2B domain whitelisting/blacklisting"}},"tags":["v3","config","networking","ports","ssh","ingress"],"docs":["v3/docs/CONFIGURATION.md","v3/docs/DEPLOYMENT.md"],"personas":["individual-developer","platform-engineer"],"useCases":["local-development","cloud-deployment"],"difficulty":"intermediate","relatedQuestions":["v3-deploy-docker","v3-deploy-flyio","v3-deploy-kubernetes","v3-config-provider-options"],"keywords":["networking","ports","port-forwarding","ssh","ingress","bridge","host"],"dateAdded":"2026-02-05","dateUpdated":"2026-02-05","popularity":0,"upvotes":0},{"id":"v3-ext-install","category":"extensions","question":"How do I install extensions in v3?","answer":"Use 'sindri extension install <name>' to install a single extension, or 'sindri extension install --profile fullstack' to install a pre-configured profile bundle. You can install multiple extensions at once with 'sindri extension install nodejs python docker'. Extensions can also be defined in sindri.yaml under 'extensions.profile' or 'extensions.active' and auto-installed on deploy. Use 'sindri extension list' to browse all 49 available extensions across 13 categories.","versionsApplicable":["v2","v3"],"versionSpecifics":{"v2":{"command":"./v2/cli/sindri extension install <name>","notes":"Bash-based extension installation with 4 methods"},"v3":{"minVersion":"3.0.0","command":"sindri extension install <name>","notes":"Rust binary with 6 installation methods (mise, apt, binary, npm, script, hybrid), DAG dependency resolution, version pinning, and 49 extensions across 13 categories"}},"tags":["v3","v2-v3-compatible","extensions","install","profile"],"docs":["v3/docs/EXTENSIONS.md","v3/docs/CLI.md"],"personas":["individual-developer","small-team"],"useCases":["local-development"],"difficulty":"beginner","relatedQuestions":["v3-ext-profiles","v3-ext-version-pinning","v3-ext-dependencies"],"keywords":["extension","install","profile","plugin","tool","language"],"dateAdded":"2026-02-05","dateUpdated":"2026-02-05","popularity":0,"upvotes":0},{"id":"v3-ext-version-pinning","category":"extensions","question":"How does extension version pinning work?","answer":"Install a specific version with 'sindri extension install nodejs@2.1.0' or use '--version 2.1.0'. V3 stores extensions in versioned directories (e.g., ~/.sindri/extensions/nodejs/2.1.0/) and keeps previous versions for rollback support. Check available versions with 'sindri extension versions nodejs'. The production deployment mode downloads extensions from GitHub releases with version-specific archives, while development mode uses the single version bundled in the Docker image.","versionsApplicable":["v3"],"versionSpecifics":{"v3":{"minVersion":"3.0.0","command":"sindri extension install nodejs@2.1.0","notes":"Extensions use semantic versioning with versioned directory structure. Old versions are kept for rollback. The registry includes a compatibility matrix mapping CLI versions to extension versions."}},"tags":["v3","v3-only","extensions","versioning","semantic-versioning"],"docs":["v3/docs/EXTENSIONS.md","v3/docs/CLI.md"],"personas":["individual-developer","small-team","enterprise"],"useCases":["local-development","security-compliance"],"difficulty":"intermediate","relatedQuestions":["v3-ext-install","v3-ext-upgrade-rollback","v3-ext-validation"],"keywords":["version","pin","pinning","semver","semantic","specific-version"],"dateAdded":"2026-02-05","dateUpdated":"2026-02-05","popularity":0,"upvotes":0},{"id":"v3-ext-upgrade-rollback","category":"extensions","question":"How do I upgrade or rollback an extension?","answer":"Upgrade an extension to the latest version with 'sindri extension upgrade nodejs', or to a specific version with 'sindri extension upgrade nodejs --version 2.2.0'. Check for available updates across all extensions with 'sindri extension check'. To rollback to the previous version, run 'sindri extension rollback nodejs'. V3 keeps old versions in versioned directories so rollback is instantaneous without re-downloading.","versionsApplicable":["v3"],"versionSpecifics":{"v3":{"minVersion":"3.0.0","command":"sindri extension upgrade nodejs","notes":"V3 supports upgrade, rollback, and version checking. Old versions are preserved in ~/.sindri/extensions/<name>/<version>/ for instant rollback."}},"tags":["v3","v3-only","extensions","upgrade","rollback"],"docs":["v3/docs/EXTENSIONS.md","v3/docs/CLI.md"],"personas":["individual-developer","small-team"],"useCases":["local-development"],"difficulty":"intermediate","relatedQuestions":["v3-ext-version-pinning","v3-ext-install","v3-ext-validation"],"keywords":["upgrade","rollback","update","downgrade","version","extension"],"dateAdded":"2026-02-05","dateUpdated":"2026-02-05","popularity":0,"upvotes":0},{"id":"v3-ext-dependencies","category":"extensions","question":"How do extension dependencies work?","answer":"Extensions declare dependencies in their extension.yaml under 'metadata.dependencies' as a list of required extension names. V3 uses a DAG (directed acyclic graph) with topological sort to resolve and install dependencies in the correct order. When you install an extension with dependencies, they are automatically installed first. Use '--no-deps' to skip dependency installation if needed. Check an extension's dependencies with 'sindri extension info <name> --json'.","versionsApplicable":["v3"],"versionSpecifics":{"v3":{"minVersion":"3.0.0","command":"sindri extension info nodejs --json","notes":"V3 uses DAG-based dependency resolution with topological sort, replacing v2's linear dependency handling. 31 of 49 extensions declare dependencies."}},"tags":["v3","extensions","dependencies","install"],"docs":["v3/docs/EXTENSIONS.md","v3/docs/SCHEMA.md"],"personas":["individual-developer","small-team"],"useCases":["local-development"],"difficulty":"intermediate","relatedQuestions":["v3-ext-install","v3-ext-create-custom","v3-troubleshoot-ext-conflicts"],"keywords":["dependency","dependencies","dag","topological","order","requires"],"dateAdded":"2026-02-05","dateUpdated":"2026-02-05","popularity":0,"upvotes":0},{"id":"v3-ext-create-custom","category":"extensions","question":"How do I create a custom extension for v3?","answer":"Create an extension.yaml file following the V3 extension schema with metadata (name, version, description, category), install method (mise, apt, binary, npm, script, or hybrid), configure section for templates and environment variables, and validate commands. Place it in your extensions directory or use SINDRI_EXT_HOME to point to custom extensions. Validate your extension with 'sindri extension validate --file ./extension.yaml'. The extension can include lifecycle hooks (pre/post install), MCP integration, project-init capabilities, and a BOM section for SBOM generation.","versionsApplicable":["v3"],"versionSpecifics":{"v3":{"minVersion":"3.0.0","command":"sindri extension validate --file ./extension.yaml","notes":"V3 extensions support 6 installation methods, 4 configure modes (overwrite, append, merge, skip-if-exists), conditional templates, collision handling, and BOM generation. See the Extension Authoring Guide for detailed instructions."}},"tags":["v3","v3-only","extensions","create","custom","advanced"],"docs":["v3/docs/EXTENSIONS.md","v3/docs/SCHEMA.md"],"personas":["individual-developer","platform-engineer"],"useCases":["local-development"],"difficulty":"advanced","relatedQuestions":["v3-ext-validation","v3-ext-dependencies","v3-ext-install"],"keywords":["create","custom","extension","author","develop","extension.yaml","schema"],"dateAdded":"2026-02-05","dateUpdated":"2026-02-05","popularity":0,"upvotes":0},{"id":"v3-ext-profiles","category":"extensions","question":"How do I use extension profiles?","answer":"Profiles are pre-configured bundles of extensions for common use cases. Set a profile in sindri.yaml with 'extensions.profile: fullstack' or install from CLI with 'sindri profile install fullstack'. Available profiles include minimal (nodejs, python), fullstack (nodejs, python, docker, devtools), anthropic-dev (Claude tools, AI agents), systems (rust, golang, docker), devops (docker, infra-tools, monitoring), and enterprise (all languages + infrastructure). Add extra extensions on top of a profile with 'extensions.additional'. List all profiles with 'sindri profile list'.","versionsApplicable":["v2","v3"],"versionSpecifics":{"v2":{"command":"./v2/cli/sindri extension install --profile fullstack","notes":"Bash CLI with profile-based extension bundles"},"v3":{"minVersion":"3.0.0","command":"sindri profile list","notes":"V3 adds profile management commands (list, install, reinstall, info, status), the 'additional' field for augmenting profiles, and new profiles like anthropic-dev and mobile"}},"tags":["v3","v2-v3-compatible","extensions","profile","config"],"docs":["v3/docs/EXTENSIONS.md","v3/docs/CONFIGURATION.md","v3/docs/CLI.md"],"personas":["individual-developer","small-team"],"useCases":["local-development"],"difficulty":"beginner","relatedQuestions":["v3-ext-install","v3-config-schema","v3-ext-version-pinning"],"keywords":["profile","bundle","minimal","fullstack","anthropic-dev","enterprise","devops"],"dateAdded":"2026-02-05","dateUpdated":"2026-02-05","popularity":0,"upvotes":0},{"id":"v3-ext-validation","category":"extensions","question":"How does extension validation work in v3?","answer":"V3 validates extensions at multiple levels. Run 'sindri extension validate <name>' to validate an installed extension against its schema, or 'sindri extension validate --file ./extension.yaml' for a local file. Each extension defines validation commands in its 'validate.commands' section with expected version patterns. V3 also validates against the JSON schema at v3/schemas/extension.schema.json, checking required fields (metadata, install, validate), category values, installation method configuration, and dependency references. Use 'sindri config validate --check-extensions' to verify all configured extensions exist.","versionsApplicable":["v3"],"versionSpecifics":{"v3":{"minVersion":"3.0.0","command":"sindri extension validate <name>","notes":"V3 uses compile-time typed structs (80+ types) with JSON Schema draft-07 validation, multi-layer path validation, checksum verification, and SBOM generation for security compliance"}},"tags":["v3","v3-only","extensions","validation","schema"],"docs":["v3/docs/EXTENSIONS.md","v3/docs/SCHEMA.md","v3/docs/CLI.md"],"personas":["individual-developer","enterprise"],"useCases":["local-development","security-compliance"],"difficulty":"intermediate","relatedQuestions":["v3-ext-create-custom","v3-config-validation","v3-ext-install"],"keywords":["validate","validation","schema","verify","check","extension"],"dateAdded":"2026-02-05","dateUpdated":"2026-02-05","popularity":0,"upvotes":0},{"id":"v3-config-schema","category":"configuration","question":"What is the sindri.yaml v3 schema structure?","answer":"The v3 sindri.yaml requires four top-level fields: 'version' (must be '3.0'), 'name' (lowercase alphanumeric with hyphens, max 63 chars), 'deployment' (with required 'provider' field), and 'extensions' (with either 'profile' or 'active' list). Optional sections include 'secrets' for secret injection and 'providers' for provider-specific configuration. V3 introduces 'image_config' for structured image management with semver constraints and signature verification. Validate your configuration with 'sindri config validate'.","versionsApplicable":["v3"],"versionSpecifics":{"v3":{"minVersion":"3.0.0","command":"sindri config validate","notes":"V3 schema uses JSON Schema draft-07 at v3/schemas/sindri.schema.json. Key additions over v2: image_config with signature verification, GPU configuration, E2B and Kubernetes providers, and buildFromSource option."}},"tags":["v3","config","schema","yaml","beginner"],"docs":["v3/docs/CONFIGURATION.md","v3/docs/SCHEMA.md"],"personas":["individual-developer","small-team"],"useCases":["local-development"],"difficulty":"beginner","relatedQuestions":["v3-config-validation","v3-config-images","v3-config-runtime"],"keywords":["schema","sindri.yaml","configuration","structure","format","version"],"dateAdded":"2026-02-05","dateUpdated":"2026-02-05","popularity":0,"upvotes":0},{"id":"v3-config-images","category":"configuration","question":"How do I configure container/VM images?","answer":"V3 introduces structured image configuration via 'deployment.image_config' with fields for registry, version (semver constraint like '^3.0.0'), resolution_strategy (semver, latest-stable, pin-to-cli, explicit), and security options (verify_signature, verify_provenance). You can pin to an exact digest with 'image_config.digest' for immutable production deployments. The legacy 'deployment.image' string field is still supported but deprecated. Image resolution priority is: digest > tag_override > version constraint > legacy image > local Dockerfile > default.","versionsApplicable":["v3"],"versionSpecifics":{"v3":{"minVersion":"3.0.0","command":"sindri image list","notes":"V3 adds image_config with cosign signature verification, SLSA provenance attestation, pull policy (Always, IfNotPresent, Never), certificate identity matching, and two-Dockerfile architecture (production vs development)"}},"tags":["v3","v3-only","config","image-management","docker","security"],"docs":["v3/docs/CONFIGURATION.md","v3/docs/DEPLOYMENT.md","v3/docs/SCHEMA.md"],"personas":["individual-developer","enterprise","platform-engineer"],"useCases":["local-development","security-compliance"],"difficulty":"intermediate","relatedQuestions":["v3-config-schema","v3-troubleshoot-image-errors","v3-config-validation"],"keywords":["image","container","registry","version","digest","signature","cosign","semver"],"dateAdded":"2026-02-05","dateUpdated":"2026-02-05","popularity":0,"upvotes":0},{"id":"v3-config-runtime","category":"configuration","question":"How do I configure runtime settings?","answer":"Sindri v3 separates deployment configuration (sindri.yaml) from runtime configuration (~/.sindri/sindri-runtime.yaml). Runtime settings control CLI behavior like network timeouts, retry policies, GitHub settings, backup retention, and display preferences. Create ~/.sindri/sindri-runtime.yaml to override defaults -- you only need to include values you want to change. Settings follow a precedence order: embedded defaults < global config < environment variables (SINDRI_* prefix) < CLI flags. For example, set 'SINDRI_HTTP_TIMEOUT_SECS=600' for slow networks.","versionsApplicable":["v3"],"versionSpecifics":{"v3":{"minVersion":"3.0.0","command":"sindri config show","notes":"V3-only feature. Runtime config supports network timeouts, retry strategies (exponential-backoff, linear-backoff, fixed-delay, none), operation-specific retry policies, GitHub Enterprise settings, and mise-specific timeouts."}},"tags":["v3","v3-only","config","runtime","timeout","retry"],"docs":["v3/docs/RUNTIME_CONFIGURATION.md","v3/docs/CONFIGURATION.md"],"personas":["individual-developer","enterprise","platform-engineer"],"useCases":["local-development","cloud-deployment"],"difficulty":"intermediate","relatedQuestions":["v3-config-schema","v3-config-env-vars","v3-troubleshoot-performance"],"keywords":["runtime","timeout","retry","configuration","settings","sindri-runtime.yaml"],"dateAdded":"2026-02-05","dateUpdated":"2026-02-05","popularity":0,"upvotes":0},{"id":"v3-config-gpu","category":"configuration","question":"How do I configure GPU passthrough?","answer":"Enable GPU under 'deployment.resources.gpu' by setting 'enabled: true', then specify type (nvidia or amd), count (1-8), tier (gpu-small, gpu-medium, gpu-large, gpu-xlarge), and minimum memory. GPU tiers automatically map to provider-specific instance types (e.g., gpu-medium maps to A10G/L4). GPU is supported by Docker (requires NVIDIA Container Toolkit), Fly.io (GPU machines), DevPod (backend-dependent), and Kubernetes (requires GPU nodes). E2B does not support GPU. For Docker, set 'providers.docker.runtime: auto' to auto-detect GPU runtime.","versionsApplicable":["v3"],"versionSpecifics":{"v3":{"minVersion":"3.0.0","command":"sindri config validate","notes":"V3 adds tier-based GPU configuration that abstracts provider-specific GPU types. Tiers: gpu-small (T4/A10, inference), gpu-medium (A10G/L4, medium training), gpu-large (A100 40GB, large training), gpu-xlarge (A100 80GB/H100, maximum performance)."}},"tags":["v3","v3-only","config","gpu","nvidia","ai"],"docs":["v3/docs/CONFIGURATION.md","v3/docs/DEPLOYMENT.md","v3/docs/SCHEMA.md"],"personas":["ai-ml-researcher","platform-engineer"],"useCases":["ai-agent-development","cloud-deployment"],"difficulty":"advanced","relatedQuestions":["v3-config-resources","v3-deploy-provider-comparison","v3-config-provider-options"],"keywords":["gpu","nvidia","amd","cuda","passthrough","tier","machine-learning"],"dateAdded":"2026-02-05","dateUpdated":"2026-02-05","popularity":0,"upvotes":0},{"id":"v3-config-secrets","category":"secrets","question":"How do I set up secrets in my configuration?","answer":"Define secrets in the 'secrets' array in sindri.yaml. Each secret has a name (uppercase with underscores), source (env, file, vault, or s3), and optional required flag. For environment variables, use 'source: env' with optional 'fromFile' to read from a file. For file mounts, use 'source: file' with path and mountPath. For HashiCorp Vault, specify vaultPath and vaultKey. For S3 encrypted storage (v3-only), use 'source: s3' with s3Path. Validate secrets are accessible with 'sindri secrets validate'.","versionsApplicable":["v2","v3"],"versionSpecifics":{"v2":{"command":"./v2/cli/sindri secrets validate","notes":"V2 supports env and file sources"},"v3":{"minVersion":"3.0.0","command":"sindri secrets validate","notes":"V3 adds S3 encrypted secret storage with age encryption, Vault integration, fromFile support, and secret priority resolution (shell env > .env.local > .env > fromFile > S3 > Vault)"}},"tags":["v3","v2-v3-compatible","secrets","config","security"],"docs":["v3/docs/CONFIGURATION.md","v3/docs/DEPLOYMENT.md"],"personas":["individual-developer","small-team","enterprise"],"useCases":["local-development","security-compliance"],"difficulty":"intermediate","relatedQuestions":["v3-config-env-vars","v3-config-schema","v3-deploy-docker"],"keywords":["secrets","env","vault","s3","environment","api-key","credentials"],"dateAdded":"2026-02-05","dateUpdated":"2026-02-05","popularity":0,"upvotes":0},{"id":"v3-config-provider-options","category":"configuration","question":"How do I configure provider-specific options?","answer":"Provider-specific settings go under the 'providers' key in sindri.yaml. Each provider has its own section: 'providers.docker' for network mode, restart policy, ports, DinD, and runtime; 'providers.fly' for region, sshPort, autoStopMachines, cpuKind, and organization; 'providers.kubernetes' for namespace, storageClass, and ingress; 'providers.devpod' for backend type and cloud-specific options; 'providers.e2b' for timeout, autoPause, internetAccess, and domain whitelisting; 'providers.k8s' for local cluster management with kind or k3d.","versionsApplicable":["v3"],"versionSpecifics":{"v3":{"minVersion":"3.0.0","command":"sindri config show","notes":"V3 adds E2B provider configuration, enhanced DevPod backends (7 types), local K8s cluster management (kind/k3d), Docker DinD mode selection, and Kubernetes ingress configuration"}},"tags":["v3","config","providers","docker","flyio","kubernetes"],"docs":["v3/docs/CONFIGURATION.md","v3/docs/SCHEMA.md"],"personas":["individual-developer","platform-engineer"],"useCases":["local-development","cloud-deployment","production-kubernetes"],"difficulty":"intermediate","relatedQuestions":["v3-deploy-provider-comparison","v3-config-networking","v3-config-schema"],"keywords":["provider","options","docker","fly","kubernetes","devpod","e2b","configuration"],"dateAdded":"2026-02-05","dateUpdated":"2026-02-05","popularity":0,"upvotes":0},{"id":"v3-config-validation","category":"configuration","question":"How does configuration validation work?","answer":"Run 'sindri config validate' to validate your sindri.yaml against the JSON schema (v3/schemas/sindri.schema.json). Add '--check-extensions' to also verify configured extensions exist. V3 validates required fields (version, name, deployment.provider, extensions), value patterns (name must be lowercase with hyphens, version must be 'X.Y'), mutual exclusivity (profile vs active), and provider-specific constraints. Common errors include using both profile and active, invalid name characters, wrong version format (use '\"3.0\"' with quotes), and unknown provider values.","versionsApplicable":["v3"],"versionSpecifics":{"v3":{"minVersion":"3.0.0","command":"sindri config validate --check-extensions","notes":"V3 uses JSON Schema draft-07 validation embedded at compile time. Validation covers all top-level fields, provider-specific constraints, image_config semver patterns, GPU configuration, and secret name patterns."}},"tags":["v3","config","validation","schema","troubleshooting"],"docs":["v3/docs/CONFIGURATION.md","v3/docs/SCHEMA.md","v3/docs/CLI.md"],"personas":["individual-developer","small-team"],"useCases":["local-development"],"difficulty":"beginner","relatedQuestions":["v3-config-schema","v3-ext-validation","v3-troubleshoot-platform"],"keywords":["validate","validation","schema","config","check","error","sindri.yaml"],"dateAdded":"2026-02-05","dateUpdated":"2026-02-05","popularity":0,"upvotes":0},{"id":"v3-config-env-vars","category":"configuration","question":"How do I use environment variables in configuration?","answer":"Sindri v3 uses environment variables at two levels. For deployment, secrets with 'source: env' inject host environment variables into the container. The priority order is: shell env > .env.local > .env > fromFile > S3 > Vault. Use '--env-file' with deploy to specify a custom .env file. For runtime CLI behavior, use SINDRI_* prefixed variables like SINDRI_HTTP_TIMEOUT_SECS, SINDRI_LOG_LEVEL (trace/debug/info/warn/error), SINDRI_VERBOSE, and SINDRI_NO_COLOR. Common container variables include SINDRI_NAME, SINDRI_PROVIDER, and SINDRI_VERSION.","versionsApplicable":["v3"],"versionSpecifics":{"v3":{"minVersion":"3.0.0","command":"sindri deploy --env-file ./custom.env","notes":"V3 adds SINDRI_EXT_HOME for extension directory, SINDRI_BUILD_FROM_SOURCE for source builds, SINDRI_LOG_LEVEL for logging, and supports .env.local files for local overrides"}},"tags":["v3","config","env","secrets","runtime"],"docs":["v3/docs/CONFIGURATION.md","v3/docs/RUNTIME_CONFIGURATION.md","v3/docs/CLI.md"],"personas":["individual-developer","small-team"],"useCases":["local-development","cloud-deployment"],"difficulty":"beginner","relatedQuestions":["v3-config-secrets","v3-config-runtime","v3-troubleshoot-debug-logging"],"keywords":["environment","variables","env","SINDRI_","env-file","dotenv"],"dateAdded":"2026-02-05","dateUpdated":"2026-02-05","popularity":0,"upvotes":0},{"id":"v3-troubleshoot-platform","category":"troubleshooting","question":"How do I troubleshoot platform-specific issues?","answer":"Start with 'sindri doctor' to check all required tools for your configured provider, or 'sindri doctor --provider docker' for a specific provider. For macOS, if the binary is blocked, run 'xattr -d com.apple.quarantine /usr/local/bin/sindri'. For Linux permission issues, add your user to the docker group ('sudo usermod -aG docker $USER'). For Docker issues, check if Docker is running with 'docker info' and clean up space with 'docker system prune'. For Fly.io, verify authentication with 'flyctl auth whoami'. For Kubernetes, check context with 'kubectl config current-context'.","versionsApplicable":["v3"],"versionSpecifics":{"v3":{"minVersion":"3.0.0","command":"sindri doctor --provider docker","notes":"V3's doctor command provides provider-specific diagnostics with auto-fix capability, authentication checking, and CI mode for scripting"}},"tags":["v3","troubleshooting","platform","macos","linux","windows"],"docs":["v3/docs/TROUBLESHOOTING.md","v3/docs/CLI.md"],"personas":["individual-developer","windows-user"],"useCases":["local-development"],"difficulty":"beginner","relatedQuestions":["v3-troubleshoot-doctor","v3-troubleshoot-provider-errors","v3-troubleshoot-image-errors"],"keywords":["troubleshoot","platform","macos","linux","windows","permission","quarantine"],"dateAdded":"2026-02-05","dateUpdated":"2026-02-05","popularity":0,"upvotes":0},{"id":"v3-troubleshoot-doctor","category":"doctor-diagnostics","question":"How do I use doctor diagnostics for troubleshooting?","answer":"Run 'sindri doctor' for a comprehensive system check of all required tools. Use '--provider' to check tools for a specific provider (docker, fly, devpod, e2b, k8s). Add '--check-auth' to verify authentication status for services that require it. The auto-fix mode ('sindri doctor --fix') can install missing tools -- preview with '--dry-run' first. For CI/CD, use 'sindri doctor --ci --format json' which returns exit code 0 (all required tools present), 1 (missing required), or 2 (version too old). Use '--all --verbose-output' for detailed timing information.","versionsApplicable":["v3"],"versionSpecifics":{"v3":{"minVersion":"3.0.0","command":"sindri doctor --fix --dry-run","notes":"V3-only comprehensive diagnostics with auto-fix, CI mode, provider-specific checks, authentication status, extension requirement checking, and JSON/YAML output formats"}},"tags":["v3","v3-only","doctor","diagnostics","troubleshooting"],"docs":["v3/docs/TROUBLESHOOTING.md","v3/docs/CLI.md"],"personas":["individual-developer","small-team","enterprise"],"useCases":["local-development"],"difficulty":"beginner","relatedQuestions":["v3-troubleshoot-platform","v3-troubleshoot-provider-errors","v3-troubleshoot-debug-logging"],"keywords":["doctor","diagnostics","check","fix","tools","prerequisites","system"],"dateAdded":"2026-02-05","dateUpdated":"2026-02-05","popularity":0,"upvotes":0},{"id":"v3-troubleshoot-image-errors","category":"troubleshooting","question":"How do I resolve image-related errors?","answer":"For 'Failed to resolve image version' errors, check available images with 'sindri image list' and verify version compatibility with 'sindri image versions --cli-version 3.0.0'. For signature verification failures, run 'sindri image verify <tag>' to check the image, or use '--skip-image-verification' for local development. For image pull failures in Kubernetes, create a registry secret ('kubectl create secret docker-registry ghcr-secret ...'). You can also pin to an explicit tag with 'image_config.tag_override' or an exact digest with 'image_config.digest' to avoid resolution issues.","versionsApplicable":["v3"],"versionSpecifics":{"v3":{"minVersion":"3.0.0","command":"sindri image verify ghcr.io/pacphi/sindri:v3.0.0","notes":"V3 image resolution follows a priority chain: digest > tag_override > version constraint > legacy image > Dockerfile > default. Use resolution_strategy: explicit for pinned deployments."}},"tags":["v3","troubleshooting","image-management","docker","security"],"docs":["v3/docs/TROUBLESHOOTING.md","v3/docs/CONFIGURATION.md","v3/docs/CLI.md"],"personas":["individual-developer","enterprise"],"useCases":["local-development","security-compliance"],"difficulty":"intermediate","relatedQuestions":["v3-config-images","v3-troubleshoot-provider-errors","v3-config-validation"],"keywords":["image","verify","signature","pull","resolution","digest","cosign","error"],"dateAdded":"2026-02-05","dateUpdated":"2026-02-05","popularity":0,"upvotes":0},{"id":"v3-troubleshoot-provider-errors","category":"troubleshooting","question":"How do I troubleshoot provider connection errors?","answer":"For Docker: verify Docker is running with 'docker info', check permissions ('sudo usermod -aG docker $USER'), and clean up with 'docker system prune'. For Fly.io: check auth ('flyctl auth whoami'), verify machine status ('flyctl status -a <app>'), and start suspended machines ('flyctl machine start <id> -a <app>'). For Kubernetes: verify context ('kubectl config current-context'), check namespace exists, and test connectivity ('kubectl cluster-info'). For DevPod: verify the backend provider is installed ('devpod provider list'). For E2B: check auth ('e2b auth status'). Use 'sindri doctor --provider <name>' to diagnose missing tools.","versionsApplicable":["v3"],"versionSpecifics":{"v3":{"minVersion":"3.0.0","command":"sindri doctor --provider fly --check-auth","notes":"V3 provides structured exit codes: 0 (success), 1 (general error), 2 (config error), 3 (provider error), 4 (network error), 5 (auth error). Use '-vvv' for maximum debug output."}},"tags":["v3","troubleshooting","provider","connection","auth"],"docs":["v3/docs/TROUBLESHOOTING.md","v3/docs/DEPLOYMENT.md"],"personas":["individual-developer","small-team"],"useCases":["local-development","cloud-deployment"],"difficulty":"intermediate","relatedQuestions":["v3-troubleshoot-doctor","v3-troubleshoot-platform","v3-deploy-provider-comparison"],"keywords":["provider","connection","error","auth","docker","fly","kubernetes","devpod","e2b"],"dateAdded":"2026-02-05","dateUpdated":"2026-02-05","popularity":0,"upvotes":0},{"id":"v3-troubleshoot-ext-conflicts","category":"troubleshooting","question":"How do I fix extension conflicts?","answer":"Check extension dependencies and conflicts with 'sindri extension info <name> --json' to see what each extension requires. If an extension install fails, first validate it with 'sindri extension validate <name> -v' for verbose output. Common causes include missing dependencies (install them first), network issues (check proxy settings), and insufficient disk space. For tools not found after install, source your shell profile ('source ~/.bashrc') or check mise shims ('mise list'). Force reinstall a problematic extension with 'sindri extension install --force <name>'. To remove a conflicting extension, use 'sindri extension remove --force <name>'.","versionsApplicable":["v3"],"versionSpecifics":{"v3":{"minVersion":"3.0.0","command":"sindri extension validate <name> -v","notes":"V3 extensions support collision-handling capabilities with conflict-rules, version-markers, and declarative resolution scenarios (backup, merge, skip, prompt). DAG-based dependency resolution prevents circular dependency issues."}},"tags":["v3","troubleshooting","extensions","conflicts","dependencies"],"docs":["v3/docs/TROUBLESHOOTING.md","v3/docs/EXTENSIONS.md"],"personas":["individual-developer","small-team"],"useCases":["local-development"],"difficulty":"intermediate","relatedQuestions":["v3-ext-dependencies","v3-ext-install","v3-ext-upgrade-rollback"],"keywords":["conflict","extension","dependency","error","install","fail","collision"],"dateAdded":"2026-02-05","dateUpdated":"2026-02-05","popularity":0,"upvotes":0},{"id":"v3-troubleshoot-performance","category":"troubleshooting","question":"How do I optimize performance in v3?","answer":"V3's Rust binary is 10-100x faster than v2's bash CLI. For slow deployments, increase timeouts in ~/.sindri/sindri-runtime.yaml or via SINDRI_DEPLOY_TIMEOUT_SECS environment variable. Use 'sindri deploy --dry-run' to preview without executing. For Docker, use the production Dockerfile (~800MB, 2-5 min build) instead of development Dockerfile (~1.2GB, ~8 min). Enable auto-suspend on Fly.io to reduce idle costs. For slow extension installs, increase mise timeout with 'network.mise-timeout-secs' in runtime config. Configure retry policies for flaky networks with more aggressive backoff under 'retry-policies'. Clean up Docker resources regularly with 'docker system prune'.","versionsApplicable":["v3"],"versionSpecifics":{"v3":{"minVersion":"3.0.0","command":"sindri deploy --dry-run","notes":"V3 provides configurable timeouts (network, deployment, mise), retry policies (exponential-backoff, linear-backoff, fixed-delay), operation-specific retry overrides, and production vs development Dockerfile selection for optimized image sizes"}},"tags":["v3","troubleshooting","performance","timeout","optimization"],"docs":["v3/docs/TROUBLESHOOTING.md","v3/docs/RUNTIME_CONFIGURATION.md","v3/docs/DEPLOYMENT.md"],"personas":["individual-developer","platform-engineer"],"useCases":["local-development","cloud-deployment"],"difficulty":"intermediate","relatedQuestions":["v3-config-runtime","v3-troubleshoot-debug-logging","v3-deploy-docker"],"keywords":["performance","optimize","slow","timeout","speed","fast","retry","cache"],"dateAdded":"2026-02-05","dateUpdated":"2026-02-05","popularity":0,"upvotes":0},{"id":"v3-troubleshoot-debug-logging","category":"troubleshooting","question":"How do I enable debug logging?","answer":"Use verbosity flags for increasing detail: '-v' (minimal), '-vv' (medium), or '-vvv' (maximum/debug level) with any sindri command. Alternatively, set the SINDRI_LOG_LEVEL environment variable to 'trace', 'debug', 'info', 'warn', or 'error'. For example: 'SINDRI_LOG_LEVEL=debug sindri deploy'. Use '--dry-run' with deploy, backup, or restore to preview changes without executing. Collect diagnostic information for bug reports with 'sindri version --json', 'sindri doctor --all --format json', and 'sindri config show'.","versionsApplicable":["v3"],"versionSpecifics":{"v3":{"minVersion":"3.0.0","command":"sindri deploy -vvv","notes":"V3 supports 5 log levels (trace, debug, info, warn, error), structured exit codes for error categorization, and JSON output for diagnostic commands. The doctor command with '--all --format json' provides comprehensive system information for bug reports."}},"tags":["v3","troubleshooting","debug","logging","verbose"],"docs":["v3/docs/TROUBLESHOOTING.md","v3/docs/CLI.md"],"personas":["individual-developer","small-team"],"useCases":["local-development"],"difficulty":"beginner","relatedQuestions":["v3-troubleshoot-doctor","v3-troubleshoot-platform","v3-config-env-vars"],"keywords":["debug","logging","verbose","trace","log-level","SINDRI_LOG_LEVEL","vvv"],"dateAdded":"2026-02-05","dateUpdated":"2026-02-05","popularity":0,"upvotes":0},{"id":"v3-adv-packer-setup","category":"vm-images","question":"How do I set up Packer for VM image building?","answer":"Install HashiCorp Packer 1.9+ and configure cloud provider credentials, then run 'sindri vm doctor --cloud aws' to verify prerequisites. Sindri v3 uses Tera templates to generate HCL2 Packer configurations automatically, so you do not need to write Packer templates manually. Run 'sindri vm build --cloud aws --name my-image --profile fullstack' to build your first golden VM image with pre-installed extensions.","versionsApplicable":["v3"],"versionSpecifics":{"v3":{"minVersion":"3.0.0","command":"sindri vm doctor --cloud aws","notes":"Packer provider implemented in sindri-packer crate with Tera template generation for AWS, Azure, GCP, OCI, and Alibaba Cloud"}},"tags":["v3","packer","vm-images","setup","golden-image","infrastructure"],"docs":["v3/docs/providers/VM.md","v3/docs/CLI.md"],"personas":["platform-engineer","enterprise"],"useCases":["vm-image-building","multi-cloud"],"difficulty":"advanced","relatedQuestions":["v3-adv-multi-cloud-vm","v3-adv-vm-versioning","v3-adv-vm-hardening"],"keywords":["packer","vm","image","build","setup","prerequisites","doctor","golden image"],"dateAdded":"2026-02-05","dateUpdated":"2026-02-05","popularity":0,"upvotes":0},{"id":"v3-adv-multi-cloud-vm","category":"vm-images","question":"How do I build VM images for multiple clouds (AWS, GCP, Azure)?","answer":"Sindri v3 supports building VM images for AWS (EC2 AMIs), Azure (Managed Images with Compute Gallery), GCP (Compute Engine images), OCI, and Alibaba Cloud using a unified CLI. Run 'sindri vm build --cloud <provider>' for each target cloud, or script parallel builds across all providers. Each cloud has provider-specific defaults for instance types, regions, and authentication that are configured via 'sindri vm doctor --cloud <provider>' and sindri.yaml.","versionsApplicable":["v3"],"versionSpecifics":{"v3":{"minVersion":"3.0.0","command":"sindri vm build --cloud aws --name sindri-$(date +%Y%m%d) --profile fullstack","notes":"Supports 5 cloud providers: AWS (amazon-ebs builder), Azure (Managed/Gallery), GCP (googlecompute), OCI (custom images), Alibaba (ECS custom images)"}},"tags":["v3","packer","vm-images","multi-cloud","aws","azure","gcp"],"docs":["v3/docs/providers/VM.md","v3/docs/providers/vm/AWS.md"],"personas":["platform-engineer","enterprise"],"useCases":["vm-image-building","multi-cloud"],"difficulty":"advanced","relatedQuestions":["v3-adv-packer-setup","v3-adv-vm-distribution","v3-adv-vm-hardening"],"keywords":["multi-cloud","vm","aws","azure","gcp","oci","alibaba","ami","packer","build"],"dateAdded":"2026-02-05","dateUpdated":"2026-02-05","popularity":0,"upvotes":0},{"id":"v3-adv-vm-distribution","category":"vm-images","question":"How do I distribute VM images across regions?","answer":"For AWS, configure 'ami_regions' in sindri.yaml under providers.packer.aws to automatically copy AMIs to multiple regions during build, and use 'ami_users' to share with specific accounts. Azure uses Compute Gallery with replication targets, GCP uses image families for versioned distribution, and Alibaba uses 'aliyun ecs CopyImage' for cross-region copying. Each provider also supports marketplace publishing for commercial distribution.","versionsApplicable":["v3"],"versionSpecifics":{"v3":{"minVersion":"3.0.0","command":"sindri vm build --cloud aws --name production-sindri --profile fullstack","notes":"AWS supports ami_regions for automatic cross-region copy; Azure uses Shared Image Gallery; GCP uses image families; OCI requires export/import via Object Storage"}},"tags":["v3","vm-images","distribution","multi-region","sharing","aws","azure"],"docs":["v3/docs/providers/vm/DISTRIBUTION.md","v3/docs/providers/VM.md"],"personas":["platform-engineer","enterprise"],"useCases":["vm-image-building","multi-cloud"],"difficulty":"advanced","relatedQuestions":["v3-adv-multi-cloud-vm","v3-adv-vm-versioning","v3-adv-packer-setup"],"keywords":["distribute","region","copy","share","ami","gallery","image family","marketplace"],"dateAdded":"2026-02-05","dateUpdated":"2026-02-05","popularity":0,"upvotes":0},{"id":"v3-adv-vm-versioning","category":"vm-images","question":"How do I version VM images with semantic versioning?","answer":"Use consistent naming with the format '<project>-<version>-<date>-<os>' (e.g., 'sindri-v3.1.0-20260201-ubuntu2204') across all cloud providers. On GCP, use image families for automatic latest-version selection by setting '--image-family=sindri-v3' when deploying. Sindri's '--sindri-version' flag controls which Sindri version is baked into the image, and you can list built images with 'sindri vm list --cloud <provider>' to track available versions.","versionsApplicable":["v3"],"versionSpecifics":{"v3":{"minVersion":"3.0.0","command":"sindri vm list --cloud aws --name sindri-dev","notes":"GCP image families provide automatic versioning; AWS and others use naming conventions; deprecation dates can be set for lifecycle management"}},"tags":["v3","vm-images","versioning","semantic-versioning","lifecycle"],"docs":["v3/docs/providers/vm/DISTRIBUTION.md","v3/docs/providers/VM.md"],"personas":["platform-engineer","enterprise"],"useCases":["vm-image-building","multi-cloud"],"difficulty":"advanced","relatedQuestions":["v3-adv-multi-cloud-vm","v3-adv-vm-distribution","v3-adv-packer-setup"],"keywords":["version","semantic versioning","image family","naming","deprecation","lifecycle"],"dateAdded":"2026-02-05","dateUpdated":"2026-02-05","popularity":0,"upvotes":0},{"id":"v3-adv-vm-hardening","category":"vm-images","question":"How do I harden VM images for security compliance?","answer":"Enable CIS benchmark hardening with 'sindri vm build --cloud aws --cis-hardening', which applies Level 1 controls including filesystem security, SSH hardening (strong ciphers, disabled root login), network security (SYN cookies, ASLR), audit logging via auditd, AppArmor enforcement, and Fail2ban for brute-force protection. For compliance verification, enable OpenSCAP scanning in sindri.yaml under providers.packer.build.security.openscap_scan, which generates HTML and JSON compliance reports against CIS, STIG, or standard profiles. Pre-capture cleanup automatically removes all credentials, SSH keys, bash history, and cloud credentials before image snapshot.","versionsApplicable":["v3"],"versionSpecifics":{"v3":{"minVersion":"3.0.0","command":"sindri vm build --cloud aws --cis-hardening","notes":"CIS Level 1 is default; Level 2 available via cis_level: 2 in config. OpenSCAP scanning adds 2-5 minutes but provides compliance evidence for SOC2, HIPAA, PCI-DSS"}},"tags":["v3","vm-images","security","cis","hardening","compliance","openscap"],"docs":["v3/docs/providers/vm/SECURITY.md","v3/docs/providers/VM.md"],"personas":["platform-engineer","enterprise"],"useCases":["vm-image-building","security-compliance"],"difficulty":"advanced","relatedQuestions":["v3-adv-packer-setup","v3-adv-multi-cloud-vm","v3-adv-audit-logging"],"keywords":["harden","cis","security","compliance","openscap","audit","encryption","cleanup"],"dateAdded":"2026-02-05","dateUpdated":"2026-02-05","popularity":0,"upvotes":0},{"id":"v3-adv-cosign-verify","category":"image-management","question":"How do I sign and verify container images with cosign?","answer":"Sindri v3 release images are signed with Cosign using keyless OIDC signing via Sigstore. Verify an image with 'sindri image verify ghcr.io/pacphi/sindri:v3.0.0', which checks both the cryptographic signature and SLSA Level 3 provenance attestation. During deployment, verification is enabled by default through 'verify_signature: true' and 'verify_provenance: true' in the image_config section of sindri.yaml. Use '--skip-image-verification' on deploy for local development only.","versionsApplicable":["v3"],"versionSpecifics":{"v3":{"minVersion":"3.0.0","command":"sindri image verify ghcr.io/pacphi/sindri:v3.0.0","notes":"Requires cosign installed locally. Uses certificate_identity and certificate_oidc_issuer from GitHub Actions for verification"}},"tags":["v3","cosign","image-verification","security","slsa","sigstore"],"docs":["v3/docs/IMAGE_MANAGEMENT.md","v3/docs/CLI.md"],"personas":["platform-engineer","enterprise"],"useCases":["security-compliance","production-kubernetes"],"difficulty":"advanced","relatedQuestions":["v3-adv-sbom","v3-adv-s3-encryption","v3-adv-vm-hardening"],"keywords":["cosign","sign","verify","signature","provenance","slsa","sigstore","oidc"],"dateAdded":"2026-02-05","dateUpdated":"2026-02-05","popularity":0,"upvotes":0},{"id":"v3-adv-s3-encryption","category":"secrets","question":"How does S3-based secrets encryption work?","answer":"Sindri v3 uses envelope encryption with five defense layers for S3 secrets: S3 server-side encryption (SSE-S3), client-side ChaCha20-Poly1305 encryption, master key encryption using age (X25519), IAM/bucket policies, and TLS in transit. Initialize with 'sindri secrets s3 init --bucket my-secrets --region us-east-1', which generates an age master key. Each secret gets a random 256-bit data encryption key (DEK), the secret is encrypted with the DEK, and the DEK is encrypted with the master key before storage in S3.","versionsApplicable":["v3"],"versionSpecifics":{"v3":{"minVersion":"3.0.0","command":"sindri secrets s3 init --bucket my-secrets --region us-east-1","notes":"New in v3. Supports AWS S3, MinIO, DigitalOcean Spaces, and Wasabi as S3-compatible backends. Master key supports env, file, or KMS (future) sources"}},"tags":["v3","s3-secrets","encryption","security","secrets","age","chacha20"],"docs":["v3/docs/SECRETS_MANAGEMENT.md","v3/docs/CLI.md"],"personas":["platform-engineer","enterprise","small-team"],"useCases":["security-compliance","cloud-deployment"],"difficulty":"advanced","relatedQuestions":["v3-adv-vault-integration","v3-adv-cosign-verify","v3-adv-audit-logging"],"keywords":["s3","encryption","secrets","chacha20","age","envelope","master key","dek"],"dateAdded":"2026-02-05","dateUpdated":"2026-02-05","popularity":0,"upvotes":0},{"id":"v3-adv-vault-integration","category":"secrets","question":"How do I integrate HashiCorp Vault for secrets?","answer":"Configure Vault secrets in sindri.yaml by setting 'source: vault' with 'vaultPath' and 'vaultKey' for each secret, then set VAULT_ADDR and VAULT_TOKEN environment variables. V3 uses a native async HTTP API via the vaultrs crate (no CLI dependency), supporting token, AppRole, and Kubernetes service account authentication. Test connectivity with 'sindri secrets test-vault'. Vault secrets support automatic token renewal when TTL drops below 1 hour and path templating with environment variable substitution.","versionsApplicable":["v3"],"versionSpecifics":{"v3":{"minVersion":"3.0.0","command":"sindri secrets test-vault --address https://vault.company.com","notes":"V3 uses native async HTTP API (vaultrs crate) instead of CLI subprocess. Supports KV v1/v2, connection pooling, and parallel secret resolution"}},"tags":["v3","vault","secrets","hashicorp","security","production"],"docs":["v3/docs/SECRETS_MANAGEMENT.md","v3/docs/CLI.md"],"personas":["platform-engineer","enterprise"],"useCases":["security-compliance","production-kubernetes"],"difficulty":"advanced","relatedQuestions":["v3-adv-s3-encryption","v3-adv-audit-logging","v3-adv-cosign-verify"],"keywords":["vault","hashicorp","secrets","token","approle","kv","production"],"dateAdded":"2026-02-05","dateUpdated":"2026-02-05","popularity":0,"upvotes":0},{"id":"v3-adv-sbom","category":"image-management","question":"How do I generate and verify SBOMs?","answer":"Every Sindri v3 release includes an SBOM in SPDX format, attached as a cosign attestation and as a GitHub Release asset. Download the SBOM with 'cosign download sbom ghcr.io/pacphi/sindri:v3.0.0 > sbom.spdx.json' or from GitHub Releases. Inspect the SBOM contents using 'sindri image inspect ghcr.io/pacphi/sindri:v3.0.0 --sbom', which shows all packaged dependencies. You can query specific packages with jq, for example: jq '.packages[] | select(.name | contains(\"openssl\"))' sbom.spdx.json.","versionsApplicable":["v3"],"versionSpecifics":{"v3":{"minVersion":"3.0.0","command":"sindri image inspect ghcr.io/pacphi/sindri:v3.0.0 --sbom","notes":"Extensions also support BOM generation via CycloneDX/SPDX in extension.yaml bom section. Requires cosign for attestation download"}},"tags":["v3","sbom","security","spdx","cosign","compliance","supply-chain"],"docs":["v3/docs/IMAGE_MANAGEMENT.md","v3/docs/CLI.md"],"personas":["platform-engineer","enterprise"],"useCases":["security-compliance"],"difficulty":"advanced","relatedQuestions":["v3-adv-cosign-verify","v3-adv-audit-logging","v3-adv-vm-hardening"],"keywords":["sbom","spdx","cyclonedx","software bill of materials","supply chain","cosign","attestation"],"dateAdded":"2026-02-05","dateUpdated":"2026-02-05","popularity":0,"upvotes":0},{"id":"v3-adv-audit-logging","category":"secrets","question":"How do I set up audit logging for compliance?","answer":"Sindri v3 provides structured logging for security events through the Rust-based architecture with configurable log levels via SINDRI_LOG_LEVEL (trace, debug, info, warn, error). For VM images, enable CIS hardening which configures auditd with rules tracking session access, sudoers changes, and SSH configuration modifications. Cloud-level audit logging is available through AWS CloudTrail, Azure Activity Log, GCP Cloud Audit Logs, OCI Audit Service, and Alibaba ActionTrail to track image operations and access patterns. Vault integration automatically logs secret access events through Vault's native audit backend.","versionsApplicable":["v3"],"versionSpecifics":{"v3":{"minVersion":"3.0.0","command":"sindri vm build --cloud aws --cis-hardening","notes":"CIS hardening enables auditd rules. V3 architecture includes structured logging via Rust tracing crate. Cloud audit services track image and deployment operations"}},"tags":["v3","audit","logging","compliance","security","cis","enterprise"],"docs":["v3/docs/providers/vm/SECURITY.md","v3/docs/ARCHITECTURE.md"],"personas":["platform-engineer","enterprise"],"useCases":["security-compliance","production-kubernetes"],"difficulty":"advanced","relatedQuestions":["v3-adv-vm-hardening","v3-adv-vault-integration","v3-adv-s3-encryption"],"keywords":["audit","logging","compliance","auditd","cloudtrail","soc2","hipaa","pci"],"dateAdded":"2026-02-05","dateUpdated":"2026-02-05","popularity":0,"upvotes":0},{"id":"v3-adv-k8s-production","category":"kubernetes","question":"How do I deploy to production Kubernetes?","answer":"Configure sindri.yaml with 'provider: kubernetes' and set namespace, storage class, and optional ingress settings under providers.kubernetes. Deploy with 'sindri deploy --wait --timeout 600' which creates a Kubernetes Pod with associated Secret and PVC resources. For production, pin container images to specific digests with 'image_config.digest' for immutable deployments, enable signature verification with 'verify_signature: true', and use Vault or S3 for secrets management instead of .env files. Run 'sindri doctor --provider k8s' first to verify kubectl connectivity and cluster access.","versionsApplicable":["v3"],"versionSpecifics":{"v3":{"minVersion":"3.0.0","command":"sindri deploy --wait --timeout 600","notes":"Kubernetes provider creates Pod, Secret, and PVC resources. Supports namespace isolation, storage class selection, ingress configuration, and GPU workloads"}},"tags":["v3","kubernetes","production","deploy","k8s","enterprise"],"docs":["v3/docs/K8S.md","v3/docs/DEPLOYMENT.md"],"personas":["platform-engineer","enterprise"],"useCases":["production-kubernetes","cloud-deployment"],"difficulty":"advanced","relatedQuestions":["v3-adv-k8s-statefulsets","v3-adv-k8s-helm","v3-adv-k8s-ingress"],"keywords":["kubernetes","production","deploy","pod","namespace","ingress","pvc"],"dateAdded":"2026-02-05","dateUpdated":"2026-02-05","popularity":0,"upvotes":0},{"id":"v3-adv-k8s-statefulsets","category":"kubernetes","question":"How do I use StatefulSets for persistent workloads?","answer":"Sindri v3 Kubernetes deployments use PersistentVolumeClaims (PVCs) for workspace persistence, configured via 'volumes.workspace.size' in sindri.yaml (e.g., '20GB'). The storage class is set under providers.kubernetes.storageClass - use 'standard' for kind clusters or 'local-path' for k3d. For production clusters with persistent workloads, ensure your cluster has the appropriate storage class provisioner installed, and use 'sindri deploy --dry-run' to preview the generated Kubernetes manifests including PVC specifications before applying.","versionsApplicable":["v3"],"versionSpecifics":{"v3":{"minVersion":"3.0.0","command":"sindri deploy --dry-run","notes":"PVCs are created alongside Pod resources. Storage class must exist in the target cluster. Use 'standard' for kind, 'local-path' for k3d"}},"tags":["v3","kubernetes","statefulset","persistent","pvc","storage"],"docs":["v3/docs/K8S.md","v3/docs/DEPLOYMENT.md"],"personas":["platform-engineer","enterprise"],"useCases":["production-kubernetes"],"difficulty":"advanced","relatedQuestions":["v3-adv-k8s-production","v3-adv-k8s-helm","v3-adv-backup-restore"],"keywords":["statefulset","persistent","pvc","volume","storage","storage class","workspace"],"dateAdded":"2026-02-05","dateUpdated":"2026-02-05","popularity":0,"upvotes":0},{"id":"v3-adv-k8s-helm","category":"kubernetes","question":"How do I use Helm charts with Sindri?","answer":"Sindri v3 includes Helm as part of the 'infra-tools' extension, which can be installed with 'sindri extension install infra-tools' or via the 'devops' or 'enterprise' extension profiles. Once installed, Helm is available inside your Sindri environment for managing Kubernetes applications. For local cluster workflows, create a cluster with 'sindri k8s create --provider kind' and then use Helm directly to deploy charts. Sindri's Kubernetes provider generates its own manifests rather than using Helm charts, but you can combine both approaches in the same cluster.","versionsApplicable":["v3"],"versionSpecifics":{"v3":{"minVersion":"3.0.0","command":"sindri extension install infra-tools","notes":"infra-tools extension includes Terraform, K8s tools, Ansible, and Helm. Sindri-generated K8s manifests are separate from Helm-managed releases"}},"tags":["v3","kubernetes","helm","infra-tools","extensions","charts"],"docs":["v3/docs/K8S.md","v3/docs/EXTENSIONS.md"],"personas":["platform-engineer","enterprise"],"useCases":["production-kubernetes","cloud-deployment"],"difficulty":"advanced","relatedQuestions":["v3-adv-k8s-production","v3-adv-k8s-multi-cluster","v3-adv-k8s-statefulsets"],"keywords":["helm","charts","infra-tools","kubernetes","extension","deploy"],"dateAdded":"2026-02-05","dateUpdated":"2026-02-05","popularity":0,"upvotes":0},{"id":"v3-adv-k8s-multi-cluster","category":"kubernetes","question":"How do I manage multi-cluster deployments?","answer":"Sindri v3 manages multiple local Kubernetes clusters through 'sindri k8s create' with different names and providers. Create kind and k3d clusters side-by-side using 'sindri k8s create --provider kind --name dev-cluster' and 'sindri k8s create --provider k3d --name staging-cluster --registry'. List all clusters with 'sindri k8s list' and switch between them by exporting the kubeconfig: 'sindri k8s config --name <cluster> > ~/.kube/<cluster>.yaml'. For remote production clusters, set the kubectl context and deploy with 'sindri deploy --config <cluster-specific-sindri.yaml>'.","versionsApplicable":["v3"],"versionSpecifics":{"v3":{"minVersion":"3.0.0","command":"sindri k8s list","notes":"Context naming: kind-{name} for kind clusters, k3d-{name} for k3d clusters. Use separate sindri.yaml files for different cluster configurations"}},"tags":["v3","kubernetes","multi-cluster","kind","k3d","context"],"docs":["v3/docs/K8S.md","v3/docs/CLI.md"],"personas":["platform-engineer","enterprise"],"useCases":["production-kubernetes","local-development"],"difficulty":"advanced","relatedQuestions":["v3-adv-k8s-production","v3-adv-k8s-helm","v3-adv-k8s-ingress"],"keywords":["multi-cluster","kind","k3d","context","kubeconfig","local","cluster"],"dateAdded":"2026-02-05","dateUpdated":"2026-02-05","popularity":0,"upvotes":0},{"id":"v3-adv-k8s-ingress","category":"kubernetes","question":"How do I configure load balancing and ingress?","answer":"Configure ingress in sindri.yaml under providers.kubernetes with 'ingress.enabled: true' and 'ingress.hostname: dev.example.com' for HTTP access to your Sindri environment. For local development, k3d clusters include a built-in Traefik ingress controller, while kind requires manual ingress controller installation. GPU workloads are configured under 'deployment.resources.gpu' with 'enabled: true', 'count', and 'type: nvidia', which requires NVIDIA device plugin installed on cluster nodes.","versionsApplicable":["v3"],"versionSpecifics":{"v3":{"minVersion":"3.0.0","command":"sindri config init --provider kubernetes --profile kubernetes","notes":"Ingress configuration generates Kubernetes Ingress resource. K3d includes Traefik by default; kind uses standard Kubernetes ingress setup"}},"tags":["v3","kubernetes","ingress","load-balancing","networking","gpu"],"docs":["v3/docs/K8S.md","v3/docs/DEPLOYMENT.md"],"personas":["platform-engineer","enterprise"],"useCases":["production-kubernetes"],"difficulty":"advanced","relatedQuestions":["v3-adv-k8s-production","v3-adv-k8s-multi-cluster","v3-adv-k8s-statefulsets"],"keywords":["ingress","load balancing","networking","traefik","gpu","hostname"],"dateAdded":"2026-02-05","dateUpdated":"2026-02-05","popularity":0,"upvotes":0},{"id":"v3-adv-cicd-integration","category":"deployment","question":"How do I integrate Sindri v3 with CI/CD pipelines?","answer":"Sindri v3 integrates with CI/CD via its single-binary CLI and JSON output mode. In GitHub Actions, download the sindri binary, configure sindri.yaml with 'image_config.version: \"^3.0.0\"', and run 'sindri deploy --wait'. For secrets, use S3 encrypted storage with 'sindri secrets s3 sync --direction pull' after decoding the master key from CI secrets. For VM image pipelines, use a matrix strategy across clouds with 'sindri vm build --cloud ${{ matrix.cloud }} --json > build-result.json'. Use '--dry-run' in PR checks to validate configuration without deploying.","versionsApplicable":["v3"],"versionSpecifics":{"v3":{"minVersion":"3.0.0","command":"sindri deploy --wait --timeout 600","notes":"CI mode supported via 'sindri doctor --ci --format json' for prerequisite checks. S3 secrets sync enables CI/CD without platform-specific secrets. JSON output for all commands enables scripted workflows"}},"tags":["v3","cicd","github-actions","automation","deploy","pipeline"],"docs":["v3/docs/DEPLOYMENT.md","v3/docs/SECRETS_MANAGEMENT.md"],"personas":["platform-engineer","enterprise","small-team"],"useCases":["cloud-deployment","production-kubernetes"],"difficulty":"advanced","relatedQuestions":["v3-adv-k8s-production","v3-adv-s3-encryption","v3-adv-performance"],"keywords":["cicd","ci/cd","github actions","pipeline","automation","deploy","json"],"dateAdded":"2026-02-05","dateUpdated":"2026-02-05","popularity":0,"upvotes":0},{"id":"v3-adv-custom-providers","category":"extensions","question":"How do I create custom providers?","answer":"Sindri v3 uses a trait-based provider abstraction layer in Rust where each provider implements the async Provider trait with methods for deploy, status, connect, destroy, and check_prerequisites. Currently, five built-in providers are supported (Docker, Fly.io, DevPod, E2B, Kubernetes), plus the Packer VM provider. DevPod acts as a meta-provider supporting seven backends (Docker, AWS, GCP, Azure, DigitalOcean, Kubernetes, SSH). For custom infrastructure, use DevPod with its SSH backend to target any server, or the Kubernetes provider to deploy to any compliant cluster.","versionsApplicable":["v3"],"versionSpecifics":{"v3":{"minVersion":"3.0.0","command":"sindri config init --provider devpod","notes":"Provider abstraction uses async Rust traits in sindri-providers crate. DevPod supports 7 backends for multi-cloud. Custom Rust providers require contributing to the codebase"}},"tags":["v3","providers","custom","devpod","architecture","advanced"],"docs":["v3/docs/ARCHITECTURE.md","v3/docs/DEPLOYMENT.md"],"personas":["platform-engineer","enterprise"],"useCases":["multi-cloud","cloud-deployment"],"difficulty":"advanced","relatedQuestions":["v3-adv-k8s-production","v3-adv-cicd-integration","v3-adv-extension-distribution"],"keywords":["provider","custom","devpod","trait","abstraction","backend","ssh"],"dateAdded":"2026-02-05","dateUpdated":"2026-02-05","popularity":0,"upvotes":0},{"id":"v3-adv-extension-distribution","category":"extensions","question":"How do I distribute custom extensions?","answer":"Create a custom extension by writing an extension.yaml file following the V3 schema with metadata, requirements, install method (mise, apt, binary, npm, script, or hybrid), configure section, and validation commands. Extensions are distributed via GitHub releases as tar.gz archives using the naming convention '<name>@<version>.tar.gz'. In production containers, extensions are downloaded from GitHub releases and extracted to '~/.sindri/extensions/<name>/<version>/'. For air-gapped environments, use the development Dockerfile which bundles extensions at '/opt/sindri/extensions/' at build time.","versionsApplicable":["v3"],"versionSpecifics":{"v3":{"minVersion":"3.0.0","command":"sindri extension validate my-ext --file ./extension.yaml","notes":"GitHub release distribution managed by sindri-extensions distributor. Registry/manifest dual-state architecture tracks available vs installed extensions. Supports 6 installation methods and DAG dependency resolution"}},"tags":["v3","extensions","distribution","github","custom","authoring"],"docs":["v3/docs/EXTENSIONS.md","v3/docs/extensions/guides/AUTHORING.md"],"personas":["platform-engineer","individual-developer"],"useCases":["local-development","cloud-deployment"],"difficulty":"advanced","relatedQuestions":["v3-adv-custom-providers","v3-adv-cicd-integration","v3-adv-performance"],"keywords":["extension","distribute","custom","github","authoring","yaml","registry"],"dateAdded":"2026-02-05","dateUpdated":"2026-02-05","popularity":0,"upvotes":0},{"id":"v3-adv-backup-restore","category":"deployment","question":"How do I set up backup and restore strategies?","answer":"Sindri v3 provides three backup profiles: 'user-data' (100MB-1GB, for migration), 'standard' (1-5GB, regular backups), and 'full' (5-20GB, disaster recovery). Create backups with 'sindri backup --profile standard --output ./backups/' and restore with 'sindri restore ./backup.tar.gz --mode safe'. Three restore modes are available: safe (never overwrites), merge (smart merge with .bak files), and full (complete overwrite). The system protects critical initialization markers (.initialized, bootstrap.yaml) that are never restored, and supports encrypted backups with 'sindri backup --encrypt --key-file ~/.sindri-backup.key'.","versionsApplicable":["v3"],"versionSpecifics":{"v3":{"minVersion":"3.0.0","command":"sindri backup --profile standard --output ./backups/","notes":"Backup uses streaming tar.gz with SHA256 checksums. Restore pipeline: validation, analysis, pre-restore snapshot, execution, commit. Automatic rollback on failure"}},"tags":["v3","backup","restore","disaster-recovery","migration","encryption"],"docs":["v3/docs/BACKUP_RESTORE.md","v3/docs/CLI.md"],"personas":["platform-engineer","enterprise","small-team"],"useCases":["cloud-deployment","production-kubernetes"],"difficulty":"advanced","relatedQuestions":["v3-adv-k8s-production","v3-adv-s3-encryption","v3-adv-performance"],"keywords":["backup","restore","disaster recovery","migration","profile","encrypt","rollback"],"dateAdded":"2026-02-05","dateUpdated":"2026-02-05","popularity":0,"upvotes":0},{"id":"v3-adv-performance","category":"deployment","question":"How do I optimize Sindri performance for large deployments?","answer":"Sindri v3 is a Rust binary achieving 10-100x performance improvement over the v2 Bash CLI, with parallel async operations for secret resolution, prerequisite checking, and extension dependency resolution via Tokio runtime. For image management, use 'pull_policy: IfNotPresent' to avoid redundant pulls, and pin to specific digests for reproducibility. For VM builds, enable caching with 'build.cache: true' to skip rebuilds when configuration has not changed, and run parallel multi-cloud builds. Use the production Dockerfile (~800MB, 2-5min build) over the development Dockerfile (~1.2GB, ~8min) for CI/CD, and set 'parallel_builds: 2' in Packer configuration to limit concurrent builds.","versionsApplicable":["v3"],"versionSpecifics":{"v3":{"minVersion":"3.0.0","command":"sindri deploy --timeout 900","notes":"Rust binary is ~12MB with zero runtime dependencies. Async secret resolution via Tokio. DAG-based parallel extension installation. Build caching for Packer prevents redundant rebuilds"}},"tags":["v3","performance","optimization","rust","async","caching"],"docs":["v3/docs/ARCHITECTURE.md","v3/docs/DEPLOYMENT.md"],"personas":["platform-engineer","enterprise"],"useCases":["production-kubernetes","multi-cloud"],"difficulty":"advanced","relatedQuestions":["v3-adv-cicd-integration","v3-adv-k8s-production","v3-adv-backup-restore"],"keywords":["performance","optimization","async","parallel","caching","rust","tokio"],"dateAdded":"2026-02-05","dateUpdated":"2026-02-05","popularity":0,"upvotes":0}]};
</script>

<script>
/**
 * Sindri FAQ - Interactive FAQ with Accordion and Search
 *
 * Features:
 * - Real-time full-text search with highlighting
 * - Accordion-style expandable Q&A items
 * - Category filtering
 * - Dark/light theme toggle with system preference detection
 * - Responsive design support
 * - Keyboard navigation (Enter/Space to toggle, Escape to close)
 */

// Configuration
const CONFIG = {
  dataUrl: 'v3-faq-data.json',
  githubBaseUrl: 'https://github.com/pacphi/sindri/blob/main/',
  debounceMs: 150,
  animationDurationMs: 300,
};

// State
const state = {
  faqData: null,
  filteredQuestions: [],
  activeCategory: 'all',
  activeVersion: 'all',
  searchQuery: '',
  openAccordions: new Set(),
};

// DOM Elements
const elements = {
  faqContainer: null,
  searchInput: null,
  clearSearch: null,
  searchStats: null,
  resultCount: null,
  categoryFilters: null,
  noResults: null,
  loading: null,
  themeToggle: null,
  resetSearch: null,
  versionFilters: null,
};

// ============================================================================
// Theme Management
// ============================================================================

function initTheme() {
  const savedTheme = localStorage.getItem('sindri-faq-theme');
  const systemPrefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;

  if (savedTheme === 'dark' || (!savedTheme && systemPrefersDark)) {
    document.documentElement.classList.add('dark');
  } else {
    document.documentElement.classList.remove('dark');
  }
}

function toggleTheme() {
  const isDark = document.documentElement.classList.toggle('dark');
  localStorage.setItem('sindri-faq-theme', isDark ? 'dark' : 'light');
}

// ============================================================================
// Data Loading
// ============================================================================

async function loadFaqData() {
  // Use embedded data (no fetch needed - injected by build.mjs)
  if (window.FAQ_DATA) {
    state.faqData = window.FAQ_DATA;
    if (!state.faqData.personas) state.faqData.personas = [];
    if (!state.faqData.useCases) state.faqData.useCases = [];
    if (!state.faqData.meta) state.faqData.meta = {};
    state.filteredQuestions = [...state.faqData.questions];
    initVersionFilter();
    renderCategoryFilters();
    renderFaqItems();
    hideLoading();
    return;
  }
  // Fallback to fetch for development
  try {
    const response = await fetch('v3-faq-data.json');
    if (!response.ok) throw new Error('HTTP ' + response.status);
    state.faqData = await response.json();
    if (!state.faqData.personas) state.faqData.personas = [];
    if (!state.faqData.useCases) state.faqData.useCases = [];
    if (!state.faqData.meta) state.faqData.meta = {};
    state.filteredQuestions = [...state.faqData.questions];
    initVersionFilter();
    renderCategoryFilters();
    renderFaqItems();
    hideLoading();
  } catch (error) {
    console.error('Failed to load FAQ data:', error);
    showError('Failed to load FAQ data. Please refresh the page.');
  }
}

function hideLoading() {
  if (elements.loading) {
    elements.loading.style.display = 'none';
  }
}

function showError(message) {
  if (elements.loading) {
    elements.loading.innerHTML = `
      <div class="text-red-500 dark:text-red-400 flex items-center gap-2">
        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
        </svg>
        <span>${message}</span>
      </div>
    `;
  }
}

// ============================================================================
// Category Filtering
// ============================================================================

function renderCategoryFilters() {
  if (!elements.categoryFilters || !state.faqData) return;

  const categoryButtons = state.faqData.categories.map(cat => `
    <button data-category="${cat.id}"
            class="category-pill px-4 py-2 rounded-full text-sm font-medium transition-all
                   bg-slate-100 dark:bg-slate-800 text-slate-600 dark:text-slate-300
                   hover:bg-slate-200 dark:hover:bg-slate-700">
      ${cat.name}
      <span class="ml-1 text-xs opacity-60">(${getCategoryCount(cat.id)})</span>
    </button>
  `).join('');

  // Keep "All Categories" button, add category buttons
  const allButton = elements.categoryFilters.querySelector('[data-category="all"]');
  if (allButton) {
    allButton.innerHTML = `All <span class="ml-1 text-xs opacity-75">(${getTotalCount()})</span>`;
  }
  elements.categoryFilters.insertAdjacentHTML('beforeend', categoryButtons);

  // Add event listeners
  elements.categoryFilters.querySelectorAll('.category-pill').forEach(btn => {
    btn.addEventListener('click', () => setActiveCategory(btn.dataset.category));
  });
}

function getCategoryCount(categoryId) {
  let questions = state.faqData.questions.filter(q => q.category === categoryId);
  if (state.activeVersion !== 'all') {
    questions = questions.filter(q =>
      q.versionsApplicable && q.versionsApplicable.includes(state.activeVersion)
    );
  }
  return questions.length;
}

function getTotalCount() {
  if (state.activeVersion === 'all') return state.faqData.questions.length;
  return state.faqData.questions.filter(q =>
    q.versionsApplicable && q.versionsApplicable.includes(state.activeVersion)
  ).length;
}

function setActiveCategory(categoryId) {
  state.activeCategory = categoryId;

  // Update UI
  elements.categoryFilters.querySelectorAll('.category-pill').forEach(btn => {
    const isActive = btn.dataset.category === categoryId;
    btn.classList.toggle('active', isActive);
    btn.classList.toggle('bg-sindri-500', isActive);
    btn.classList.toggle('text-white', isActive);
    btn.classList.toggle('shadow-lg', isActive);
    btn.classList.toggle('shadow-sindri-500/25', isActive);
    btn.classList.toggle('bg-slate-100', !isActive);
    btn.classList.toggle('dark:bg-slate-800', !isActive);
    btn.classList.toggle('text-slate-600', !isActive);
    btn.classList.toggle('dark:text-slate-300', !isActive);
  });

  filterAndRender();
}

// ============================================================================
// Search Functionality
// ============================================================================

function initSearch() {
  if (!elements.searchInput) return;

  let debounceTimer;

  elements.searchInput.addEventListener('input', (e) => {
    clearTimeout(debounceTimer);
    debounceTimer = setTimeout(() => {
      state.searchQuery = e.target.value.trim().toLowerCase();
      updateClearButton();
      filterAndRender();
    }, CONFIG.debounceMs);
  });

  elements.searchInput.addEventListener('keydown', (e) => {
    if (e.key === 'Escape') {
      clearSearch();
    }
  });

  if (elements.clearSearch) {
    elements.clearSearch.addEventListener('click', clearSearch);
  }

  if (elements.resetSearch) {
    elements.resetSearch.addEventListener('click', () => {
      clearSearch();
      setActiveVersion('all');
      setActiveCategory('all');
    });
  }
}

function clearSearch() {
  state.searchQuery = '';
  if (elements.searchInput) {
    elements.searchInput.value = '';
  }
  updateClearButton();
  filterAndRender();
}

function updateClearButton() {
  if (elements.clearSearch) {
    elements.clearSearch.classList.toggle('hidden', !state.searchQuery);
  }
}

function filterAndRender() {
  if (!state.faqData) return;

  let filtered = state.faqData.questions;

  // Filter by version
  if (state.activeVersion !== 'all') {
    filtered = filtered.filter(q =>
      q.versionsApplicable && q.versionsApplicable.includes(state.activeVersion)
    );
  }

  // Filter by category
  if (state.activeCategory !== 'all') {
    filtered = filtered.filter(q => q.category === state.activeCategory);
  }

  // Filter by search query
  if (state.searchQuery) {
    const query = state.searchQuery.toLowerCase();
    filtered = filtered.filter(q => {
      const searchableText = [
        q.question,
        q.answer,
        ...q.tags,
        ...(q.keywords || []),
        getCategoryName(q.category)
      ].join(' ').toLowerCase();

      return searchableText.includes(query);
    });
  }

  state.filteredQuestions = filtered;
  renderFaqItems();
  updateSearchStats();
}

function updateSearchStats() {
  if (elements.searchStats && elements.resultCount) {
    if (state.searchQuery) {
      elements.searchStats.classList.remove('hidden');
      elements.resultCount.textContent = state.filteredQuestions.length;
    } else {
      elements.searchStats.classList.add('hidden');
    }
  }

  // Show/hide no results message
  if (elements.noResults) {
    elements.noResults.classList.toggle('hidden', state.filteredQuestions.length > 0);
  }
}

// ============================================================================
// FAQ Rendering
// ============================================================================

function renderFaqItems() {
  if (!elements.faqContainer || !state.faqData) return;

  // Clear existing items (except loading)
  const existingItems = elements.faqContainer.querySelectorAll('.faq-item');
  existingItems.forEach(item => item.remove());

  if (state.filteredQuestions.length === 0) {
    return;
  }

  // Group by category if not searching and showing all
  const shouldGroup = !state.searchQuery && state.activeCategory === 'all';

  if (shouldGroup) {
    renderGroupedFaq();
  } else {
    renderFlatFaq();
  }
}

function renderGroupedFaq() {
  const groupedQuestions = {};

  state.filteredQuestions.forEach(q => {
    if (!groupedQuestions[q.category]) {
      groupedQuestions[q.category] = [];
    }
    groupedQuestions[q.category].push(q);
  });

  // Render each category group
  state.faqData.categories.forEach(cat => {
    const questions = groupedQuestions[cat.id];
    if (!questions || questions.length === 0) return;

    const groupHtml = `
      <div class="faq-item mb-8">
        <h3 class="flex items-center gap-3 text-lg font-bold text-slate-900 dark:text-white mb-4 pb-2 border-b border-slate-200 dark:border-slate-700">
          ${getCategoryIcon(cat.icon)}
          <span>${cat.name}</span>
          <span class="text-sm font-normal text-slate-400">(${questions.length})</span>
        </h3>
        <div class="space-y-3">
          ${questions.map(q => createFaqItemHtml(q)).join('')}
        </div>
      </div>
    `;

    elements.faqContainer.insertAdjacentHTML('beforeend', groupHtml);
  });

  attachAccordionListeners();
}

function renderFlatFaq() {
  const html = state.filteredQuestions.map(q => createFaqItemHtml(q)).join('');
  elements.faqContainer.insertAdjacentHTML('beforeend', `<div class="faq-item space-y-3">${html}</div>`);
  attachAccordionListeners();
}

function createFaqItemHtml(question) {
  const isOpen = state.openAccordions.has(question.id);
  const highlightedQuestion = highlightText(question.question, state.searchQuery);
  const highlightedAnswer = highlightText(question.answer, state.searchQuery);

  return `
    <div class="accordion-item bg-white dark:bg-slate-800/50 rounded-xl border border-slate-200 dark:border-slate-700/50 shadow-sm hover:shadow-md transition-shadow overflow-hidden"
         data-id="${question.id}">
      <button class="accordion-trigger w-full px-5 py-4 text-left flex items-start gap-4 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-sindri-500"
              aria-expanded="${isOpen}"
              aria-controls="content-${question.id}">
        <span class="accordion-icon mt-1 flex-shrink-0 w-5 h-5 rounded-full bg-sindri-100 dark:bg-sindri-900/50 text-sindri-600 dark:text-sindri-400 flex items-center justify-center transition-transform duration-300 ${isOpen ? 'rotate-180' : ''}">
          <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M19 9l-7 7-7-7"/>
          </svg>
        </span>
        <div class="flex-grow min-w-0">
          <div class="flex items-center gap-2 flex-wrap">
            <h4 class="text-base font-semibold text-slate-900 dark:text-white leading-snug">
              ${highlightedQuestion}
            </h4>
            ${renderVersionBadges(question.versionsApplicable)}
          </div>
        </div>
      </button>
      <div id="content-${question.id}"
           class="accordion-content ${isOpen ? 'open' : ''}"
           role="region"
           aria-labelledby="trigger-${question.id}">
        <div class="px-5 pb-5 pt-0 ml-9">
          <div class="prose prose-sm dark:prose-invert max-w-none text-slate-600 dark:text-slate-300 leading-relaxed">
            ${highlightedAnswer}
          </div>
          ${renderDocLinks(question.docs)}
          ${renderTags(question.tags)}
        </div>
      </div>
    </div>
  `;
}

function renderDocLinks(docs) {
  if (!docs || docs.length === 0) return '';

  const links = docs.map(doc => {
    const url = CONFIG.githubBaseUrl + doc;
    const name = doc.split('/').pop();
    return `<a href="${url}" target="_blank" rel="noopener noreferrer"
               class="inline-flex items-center gap-1 text-sindri-600 dark:text-sindri-400 hover:underline">
              <svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"/>
              </svg>
              ${name}
            </a>`;
  }).join('');

  return `
    <div class="mt-4 pt-3 border-t border-slate-100 dark:border-slate-700/50">
      <span class="text-xs font-medium text-slate-400 dark:text-slate-500 uppercase tracking-wide">Documentation:</span>
      <div class="mt-1 flex flex-wrap gap-3 text-sm">
        ${links}
      </div>
    </div>
  `;
}

function renderTags(tags) {
  if (!tags || tags.length === 0) return '';

  return `
    <div class="mt-3 flex flex-wrap gap-1.5">
      ${tags.map(tag => `
        <span class="px-2 py-0.5 bg-slate-100 dark:bg-slate-700/50 text-slate-500 dark:text-slate-400 rounded text-xs">
          #${tag}
        </span>
      `).join('')}
    </div>
  `;
}

// ============================================================================
// Accordion Behavior
// ============================================================================

function attachAccordionListeners() {
  const triggers = elements.faqContainer.querySelectorAll('.accordion-trigger');

  triggers.forEach(trigger => {
    trigger.addEventListener('click', handleAccordionClick);
    trigger.addEventListener('keydown', handleAccordionKeydown);
  });
}

function handleAccordionClick(e) {
  const item = e.currentTarget.closest('.accordion-item');
  if (!item) return;

  const id = item.dataset.id;
  toggleAccordion(id, item);
}

function handleAccordionKeydown(e) {
  if (e.key === 'Enter' || e.key === ' ') {
    e.preventDefault();
    handleAccordionClick(e);
  }
}

function toggleAccordion(id, item) {
  const isOpen = state.openAccordions.has(id);
  const content = item.querySelector('.accordion-content');
  const icon = item.querySelector('.accordion-icon');
  const trigger = item.querySelector('.accordion-trigger');

  if (isOpen) {
    state.openAccordions.delete(id);
    content.classList.remove('open');
    icon.classList.remove('rotate-180');
    trigger.setAttribute('aria-expanded', 'false');
  } else {
    state.openAccordions.add(id);
    content.classList.add('open');
    icon.classList.add('rotate-180');
    trigger.setAttribute('aria-expanded', 'true');
  }
}

// ============================================================================
// Version Filtering
// ============================================================================

function initVersionFilter() {
  elements.versionFilters = document.getElementById('version-filters');
  if (!elements.versionFilters) return;

  elements.versionFilters.querySelectorAll('.version-toggle').forEach(btn => {
    btn.addEventListener('click', () => setActiveVersion(btn.dataset.version));
  });
}

function setActiveVersion(version) {
  state.activeVersion = version;

  // Update version toggle UI
  if (elements.versionFilters) {
    elements.versionFilters.querySelectorAll('.version-toggle').forEach(btn => {
      const isActive = btn.dataset.version === version;
      btn.classList.toggle('bg-sindri-500', isActive);
      btn.classList.toggle('text-white', isActive);
      btn.classList.toggle('shadow-lg', isActive);
      btn.classList.toggle('shadow-sindri-500/25', isActive);
      btn.classList.toggle('bg-slate-100', !isActive);
      btn.classList.toggle('dark:bg-slate-800', !isActive);
      btn.classList.toggle('text-slate-600', !isActive);
      btn.classList.toggle('dark:text-slate-300', !isActive);
    });
  }

  // Re-render category counts with version filter applied
  updateCategoryCounts();
  filterAndRender();
}

function updateCategoryCounts() {
  if (!elements.categoryFilters || !state.faqData) return;

  // Update "All" button count
  const allButton = elements.categoryFilters.querySelector('[data-category="all"]');
  if (allButton) {
    allButton.innerHTML = `All <span class="ml-1 text-xs opacity-75">(${getTotalCount()})</span>`;
  }

  // Update each category count
  state.faqData.categories.forEach(cat => {
    const btn = elements.categoryFilters.querySelector(`[data-category="${cat.id}"]`);
    if (btn) {
      const count = getCategoryCount(cat.id);
      const countSpan = btn.querySelector('span');
      if (countSpan) {
        countSpan.textContent = `(${count})`;
      }
    }
  });
}

function renderVersionBadges(versionsApplicable) {
  if (!versionsApplicable || versionsApplicable.length === 0) return '';
  return versionsApplicable.map(v => {
    const colors = v === 'v2'
      ? 'bg-amber-100 text-amber-800 dark:bg-amber-900/50 dark:text-amber-300'
      : 'bg-emerald-100 text-emerald-800 dark:bg-emerald-900/50 dark:text-emerald-300';
    return `<span class="px-1.5 py-0.5 rounded text-xs font-medium ${colors} whitespace-nowrap">${v.toUpperCase()}</span>`;
  }).join(' ');
}

// ============================================================================
// Utility Functions
// ============================================================================

function getCategoryName(categoryId) {
  if (!state.faqData) return categoryId;
  const cat = state.faqData.categories.find(c => c.id === categoryId);
  return cat ? cat.name : categoryId;
}

function getCategoryIcon(iconName) {
  const icons = {
    rocket: `<svg class="w-5 h-5 text-emerald-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"/>
            </svg>`,
    cog: `<svg class="w-5 h-5 text-blue-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"/>
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"/>
          </svg>`,
    cloud: `<svg class="w-5 h-5 text-purple-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 15a4 4 0 004 4h9a5 5 0 10-.1-9.999 5.002 5.002 0 10-9.78 2.096A4.001 4.001 0 003 15z"/>
            </svg>`,
    puzzle: `<svg class="w-5 h-5 text-orange-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 4a2 2 0 114 0v1a1 1 0 001 1h3a1 1 0 011 1v3a1 1 0 01-1 1h-1a2 2 0 100 4h1a1 1 0 011 1v3a1 1 0 01-1 1h-3a1 1 0 01-1-1v-1a2 2 0 10-4 0v1a1 1 0 01-1 1H7a1 1 0 01-1-1v-3a1 1 0 00-1-1H4a2 2 0 110-4h1a1 1 0 001-1V7a1 1 0 011-1h3a1 1 0 001-1V4z"/>
            </svg>`,
    key: `<svg class="w-5 h-5 text-red-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H4a1 1 0 01-1-1v-2.586a1 1 0 01.293-.707l5.964-5.964A6 6 0 1121 9z"/>
          </svg>`,
    wrench: `<svg class="w-5 h-5 text-amber-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"/>
            </svg>`,
    layers: `<svg class="w-5 h-5 text-indigo-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"/>
            </svg>`,
    refresh: `<svg class="w-5 h-5 text-cyan-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"/>
            </svg>`,
    'cloud-upload': `<svg class="w-5 h-5 text-purple-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"/>
            </svg>`,
    lock: `<svg class="w-5 h-5 text-red-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"/>
          </svg>`,
    server: `<svg class="w-5 h-5 text-teal-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 12h14M5 12a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v4a2 2 0 01-2 2M5 12a2 2 0 00-2 2v4a2 2 0 002 2h14a2 2 0 002-2v-4a2 2 0 00-2-2m-2-4h.01M17 16h.01"/>
            </svg>`,
    shield: `<svg class="w-5 h-5 text-sky-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"/>
            </svg>`,
    kubernetes: `<svg class="w-5 h-5 text-violet-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"/>
            </svg>`,
    stethoscope: `<svg class="w-5 h-5 text-lime-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"/>
            </svg>`,
    'arrow-right': `<svg class="w-5 h-5 text-pink-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7l5 5m0 0l-5 5m5-5H6"/>
            </svg>`,
  };

  return icons[iconName] || icons.cog;
}

function highlightText(text, query) {
  if (!query || query.length < 2) return text;

  try {
    const escapedQuery = query.replace(/[.*+?^${}()|[\]\\]/g, '\\$&');
    const regex = new RegExp(`(${escapedQuery})`, 'gi');
    return text.replace(regex, '<mark class="highlight">$1</mark>');
  } catch (e) {
    return text;
  }
}

// ============================================================================
// Initialization
// ============================================================================

function initElements() {
  elements.faqContainer = document.getElementById('faq-container');
  elements.searchInput = document.getElementById('search-input');
  elements.clearSearch = document.getElementById('clear-search');
  elements.searchStats = document.getElementById('search-stats');
  elements.resultCount = document.getElementById('result-count');
  elements.categoryFilters = document.getElementById('category-filters');
  elements.noResults = document.getElementById('no-results');
  elements.loading = document.getElementById('loading');
  elements.themeToggle = document.getElementById('theme-toggle');
  elements.resetSearch = document.getElementById('reset-search');
  elements.versionFilters = document.getElementById('version-filters');
}

function init() {
  initElements();
  initTheme();
  initSearch();

  // Theme toggle
  if (elements.themeToggle) {
    elements.themeToggle.addEventListener('click', toggleTheme);
  }

  // System theme change listener
  window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', (e) => {
    if (!localStorage.getItem('sindri-faq-theme')) {
      document.documentElement.classList.toggle('dark', e.matches);
    }
  });

  // Load FAQ data
  loadFaqData();
}

// Start the app
if (document.readyState === 'loading') {
  document.addEventListener('DOMContentLoaded', init);
} else {
  init();
}

</script>
</body>
</html>
