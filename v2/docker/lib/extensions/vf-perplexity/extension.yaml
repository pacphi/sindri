---
metadata:
  name: vf-perplexity
  version: 1.0.0
  description: Perplexity AI real-time web research MCP server (from VisionFlow)
  category: ai
  author: VisionFlow/Sindri Team
  homepage: https://github.com/DreamLab-AI/VisionFlow
  dependencies:
    - nodejs

requirements:
  domains:
    - api.perplexity.ai
    - registry.npmjs.org
  diskSpace: 100
  memory: 256
  installTime: 120
  secrets:
    - perplexity_api_key

install:
  method: script
  script:
    path: install.sh
    timeout: 300

configure:
  templates:
    - source: resources/SKILL.md
      destination: ~/extensions/vf-perplexity/SKILL.md
      mode: overwrite
  environment:
    - key: PERPLEXITY_API_KEY
      value: "${PERPLEXITY_API_KEY}"
      scope: bashrc

validate:
  commands:
    - name: test
      versionFlag: -d ~/extensions/vf-perplexity/mcp-server

remove:
  paths:
    - ~/extensions/vf-perplexity

upgrade:
  strategy: reinstall

bom:
  tools:
    - name: perplexity-mcp
      version: 1.0.0
      source: script
      type: server
      license: MIT
      homepage: https://github.com/DreamLab-AI/VisionFlow
      purl: pkg:npm/perplexity-mcp
