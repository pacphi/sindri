# Changelog - Sindri v3

All notable changes to Sindri v3 (Rust) will be documented in this file.

The format is based on [Keep a Changelog](https://keepachangelog.com/en/1.0.0/),
and this project adheres to [Semantic Versioning](https://semver.org/spec/v2.0.0.html).

<!-- Entries below are auto-generated by release workflow -->

## [3.0.0-rc.1] - 2026-02-10

### :bug: Bug Fixes

- fix(v3): improve extension Python and validation handling (8b6434b)

### :books: Documentation

- docs(v3): update release notes and FAQ with recent features (3bf1bfd)
- docs(v3): align paths and references with v3 architecture (61121f8)

### :wrench: Maintenance

- chore(release): bump to v3.0.0-rc.1 for release candidate (df977b2)
- chore(release): update v3 CHANGELOG and bump to v3.0.0-beta.12 for development (372b1e5)

### Installation

#### Docker Image

```bash
# Pull the Docker image
docker pull ghcr.io/pacphi/sindri:3.0.0-rc.1

# Run a container
docker run -d --name sindri \
  -e SINDRI_PROFILE=minimal \
  -v sindri_home:/alt/home/developer \
  ghcr.io/pacphi/sindri:3.0.0-rc.1
```

#### CLI Binary

```bash
# Download and install from release assets
# Linux (x86_64)
wget https://github.com/pacphi/sindri/releases/download/v3.0.0-rc.1/sindri-v3.0.0-rc.1-linux-x86_64.tar.gz
tar -xzf sindri-v3.0.0-rc.1-linux-x86_64.tar.gz
sudo mv sindri /usr/local/bin/

# macOS (Apple Silicon)
wget https://github.com/pacphi/sindri/releases/download/v3.0.0-rc.1/sindri-v3.0.0-rc.1-macos-aarch64.tar.gz
tar -xzf sindri-v3.0.0-rc.1-macos-aarch64.tar.gz
sudo mv sindri /usr/local/bin/
```

**Full Changelog**: https://github.com/pacphi/sindri/compare/v3.0.0-beta.11...v3.0.0-rc.1

## [3.0.0-beta.11] - 2026-02-10

### :bug: Bug Fixes

- fix(v3): improve extension validation and version handling (2bcc072)

### :wrench: Maintenance

- chore(release): update v3 CHANGELOG and bump to v3.0.0-beta.11 for development (6175b6c)

### Installation

#### Docker Image

```bash
# Pull the Docker image
docker pull ghcr.io/pacphi/sindri:3.0.0-beta.11

# Run a container
docker run -d --name sindri \
  -e SINDRI_PROFILE=minimal \
  -v sindri_home:/alt/home/developer \
  ghcr.io/pacphi/sindri:3.0.0-beta.11
```

#### CLI Binary

```bash
# Download and install from release assets
# Linux (x86_64)
wget https://github.com/pacphi/sindri/releases/download/v3.0.0-beta.11/sindri-v3.0.0-beta.11-linux-x86_64.tar.gz
tar -xzf sindri-v3.0.0-beta.11-linux-x86_64.tar.gz
sudo mv sindri /usr/local/bin/

# macOS (Apple Silicon)
wget https://github.com/pacphi/sindri/releases/download/v3.0.0-beta.11/sindri-v3.0.0-beta.11-macos-aarch64.tar.gz
tar -xzf sindri-v3.0.0-beta.11-macos-aarch64.tar.gz
sudo mv sindri /usr/local/bin/
```

**Full Changelog**: https://github.com/pacphi/sindri/compare/v3.0.0-beta.10...v3.0.0-beta.11

## [3.0.0-beta.10] - 2026-02-10

### :bug: Bug Fixes

- fix(v3): improve script portability and installation reliability (8ab24f2)

### :recycle: Refactoring

- refactor(v3): migrate nodejs from hybrid to mise-only with corepack (1822a5f)

### :wrench: Maintenance

- chore(release): update v3 CHANGELOG and bump to v3.0.0-beta.10 for development (f98779f)

### Installation

#### Docker Image

```bash
# Pull the Docker image
docker pull ghcr.io/pacphi/sindri:3.0.0-beta.10

# Run a container
docker run -d --name sindri \
  -e SINDRI_PROFILE=minimal \
  -v sindri_home:/alt/home/developer \
  ghcr.io/pacphi/sindri:3.0.0-beta.10
```

#### CLI Binary

```bash
# Download and install from release assets
# Linux (x86_64)
wget https://github.com/pacphi/sindri/releases/download/v3.0.0-beta.10/sindri-v3.0.0-beta.10-linux-x86_64.tar.gz
tar -xzf sindri-v3.0.0-beta.10-linux-x86_64.tar.gz
sudo mv sindri /usr/local/bin/

# macOS (Apple Silicon)
wget https://github.com/pacphi/sindri/releases/download/v3.0.0-beta.10/sindri-v3.0.0-beta.10-macos-aarch64.tar.gz
tar -xzf sindri-v3.0.0-beta.10-macos-aarch64.tar.gz
sudo mv sindri /usr/local/bin/
```

**Full Changelog**: https://github.com/pacphi/sindri/compare/v3.0.0-beta.9...v3.0.0-beta.10

## [3.0.0-beta.9] - 2026-02-10

### :bug: Bug Fixes

- fix(v3): prevent extension list --all from hanging on script installations (64e72bb)

### :wrench: Maintenance

- style(v3): improve formatting consistency in CHANGELOG and source code (8cc3488)
- chore(release): update v3 CHANGELOG and bump to v3.0.0-beta.9 for development (4af13e8)

### Installation

#### Docker Image

```bash
# Pull the Docker image
docker pull ghcr.io/pacphi/sindri:3.0.0-beta.9

# Run a container
docker run -d --name sindri \
  -e SINDRI_PROFILE=minimal \
  -v sindri_home:/alt/home/developer \
  ghcr.io/pacphi/sindri:3.0.0-beta.9
```

#### CLI Binary

```bash
# Download and install from release assets
# Linux (x86_64)
wget https://github.com/pacphi/sindri/releases/download/v3.0.0-beta.9/sindri-v3.0.0-beta.9-linux-x86_64.tar.gz
tar -xzf sindri-v3.0.0-beta.9-linux-x86_64.tar.gz
sudo mv sindri /usr/local/bin/

# macOS (Apple Silicon)
wget https://github.com/pacphi/sindri/releases/download/v3.0.0-beta.9/sindri-v3.0.0-beta.9-macos-aarch64.tar.gz
tar -xzf sindri-v3.0.0-beta.9-macos-aarch64.tar.gz
sudo mv sindri /usr/local/bin/
```

**Full Changelog**: https://github.com/pacphi/sindri/compare/v3.0.0-beta.8...v3.0.0-beta.9

## [3.0.0-beta.8] - 2026-02-10

### :bug: Bug Fixes

- fix(v3): allow "lts" and "stable" as BOM version keywords (8ae3398)

### :wrench: Maintenance

- chore(release): update v3 CHANGELOG and bump to v3.0.0-beta.8 for development (d15a2e5)

### Installation

#### Docker Image

```bash
# Pull the Docker image
docker pull ghcr.io/pacphi/sindri:3.0.0-beta.8

# Run a container
docker run -d --name sindri \
  -e SINDRI_PROFILE=minimal \
  -v sindri_home:/alt/home/developer \
  ghcr.io/pacphi/sindri:3.0.0-beta.8
```

#### CLI Binary

```bash
# Download and install from release assets
# Linux (x86_64)
wget https://github.com/pacphi/sindri/releases/download/v3.0.0-beta.8/sindri-v3.0.0-beta.8-linux-x86_64.tar.gz
tar -xzf sindri-v3.0.0-beta.8-linux-x86_64.tar.gz
sudo mv sindri /usr/local/bin/

# macOS (Apple Silicon)
wget https://github.com/pacphi/sindri/releases/download/v3.0.0-beta.8/sindri-v3.0.0-beta.8-macos-aarch64.tar.gz
tar -xzf sindri-v3.0.0-beta.8-macos-aarch64.tar.gz
sudo mv sindri /usr/local/bin/
```

**Full Changelog**: https://github.com/pacphi/sindri/compare/v3.0.0-beta.7...v3.0.0-beta.8

## [3.0.0-beta.7] - 2026-02-10

### :sparkles: Features

- feat(v3): parallelize extension BOM fetching with rate limiting (042edaa)

### :bug: Bug Fixes

- fix(v3): allow null for docs.notes field in extension schema (2be33bb)

### :wrench: Maintenance

- chore(release): update v3 CHANGELOG and bump to v3.0.0-beta.7 for development (068a3a9)

### Installation

#### Docker Image

```bash
# Pull the Docker image
docker pull ghcr.io/pacphi/sindri:3.0.0-beta.7

# Run a container
docker run -d --name sindri \
  -e SINDRI_PROFILE=minimal \
  -v sindri_home:/alt/home/developer \
  ghcr.io/pacphi/sindri:3.0.0-beta.7
```

#### CLI Binary

```bash
# Download and install from release assets
# Linux (x86_64)
wget https://github.com/pacphi/sindri/releases/download/v3.0.0-beta.7/sindri-v3.0.0-beta.7-linux-x86_64.tar.gz
tar -xzf sindri-v3.0.0-beta.7-linux-x86_64.tar.gz
sudo mv sindri /usr/local/bin/

# macOS (Apple Silicon)
wget https://github.com/pacphi/sindri/releases/download/v3.0.0-beta.7/sindri-v3.0.0-beta.7-macos-aarch64.tar.gz
tar -xzf sindri-v3.0.0-beta.7-macos-aarch64.tar.gz
sudo mv sindri /usr/local/bin/
```

**Full Changelog**: https://github.com/pacphi/sindri/compare/v3.0.0-beta.6...v3.0.0-beta.7

## [3.0.0-beta.6] - 2026-02-10

### :sparkles: Features

- feat(v3): enhance extension list with software versions and status tracking (4d50da3)
- feat: add bom support (#64) (c9f63d3)
- feat(v3): add Shannon autonomous AI pentester extension (a7c8c27)
- feat(v3): enhance profile error reporting and modernize table styles (8a817c3)

### :bug: Bug Fixes

- fix(v3): handle SDKMAN init non-zero exit in certain environments (658c07c)

### :wrench: Maintenance

- chore(v3): upgrade agentic-qe extension to v3.6.0 (03c7c91)
- chore(release): update v3 CHANGELOG and bump to v3.0.0-beta.6 for development (9f85dd7)

### Installation

#### Docker Image

```bash
# Pull the Docker image
docker pull ghcr.io/pacphi/sindri:3.0.0-beta.6

# Run a container
docker run -d --name sindri \
  -e SINDRI_PROFILE=minimal \
  -v sindri_home:/alt/home/developer \
  ghcr.io/pacphi/sindri:3.0.0-beta.6
```

#### CLI Binary

```bash
# Download and install from release assets
# Linux (x86_64)
wget https://github.com/pacphi/sindri/releases/download/v3.0.0-beta.6/sindri-v3.0.0-beta.6-linux-x86_64.tar.gz
tar -xzf sindri-v3.0.0-beta.6-linux-x86_64.tar.gz
sudo mv sindri /usr/local/bin/

# macOS (Apple Silicon)
wget https://github.com/pacphi/sindri/releases/download/v3.0.0-beta.6/sindri-v3.0.0-beta.6-macos-aarch64.tar.gz
tar -xzf sindri-v3.0.0-beta.6-macos-aarch64.tar.gz
sudo mv sindri /usr/local/bin/
```

**Full Changelog**: https://github.com/pacphi/sindri/compare/v3.0.0-beta.5...v3.0.0-beta.6

## [3.0.0-beta.5] - 2026-02-08

### :wrench: Maintenance

- chore: upgrade GitHub Actions checkout to v6 and improve version validation (db8f7d7)
- chore(release): update v3 CHANGELOG and bump to v3.0.0-beta.5 for development (94f3ab6)

### Installation

#### Docker Image

```bash
# Pull the Docker image
docker pull ghcr.io/pacphi/sindri:3.0.0-beta.5

# Run a container
docker run -d --name sindri \
  -e SINDRI_PROFILE=minimal \
  -v sindri_home:/alt/home/developer \
  ghcr.io/pacphi/sindri:3.0.0-beta.5
```

#### CLI Binary

```bash
# Download and install from release assets
# Linux (x86_64)
wget https://github.com/pacphi/sindri/releases/download/v3.0.0-beta.5/sindri-v3.0.0-beta.5-linux-x86_64.tar.gz
tar -xzf sindri-v3.0.0-beta.5-linux-x86_64.tar.gz
sudo mv sindri /usr/local/bin/

# macOS (Apple Silicon)
wget https://github.com/pacphi/sindri/releases/download/v3.0.0-beta.5/sindri-v3.0.0-beta.5-macos-aarch64.tar.gz
tar -xzf sindri-v3.0.0-beta.5-macos-aarch64.tar.gz
sudo mv sindri /usr/local/bin/
```

**Full Changelog**: https://github.com/pacphi/sindri/compare/v3.0.0-beta.4...v3.0.0-beta.5

## [3.0.0-beta.4] - 2026-02-08

### :bug: Bug Fixes

- fix(v3): migrate compahook extension to mise install method (5c6c73c)
- fix(v3): improve logging and extension installation handling (c154fa7)

### :wrench: Maintenance

- chore(v3): fix CHANGELOG formatting and whitespace (a2ae248)
- chore(release): update v3 CHANGELOG and bump to v3.0.0-beta.4 for development (811795b)

### Installation

#### Docker Image

```bash
# Pull the Docker image
docker pull ghcr.io/pacphi/sindri:3.0.0-beta.4

# Run a container
docker run -d --name sindri \
  -e SINDRI_PROFILE=minimal \
  -v sindri_home:/alt/home/developer \
  ghcr.io/pacphi/sindri:3.0.0-beta.4
```

#### CLI Binary

```bash
# Download and install from release assets
# Linux (x86_64)
wget https://github.com/pacphi/sindri/releases/download/v3.0.0-beta.4/sindri-v3.0.0-beta.4-linux-x86_64.tar.gz
tar -xzf sindri-v3.0.0-beta.4-linux-x86_64.tar.gz
sudo mv sindri /usr/local/bin/

# macOS (Apple Silicon)
wget https://github.com/pacphi/sindri/releases/download/v3.0.0-beta.4/sindri-v3.0.0-beta.4-macos-aarch64.tar.gz
tar -xzf sindri-v3.0.0-beta.4-macos-aarch64.tar.gz
sudo mv sindri /usr/local/bin/
```

**Full Changelog**: https://github.com/pacphi/sindri/compare/v3.0.0-beta.3...v3.0.0-beta.4

## [3.0.0-beta.3] - 2026-02-06

### :bug: Bug Fixes

- fix(v3): use correct validation field for compahook (969bac2)

### :wrench: Maintenance

- chore(release): update v3 CHANGELOG and bump to v3.0.0-beta.3 for development (9406398)

### Installation

#### Docker Image

```bash
# Pull the Docker image
docker pull ghcr.io/pacphi/sindri:3.0.0-beta.3

# Run a container
docker run -d --name sindri \
  -e SINDRI_PROFILE=minimal \
  -v sindri_home:/alt/home/developer \
  ghcr.io/pacphi/sindri:3.0.0-beta.3
```

#### CLI Binary

```bash
# Download and install from release assets
# Linux (x86_64)
wget https://github.com/pacphi/sindri/releases/download/v3.0.0-beta.3/sindri-v3.0.0-beta.3-linux-x86_64.tar.gz
tar -xzf sindri-v3.0.0-beta.3-linux-x86_64.tar.gz
sudo mv sindri /usr/local/bin/

# macOS (Apple Silicon)
wget https://github.com/pacphi/sindri/releases/download/v3.0.0-beta.3/sindri-v3.0.0-beta.3-macos-aarch64.tar.gz
tar -xzf sindri-v3.0.0-beta.3-macos-aarch64.tar.gz
sudo mv sindri /usr/local/bin/
```

**Full Changelog**: https://github.com/pacphi/sindri/compare/v3.0.0-beta.2...v3.0.0-beta.3

## [3.0.0-beta.2] - 2026-02-06

### :bug: Bug Fixes

- fix(v3): resolve startup race condition and improve MOTD display (ed1e305)

### :wrench: Maintenance

- chore(release): update v3 CHANGELOG and bump to v3.0.0-beta.2 for development (9492531)

### Installation

#### Docker Image

```bash
# Pull the Docker image
docker pull ghcr.io/pacphi/sindri:3.0.0-beta.2

# Run a container
docker run -d --name sindri \
  -e SINDRI_PROFILE=minimal \
  -v sindri_home:/alt/home/developer \
  ghcr.io/pacphi/sindri:3.0.0-beta.2
```

#### CLI Binary

```bash
# Download and install from release assets
# Linux (x86_64)
wget https://github.com/pacphi/sindri/releases/download/v3.0.0-beta.2/sindri-v3.0.0-beta.2-linux-x86_64.tar.gz
tar -xzf sindri-v3.0.0-beta.2-linux-x86_64.tar.gz
sudo mv sindri /usr/local/bin/

# macOS (Apple Silicon)
wget https://github.com/pacphi/sindri/releases/download/v3.0.0-beta.2/sindri-v3.0.0-beta.2-macos-aarch64.tar.gz
tar -xzf sindri-v3.0.0-beta.2-macos-aarch64.tar.gz
sudo mv sindri /usr/local/bin/
```

**Full Changelog**: https://github.com/pacphi/sindri/compare/v3.0.0-beta.1...v3.0.0-beta.2

## [3.0.0-beta.1] - 2026-02-05

### :bug: Bug Fixes

- fix(tests): fix failing unit test and doctest in support_files module (8a421ee)
- fix(extensions): add version-aware support file management for volume-mounted deployments (b9af0d1)

### :books: Documentation

- docs: reorganize version guides into future-proof migration directory (926b195)
- docs(v3): enhance README and add runtime configuration for mise timeout (407c687)
- docs(vm): align VM image documentation with CLI naming conventions (5c63cf1)
- docs(extensions): reorganize extension system documentation into guides/ (3ddca42)

### :wrench: Maintenance

- chore(release): bump version to v3.0.0-beta.1 (1211226)
- chore(v3): upgrade Rust toolchain to 1.93 and update dependencies (1fc886a)
- chore(release): update v3 CHANGELOG and bump to v3.0.0-alpha.19 for development (b421060)

### Installation

#### Docker Image

```bash
# Pull the Docker image
docker pull ghcr.io/pacphi/sindri:3.0.0-beta.1

# Run a container
docker run -d --name sindri \
  -e SINDRI_PROFILE=minimal \
  -v sindri_home:/alt/home/developer \
  ghcr.io/pacphi/sindri:3.0.0-beta.1
```

#### CLI Binary

```bash
# Download and install from release assets
# Linux (x86_64)
wget https://github.com/pacphi/sindri/releases/download/v3.0.0-beta.1/sindri-v3.0.0-beta.1-linux-x86_64.tar.gz
tar -xzf sindri-v3.0.0-beta.1-linux-x86_64.tar.gz
sudo mv sindri /usr/local/bin/

# macOS (Apple Silicon)
wget https://github.com/pacphi/sindri/releases/download/v3.0.0-beta.1/sindri-v3.0.0-beta.1-macos-aarch64.tar.gz
tar -xzf sindri-v3.0.0-beta.1-macos-aarch64.tar.gz
sudo mv sindri /usr/local/bin/
```

**Full Changelog**: https://github.com/pacphi/sindri/compare/v3.0.0-alpha.18...v3.0.0-beta.1

## [3.0.0-alpha.18] - 2026-02-05

### :bug: Bug Fixes

- fix(cli): show deployment progress by default (c1b40d8)
- fix(docker): set developer user home to /alt/home/developer (df80737)

### :wrench: Maintenance

- chore(release): update v3 CHANGELOG and bump to v3.0.0-alpha.18 for development (e2bed4c)

### Installation

#### Docker Image

```bash
# Pull the Docker image
docker pull ghcr.io/pacphi/sindri:3.0.0-alpha.18

# Run a container
docker run -d --name sindri \
  -e SINDRI_PROFILE=minimal \
  -v sindri_home:/alt/home/developer \
  ghcr.io/pacphi/sindri:3.0.0-alpha.18
```

#### CLI Binary

```bash
# Download and install from release assets
# Linux (x86_64)
wget https://github.com/pacphi/sindri/releases/download/v3.0.0-alpha.18/sindri-v3.0.0-alpha.18-linux-x86_64.tar.gz
tar -xzf sindri-v3.0.0-alpha.18-linux-x86_64.tar.gz
sudo mv sindri /usr/local/bin/

# macOS (Apple Silicon)
wget https://github.com/pacphi/sindri/releases/download/v3.0.0-alpha.18/sindri-v3.0.0-alpha.18-macos-aarch64.tar.gz
tar -xzf sindri-v3.0.0-alpha.18-macos-aarch64.tar.gz
sudo mv sindri /usr/local/bin/
```

**Full Changelog**: https://github.com/pacphi/sindri/compare/v3.0.0-alpha.17...v3.0.0-alpha.18

## [3.0.0-alpha.17] - 2026-02-05

### :bug: Bug Fixes

- fix(providers): fix fly.io deployment hangs and improve visibility (c396487)
- fix(providers): add fly context variables before early return for pre-built images (e23803e)

### :wrench: Maintenance

- chore(release): update v3 CHANGELOG and bump to v3.0.0-alpha.17 for development (7eb54f2)

### Installation

#### Docker Image

```bash
# Pull the Docker image
docker pull ghcr.io/pacphi/sindri:3.0.0-alpha.17

# Run a container
docker run -d --name sindri \
  -e SINDRI_PROFILE=minimal \
  -v sindri_home:/alt/home/developer \
  ghcr.io/pacphi/sindri:3.0.0-alpha.17
```

#### CLI Binary

```bash
# Download and install from release assets
# Linux (x86_64)
wget https://github.com/pacphi/sindri/releases/download/v3.0.0-alpha.17/sindri-v3.0.0-alpha.17-linux-x86_64.tar.gz
tar -xzf sindri-v3.0.0-alpha.17-linux-x86_64.tar.gz
sudo mv sindri /usr/local/bin/

# macOS (Apple Silicon)
wget https://github.com/pacphi/sindri/releases/download/v3.0.0-alpha.17/sindri-v3.0.0-alpha.17-macos-aarch64.tar.gz
tar -xzf sindri-v3.0.0-alpha.17-macos-aarch64.tar.gz
sudo mv sindri /usr/local/bin/
```

**Full Changelog**: https://github.com/pacphi/sindri/compare/v3.0.0-alpha.16...v3.0.0-alpha.17

## [3.0.0-alpha.16] - 2026-02-04

### :bug: Bug Fixes

- fix(providers): fly provider now properly uses pre-built images (24f93d3)

### :wrench: Maintenance

- chore(release): update v3 CHANGELOG and bump to v3.0.0-alpha.16 for development (aac39d3)

### Installation

#### Docker Image

```bash
# Pull the Docker image
docker pull ghcr.io/pacphi/sindri:3.0.0-alpha.16

# Run a container
docker run -d --name sindri \
  -e SINDRI_PROFILE=minimal \
  -v sindri_home:/alt/home/developer \
  ghcr.io/pacphi/sindri:3.0.0-alpha.16
```

#### CLI Binary

```bash
# Download and install from release assets
# Linux (x86_64)
wget https://github.com/pacphi/sindri/releases/download/v3.0.0-alpha.16/sindri-v3.0.0-alpha.16-linux-x86_64.tar.gz
tar -xzf sindri-v3.0.0-alpha.16-linux-x86_64.tar.gz
sudo mv sindri /usr/local/bin/

# macOS (Apple Silicon)
wget https://github.com/pacphi/sindri/releases/download/v3.0.0-alpha.16/sindri-v3.0.0-alpha.16-macos-aarch64.tar.gz
tar -xzf sindri-v3.0.0-alpha.16-macos-aarch64.tar.gz
sudo mv sindri /usr/local/bin/
```

**Full Changelog**: https://github.com/pacphi/sindri/compare/v3.0.0-alpha.15...v3.0.0-alpha.16

## [3.0.0-alpha.15] - 2026-02-04

### :bug: Bug Fixes

- fix(v3): replace netstat with ss in health check to fix fly.io deployments (7d7e6d6)

### :wrench: Maintenance

- chore(release): update v3 CHANGELOG and bump to v3.0.0-alpha.15 for development (cb0a0ee)

### Installation

#### Docker Image

```bash
# Pull the Docker image
docker pull ghcr.io/pacphi/sindri:3.0.0-alpha.15

# Run a container
docker run -d --name sindri \
  -e SINDRI_PROFILE=minimal \
  -v sindri_home:/alt/home/developer \
  ghcr.io/pacphi/sindri:3.0.0-alpha.15
```

#### CLI Binary

```bash
# Download and install from release assets
# Linux (x86_64)
wget https://github.com/pacphi/sindri/releases/download/v3.0.0-alpha.15/sindri-v3.0.0-alpha.15-linux-x86_64.tar.gz
tar -xzf sindri-v3.0.0-alpha.15-linux-x86_64.tar.gz
sudo mv sindri /usr/local/bin/

# macOS (Apple Silicon)
wget https://github.com/pacphi/sindri/releases/download/v3.0.0-alpha.15/sindri-v3.0.0-alpha.15-macos-aarch64.tar.gz
tar -xzf sindri-v3.0.0-alpha.15-macos-aarch64.tar.gz
sudo mv sindri /usr/local/bin/
```

**Full Changelog**: https://github.com/pacphi/sindri/compare/v3.0.0-alpha.14...v3.0.0-alpha.15

## [3.0.0-alpha.14] - 2026-02-04

### :bug: Bug Fixes

- fix(core): resolve clippy format-in-format-args warning (ca9349c)
- fix(v3): improve docker health check and standardize image defaults (4e5aaf5)

### :books: Documentation

- docs(providers): add multi-node cluster examples (505ca02)

### :wrench: Maintenance

- chore: upgrade ai-toolkit extension versions for grok and gemini clis (7180ddb)
- chore(release): update v3 CHANGELOG and bump to v3.0.0-alpha.14 for development (e85fc72)

### Installation

#### Docker Image

```bash
# Pull the Docker image
docker pull ghcr.io/pacphi/sindri:3.0.0-alpha.14

# Run a container
docker run -d --name sindri \
  -e SINDRI_PROFILE=minimal \
  -v sindri_home:/alt/home/developer \
  ghcr.io/pacphi/sindri:3.0.0-alpha.14
```

#### CLI Binary

```bash
# Download and install from release assets
# Linux (x86_64)
wget https://github.com/pacphi/sindri/releases/download/v3.0.0-alpha.14/sindri-v3.0.0-alpha.14-linux-x86_64.tar.gz
tar -xzf sindri-v3.0.0-alpha.14-linux-x86_64.tar.gz
sudo mv sindri /usr/local/bin/

# macOS (Apple Silicon)
wget https://github.com/pacphi/sindri/releases/download/v3.0.0-alpha.14/sindri-v3.0.0-alpha.14-macos-aarch64.tar.gz
tar -xzf sindri-v3.0.0-alpha.14-macos-aarch64.tar.gz
sudo mv sindri /usr/local/bin/
```

**Full Changelog**: https://github.com/pacphi/sindri/compare/v3.0.0-alpha.13...v3.0.0-alpha.14

## [3.0.0-alpha.13] - 2026-02-04

### :bug: Bug Fixes

- fix(extensions): disable Python compilation in mise for noexec /tmp (96211bb)

### :wrench: Maintenance

- chore(release): update v3 CHANGELOG and bump to v3.0.0-alpha.13 for development (679e627)

### Installation

#### Docker Image

```bash
# Pull the Docker image
docker pull ghcr.io/pacphi/sindri:3.0.0-alpha.13

# Run a container
docker run -d --name sindri \
  -e SINDRI_PROFILE=minimal \
  -v sindri_home:/alt/home/developer \
  ghcr.io/pacphi/sindri:3.0.0-alpha.13
```

#### CLI Binary

```bash
# Download and install from release assets
# Linux (x86_64)
wget https://github.com/pacphi/sindri/releases/download/v3.0.0-alpha.13/sindri-v3.0.0-alpha.13-linux-x86_64.tar.gz
tar -xzf sindri-v3.0.0-alpha.13-linux-x86_64.tar.gz
sudo mv sindri /usr/local/bin/

# macOS (Apple Silicon)
wget https://github.com/pacphi/sindri/releases/download/v3.0.0-alpha.13/sindri-v3.0.0-alpha.13-macos-aarch64.tar.gz
tar -xzf sindri-v3.0.0-alpha.13-macos-aarch64.tar.gz
sudo mv sindri /usr/local/bin/
```

**Full Changelog**: https://github.com/pacphi/sindri/compare/v3.0.0-alpha.12...v3.0.0-alpha.13

## [3.0.0-alpha.12] - 2026-02-04

### :bug: Bug Fixes

- fix(extensions): download mise config files for downloaded mode (73a7972)

### :wrench: Maintenance

- chore(release): update v3 CHANGELOG and bump to v3.0.0-alpha.12 for development (0839d21)

### Installation

#### Docker Image

```bash
# Pull the Docker image
docker pull ghcr.io/pacphi/sindri:3.0.0-alpha.12

# Run a container
docker run -d --name sindri \
  -e SINDRI_PROFILE=minimal \
  -v sindri_home:/alt/home/developer \
  ghcr.io/pacphi/sindri:3.0.0-alpha.12
```

#### CLI Binary

```bash
# Download and install from release assets
# Linux (x86_64)
wget https://github.com/pacphi/sindri/releases/download/v3.0.0-alpha.12/sindri-v3.0.0-alpha.12-linux-x86_64.tar.gz
tar -xzf sindri-v3.0.0-alpha.12-linux-x86_64.tar.gz
sudo mv sindri /usr/local/bin/

# macOS (Apple Silicon)
wget https://github.com/pacphi/sindri/releases/download/v3.0.0-alpha.12/sindri-v3.0.0-alpha.12-macos-aarch64.tar.gz
tar -xzf sindri-v3.0.0-alpha.12-macos-aarch64.tar.gz
sudo mv sindri /usr/local/bin/
```

**Full Changelog**: https://github.com/pacphi/sindri/compare/v3.0.0-alpha.11...v3.0.0-alpha.12

## [3.0.0-alpha.11] - 2026-02-03

### :bug: Bug Fixes

- fix(docker): add common.sh for downloaded mode extensions (ababb26)

### :wrench: Maintenance

- chore(release): update v3 CHANGELOG and bump to v3.0.0-alpha.11 for development (c6fd44a)

### Installation

#### Docker Image

```bash
# Pull the Docker image
docker pull ghcr.io/pacphi/sindri:3.0.0-alpha.11

# Run a container
docker run -d --name sindri \
  -e SINDRI_PROFILE=minimal \
  -v sindri_home:/alt/home/developer \
  ghcr.io/pacphi/sindri:3.0.0-alpha.11
```

#### CLI Binary

```bash
# Download and install from release assets
# Linux (x86_64)
wget https://github.com/pacphi/sindri/releases/download/v3.0.0-alpha.11/sindri-v3.0.0-alpha.11-linux-x86_64.tar.gz
tar -xzf sindri-v3.0.0-alpha.11-linux-x86_64.tar.gz
sudo mv sindri /usr/local/bin/

# macOS (Apple Silicon)
wget https://github.com/pacphi/sindri/releases/download/v3.0.0-alpha.11/sindri-v3.0.0-alpha.11-macos-aarch64.tar.gz
tar -xzf sindri-v3.0.0-alpha.11-macos-aarch64.tar.gz
sudo mv sindri /usr/local/bin/
```

**Full Changelog**: https://github.com/pacphi/sindri/compare/v3.0.0-alpha.10...v3.0.0-alpha.11

## [3.0.0-alpha.10] - 2026-02-03

### :sparkles: Features

- feat(extensions): add Swift 6.2.3 language extension (9b5a052)

### :wrench: Maintenance

- chore(release): update v3 CHANGELOG and bump to v3.0.0-alpha.10 for development (8b5eb7b)

### Installation

#### Docker Image

```bash
# Pull the Docker image
docker pull ghcr.io/pacphi/sindri:3.0.0-alpha.10

# Run a container
docker run -d --name sindri \
  -e SINDRI_PROFILE=minimal \
  -v sindri_home:/alt/home/developer \
  ghcr.io/pacphi/sindri:3.0.0-alpha.10
```

#### CLI Binary

```bash
# Download and install from release assets
# Linux (x86_64)
wget https://github.com/pacphi/sindri/releases/download/v3.0.0-alpha.10/sindri-v3.0.0-alpha.10-linux-x86_64.tar.gz
tar -xzf sindri-v3.0.0-alpha.10-linux-x86_64.tar.gz
sudo mv sindri /usr/local/bin/

# macOS (Apple Silicon)
wget https://github.com/pacphi/sindri/releases/download/v3.0.0-alpha.10/sindri-v3.0.0-alpha.10-macos-aarch64.tar.gz
tar -xzf sindri-v3.0.0-alpha.10-macos-aarch64.tar.gz
sudo mv sindri /usr/local/bin/
```

**Full Changelog**: https://github.com/pacphi/sindri/compare/v3.0.0-alpha.9...v3.0.0-alpha.10

## [3.0.0-alpha.9] - 2026-02-03

### :sparkles: Features

- feat(extensions): add Swift 6.2.3 language extension (347eeca)

### :bug: Bug Fixes

- fix(extensions): resolve doubled path in extension directory lookup (b6bfa24)

### :books: Documentation

- docs: clean up CHANGELOG duplicate entries from tag detection bug (6215d28)

### :wrench: Maintenance

- chore(release): update v3 CHANGELOG and bump to v3.0.0-alpha.9 for development (b69e6d1)
- chore(release): update v3 CHANGELOG and bump to v3.0.0-alpha.8 for development (9e23e73)

### Installation

#### Docker Image

```bash
# Pull the Docker image
docker pull ghcr.io/pacphi/sindri:3.0.0-alpha.9

# Run a container
docker run -d --name sindri \
  -e SINDRI_PROFILE=minimal \
  -v sindri_home:/alt/home/developer \
  ghcr.io/pacphi/sindri:3.0.0-alpha.9
```

#### CLI Binary

```bash
# Download and install from release assets
# Linux (x86_64)
wget https://github.com/pacphi/sindri/releases/download/v3.0.0-alpha.9/sindri-v3.0.0-alpha.9-linux-x86_64.tar.gz
tar -xzf sindri-v3.0.0-alpha.9-linux-x86_64.tar.gz
sudo mv sindri /usr/local/bin/

# macOS (Apple Silicon)
wget https://github.com/pacphi/sindri/releases/download/v3.0.0-alpha.9/sindri-v3.0.0-alpha.9-macos-aarch64.tar.gz
tar -xzf sindri-v3.0.0-alpha.9-macos-aarch64.tar.gz
sudo mv sindri /usr/local/bin/
```

**Full Changelog**: https://github.com/pacphi/sindri/compare/v3.0.0-alpha.7...v3.0.0-alpha.9

## [3.0.0-alpha.8] - 2026-02-03

### :bug: Bug Fixes

- fix(extensions): resolve doubled path in extension directory lookup (b6bfa24)

### :books: Documentation

- docs: clean up CHANGELOG duplicate entries from tag detection bug (6215d28)

### :wrench: Maintenance

- chore(release): update v3 CHANGELOG and bump to v3.0.0-alpha.8 for development (9e23e73)

### Installation

#### Docker Image

```bash
# Pull the Docker image
docker pull ghcr.io/pacphi/sindri:3.0.0-alpha.8

# Run a container
docker run -d --name sindri \
  -e SINDRI_PROFILE=minimal \
  -v sindri_home:/alt/home/developer \
  ghcr.io/pacphi/sindri:3.0.0-alpha.8
```

#### CLI Binary

```bash
# Download and install from release assets
# Linux (x86_64)
wget https://github.com/pacphi/sindri/releases/download/v3.0.0-alpha.8/sindri-v3.0.0-alpha.8-linux-x86_64.tar.gz
tar -xzf sindri-v3.0.0-alpha.8-linux-x86_64.tar.gz
sudo mv sindri /usr/local/bin/

# macOS (Apple Silicon)
wget https://github.com/pacphi/sindri/releases/download/v3.0.0-alpha.8/sindri-v3.0.0-alpha.8-macos-aarch64.tar.gz
tar -xzf sindri-v3.0.0-alpha.8-macos-aarch64.tar.gz
sudo mv sindri /usr/local/bin/
```

**Full Changelog**: https://github.com/pacphi/sindri/compare/v3.0.0-alpha.7...v3.0.0-alpha.8

## [3.0.0-alpha.7] - 2026-02-03

### :sparkles: Features

- feat(v3): migrate extension downloads to raw.githubusercontent.com (3295c2d)

### :bug: Bug Fixes

- fix(v3): resolve -c argument conflict in extension list command (4603305)

### :wrench: Maintenance

- chore(release): prepare v3.0.0-alpha.7 release (ae54829)

### Installation

#### Docker Image

```bash
# Pull the Docker image
docker pull ghcr.io/pacphi/sindri:3.0.0-alpha.7

# Run a container
docker run -d --name sindri \
  -e SINDRI_PROFILE=minimal \
  -v sindri_home:/alt/home/developer \
  ghcr.io/pacphi/sindri:3.0.0-alpha.7
```

#### CLI Binary

```bash
# Download and install from release assets
# Linux (x86_64)
wget https://github.com/pacphi/sindri/releases/download/v3.0.0-alpha.7/sindri-v3.0.0-alpha.7-linux-x86_64.tar.gz
tar -xzf sindri-v3.0.0-alpha.7-linux-x86_64.tar.gz
sudo mv sindri /usr/local/bin/

# macOS (Apple Silicon)
wget https://github.com/pacphi/sindri/releases/download/v3.0.0-alpha.7/sindri-v3.0.0-alpha.7-macos-aarch64.tar.gz
tar -xzf sindri-v3.0.0-alpha.7-macos-aarch64.tar.gz
sudo mv sindri /usr/local/bin/
```

## [3.0.0-alpha.6] - 2026-02-03

### :bug: Bug Fixes

- fix(v3): correct compatibility matrix URL and bundle in Docker image (a496d79)

### :wrench: Maintenance

- chore(release): update v3 CHANGELOG and Cargo.toml for v3.0.0-alpha.6 (2be6e38)

### Installation

#### Docker Image

```bash
# Pull the Docker image
docker pull ghcr.io/pacphi/sindri:3.0.0-alpha.6

# Run a container
docker run -d --name sindri \
  -e SINDRI_PROFILE=minimal \
  -v sindri_home:/alt/home/developer \
  ghcr.io/pacphi/sindri:3.0.0-alpha.6
```

#### CLI Binary

```bash
# Download and install from release assets
# Linux (x86_64)
wget https://github.com/pacphi/sindri/releases/download/v3.0.0-alpha.6/sindri-v3.0.0-alpha.6-linux-x86_64.tar.gz
tar -xzf sindri-v3.0.0-alpha.6-linux-x86_64.tar.gz
sudo mv sindri /usr/local/bin/

# macOS (Apple Silicon)
wget https://github.com/pacphi/sindri/releases/download/v3.0.0-alpha.6/sindri-v3.0.0-alpha.6-macos-aarch64.tar.gz
tar -xzf sindri-v3.0.0-alpha.6-macos-aarch64.tar.gz
sudo mv sindri /usr/local/bin/
```

## [3.0.0-alpha.5] - 2026-02-03

### :sparkles: Features

- feat(v3): add unified extension source resolver and improve GHCR auth (3abcbe0)

### :wrench: Maintenance

- chore(release): update v3 CHANGELOG and Cargo.toml for v3.0.0-alpha.5 (222e8f4)

### Installation

#### Docker Image

```bash
# Pull the Docker image
docker pull ghcr.io/pacphi/sindri:3.0.0-alpha.5

# Run a container
docker run -d --name sindri \
  -e SINDRI_PROFILE=minimal \
  -v sindri_home:/alt/home/developer \
  ghcr.io/pacphi/sindri:3.0.0-alpha.5
```

#### CLI Binary

```bash
# Download and install from release assets
# Linux (x86_64)
wget https://github.com/pacphi/sindri/releases/download/v3.0.0-alpha.5/sindri-v3.0.0-alpha.5-linux-x86_64.tar.gz
tar -xzf sindri-v3.0.0-alpha.5-linux-x86_64.tar.gz
sudo mv sindri /usr/local/bin/

# macOS (Apple Silicon)
wget https://github.com/pacphi/sindri/releases/download/v3.0.0-alpha.5/sindri-v3.0.0-alpha.5-macos-aarch64.tar.gz
tar -xzf sindri-v3.0.0-alpha.5-macos-aarch64.tar.gz
sudo mv sindri /usr/local/bin/
```

## [3.0.0-alpha.4] - 2026-02-03

### :bug: Bug Fixes

- fix(release): remove macOS x86_64 support from release pipeline (e27466c)

### :wrench: Maintenance

- chore(release): update v3 CHANGELOG and Cargo.toml for v3.0.0-alpha.4 (6e57da4)

### Installation

#### Docker Image

```bash
# Pull the Docker image
docker pull ghcr.io/pacphi/sindri:3.0.0-alpha.4

# Run a container
docker run -d --name sindri \
  -e SINDRI_PROFILE=minimal \
  -v sindri_home:/alt/home/developer \
  ghcr.io/pacphi/sindri:3.0.0-alpha.4
```

#### CLI Binary

```bash
# Download and install from release assets
# Linux (x86_64)
wget https://github.com/pacphi/sindri/releases/download/v3.0.0-alpha.4/sindri-v3.0.0-alpha.4-linux-x86_64.tar.gz
tar -xzf sindri-v3.0.0-alpha.4-linux-x86_64.tar.gz
sudo mv sindri /usr/local/bin/

# macOS (Apple Silicon)
wget https://github.com/pacphi/sindri/releases/download/v3.0.0-alpha.4/sindri-v3.0.0-alpha.4-macos-aarch64.tar.gz
tar -xzf sindri-v3.0.0-alpha.4-macos-aarch64.tar.gz
sudo mv sindri /usr/local/bin/
```

## [3.0.0-alpha.3] - 2026-02-03

_Only release prep commit - no user-facing changes_

### :wrench: Maintenance

- chore(release): update v3 CHANGELOG and Cargo.toml for v3.0.0-alpha.3 (60ab8dd)

### Installation

#### Docker Image

```bash
# Pull the Docker image
docker pull ghcr.io/pacphi/sindri:3.0.0-alpha.3

# Run a container
docker run -d --name sindri \
  -e SINDRI_PROFILE=minimal \
  -v sindri_home:/alt/home/developer \
  ghcr.io/pacphi/sindri:3.0.0-alpha.3
```

#### CLI Binary

```bash
# Download and install from release assets
# Linux (x86_64)
wget https://github.com/pacphi/sindri/releases/download/v3.0.0-alpha.3/sindri-v3.0.0-alpha.3-linux-x86_64.tar.gz
tar -xzf sindri-v3.0.0-alpha.3-linux-x86_64.tar.gz
sudo mv sindri /usr/local/bin/

# macOS (Apple Silicon)
wget https://github.com/pacphi/sindri/releases/download/v3.0.0-alpha.3/sindri-v3.0.0-alpha.3-macos-aarch64.tar.gz
tar -xzf sindri-v3.0.0-alpha.3-macos-aarch64.tar.gz
sudo mv sindri /usr/local/bin/
```

## [3.0.0-alpha.2] - 2026-02-02

### :bug: Bug Fixes

- fix(release): resolve v3 build failures for ARM64 and Windows (fe25b4f)

### :wrench: Maintenance

- chore(release): update v3 CHANGELOG and Cargo.toml for v3.0.0-alpha.2 (2e0f9b8)

### Installation

#### Docker Image

```bash
# Pull the Docker image
docker pull ghcr.io/pacphi/sindri:3.0.0-alpha.2

# Run a container
docker run -d --name sindri \
  -e SINDRI_PROFILE=minimal \
  -v sindri_home:/alt/home/developer \
  ghcr.io/pacphi/sindri:3.0.0-alpha.2
```

#### CLI Binary

```bash
# Download and install from release assets
# Linux (x86_64)
wget https://github.com/pacphi/sindri/releases/download/v3.0.0-alpha.2/sindri-v3.0.0-alpha.2-linux-x86_64.tar.gz
tar -xzf sindri-v3.0.0-alpha.2-linux-x86_64.tar.gz
sudo mv sindri /usr/local/bin/

# macOS (Apple Silicon)
wget https://github.com/pacphi/sindri/releases/download/v3.0.0-alpha.2/sindri-v3.0.0-alpha.2-macos-aarch64.tar.gz
tar -xzf sindri-v3.0.0-alpha.2-macos-aarch64.tar.gz
sudo mv sindri /usr/local/bin/
```

## [3.0.0-alpha.1] - 2026-02-02

### :sparkles: Features

- feat(v3): Implement Sindri v3 architecture with dual-version support (0abee17)
- feat(v3): production-ready v3 architecture with 90% faster builds (592686c)
- feat: v3 pre-release stabilization efforts (#50) (10b284d)
- feat: v3 stabilization efforts - part 2 (#51) (da3384d)
- feat: v3 vm command (#57) (cba8fe5)
- feat: v3 distribution preparation (#58) (6ba9a2b)

### :bug: Bug Fixes

- fix(security): resolve SSH private keys and GitHub CLI CVE vulnerabilities (439cfbc)

### :package: Dependencies

- deps(v3): upgrade which to 8.0 and dirs to 6.0 (573c35f)

### :wrench: Maintenance

- chore(release): update v3 CHANGELOG and Cargo.toml for v3.0.0-alpha.1 (0dbacf9)
- chore(deps): upgrade CLI dependencies and fix test flakiness (09e6192)
- chore(deps): upgrade Rust dependencies and GitHub Actions (43543fa)

### Installation

#### Docker Image

```bash
# Pull the Docker image
docker pull ghcr.io/pacphi/sindri:3.0.0-alpha.1

# Run a container
docker run -d --name sindri \
  -e SINDRI_PROFILE=minimal \
  -v sindri_home:/alt/home/developer \
  ghcr.io/pacphi/sindri:3.0.0-alpha.1
```

#### CLI Binary

```bash
# Download and install from release assets
# Linux (x86_64)
wget https://github.com/pacphi/sindri/releases/download/v3.0.0-alpha.1/sindri-v3.0.0-alpha.1-linux-x86_64.tar.gz
tar -xzf sindri-v3.0.0-alpha.1-linux-x86_64.tar.gz
sudo mv sindri /usr/local/bin/

# macOS (Apple Silicon)
wget https://github.com/pacphi/sindri/releases/download/v3.0.0-alpha.1/sindri-v3.0.0-alpha.1-macos-aarch64.tar.gz
tar -xzf sindri-v3.0.0-alpha.1-macos-aarch64.tar.gz
sudo mv sindri /usr/local/bin/
```

# Sindri V3 Changelog

All notable changes to Sindri V3 will be documented in this file.

The format is based on [Keep a Changelog](https://keepachangelog.com/en/1.0.0/),
and this project adheres to [Semantic Versioning](https://semver.org/spec/v2.0.0.html).

---

## [Unreleased]

## [3.1.0] - 2026-01-28

### :boom: Breaking Changes

**Two-Dockerfile Architecture**

Sindri v3 now uses separate Dockerfiles for production and development modes:

- **Production** (`Dockerfile`): Pre-built binary, runtime extension installation, ~800MB
- **Development** (`Dockerfile.dev`): Source build, bundled extensions, ~1.2GB

**Environment Variable Changes**

Replaced dual environment variables with single unified variable:

- ❌ Removed: `SINDRI_BUILD_FROM_SOURCE` (boolean flag)
- ❌ Removed: `SINDRI_EXTENSIONS_SOURCE` (path string)
- ✅ Added: `SINDRI_EXT_HOME` (unified path variable)

**Path Resolution**

- Extension paths now use `${HOME}` variable expansion (not hardcoded `~` or `/home/developer`)
- Respects `ALT_HOME=/alt/home/developer` volume mount in containers
- Fallback resolution uses `dirs::home_dir()` and `$HOME` env var

### :sparkles: Features

- **Dockerfile Separation**: Production builds (2-5 min, ~800MB) vs Development builds (~8 min, ~1.2GB)
- **Simplified Configuration**: Single `SINDRI_EXT_HOME` variable replaces dual-variable system
- **Faster Production Builds**: Removed extension bundling reduces build time by 40-60%
- **Smaller Production Images**: Removed bundled extensions reduces image size by 33%
- **Volume Mount Support**: Proper `ALT_HOME` volume mount support via `${HOME}` expansion

### :bug: Bug Fixes

- **Path Resolution**: Fixed hardcoded paths that didn't respect `ALT_HOME` volume mount
- **Extension Loading**: Simplified extension loading priority eliminates confusion
- **Registry Loading**: Registry now correctly derives path from `SINDRI_EXT_HOME`

### :rocket: Improvements

- **Code Reduction**: 40-47% code reduction in extension loading logic across 5 Rust files
- **Build Performance**: Production builds 60% faster than previous unified Dockerfile
- **Image Size**: Production images 33% smaller (800MB vs 1.2GB)
- **Clarity**: Dockerfile choice (`Dockerfile` vs `Dockerfile.dev`) makes build mode immediately obvious

### :books: Documentation

- **New Guide**: [docs/DEPLOYMENT.md](docs/DEPLOYMENT.md) - Comprehensive Dockerfile selection guide
- **New ADR**: [ADR-040: Two-Dockerfile Architecture](docs/architecture/adr/040-two-dockerfile-architecture.md)
- **Updated**: [README.md](README.md#building-docker-images) - Build instructions for both Dockerfiles
- **Updated**: [docs/EXTENSIONS.md](docs/EXTENSIONS.md#extension-loading-mechanisms) - New extension loading priority

### :wrench: Migration Guide

#### For Default Users (No Action Required)

If using default `sindri.yaml` without custom build scripts, migration is automatic.

#### For Users with Custom Build Scripts

**Update Docker Build Commands**:

```bash
# Before (v3.0.x)
docker build -f v3/Dockerfile --build-arg BUILD_FROM_SOURCE=true -t sindri:dev .

# After (v3.1.0)
docker build -f v3/Dockerfile.dev -t sindri:dev .  # Development mode
docker build -f v3/Dockerfile -t sindri:prod .     # Production mode
```

**Update Environment Variable References**:

```bash
# Before (v3.0.x)
if [ "$SINDRI_BUILD_FROM_SOURCE" = "true" ]; then
    EXT_PATH=$SINDRI_EXTENSIONS_SOURCE
else
    EXT_PATH=~/.sindri/extensions
fi

# After (v3.1.0)
EXT_PATH=${SINDRI_EXT_HOME:-${HOME}/.sindri/extensions}
```

**Update Path References**:

```bash
# Before (v3.0.x) - Hardcoded paths
EXTENSIONS_DIR=~/.sindri/extensions
EXTENSIONS_DIR=/home/developer/.sindri/extensions

# After (v3.1.0) - Use ${HOME} variable
EXTENSIONS_DIR=${HOME}/.sindri/extensions
EXTENSIONS_DIR=${SINDRI_EXT_HOME}
```

#### For CI/CD Pipelines

**GitHub Actions**:

```yaml
# No changes needed if using v3/Dockerfile
# CI automatically uses production Dockerfile with pre-built binary

# Before (v3.0.x)
build-args: |
  BUILD_FROM_SOURCE=false

# After (v3.1.0) - Remove build arg
build-args: |
  SINDRI_VERSION=${{ env.VERSION }}
```

**Makefile**:

```makefile
# Before (v3.0.x)
docker build --build-arg BUILD_FROM_SOURCE=true -f v3/Dockerfile .

# After (v3.1.0)
docker build -f v3/Dockerfile.dev .  # Development
# OR
docker build -f v3/Dockerfile .       # Production
```

### :construction: Affected Files

**Core Changes** (7 files):

- `v3/Dockerfile` - Rewritten for production (pre-built binary, no bundled extensions)
- `v3/Dockerfile.dev` - New development Dockerfile (source build, bundled extensions)
- `v3/crates/sindri-extensions/src/profile.rs` - Simplified extension loading (43 → 25 lines)
- `v3/crates/sindri-extensions/src/registry.rs` - Unified registry loading
- `v3/crates/sindri/src/commands/extension.rs` - Simplified get_extensions_dir() (17 → 9 lines)
- `v3/crates/sindri/src/commands/profile.rs` - Unified path resolution
- `v3/crates/sindri-providers/src/templates/context.rs` - SINDRI_EXT_HOME configuration

**Provider Integration** (4 files):

- `v3/crates/sindri-providers/src/docker.rs` - Dockerfile selection logic
- `v3/crates/sindri-providers/src/fly.rs` - Dockerfile path selection
- `v3/crates/sindri-providers/src/devpod.rs` - Build mode handling
- `v3/crates/sindri-providers/src/e2b.rs` - Template generation

**Build System** (2 files):

- `Makefile` - Updated Docker build targets
- `.github/workflows/ci-v3.yml` - Removed BUILD_FROM_SOURCE arg

**Documentation** (5 files):

- `v3/README.md` - Build instructions
- `v3/docs/EXTENSIONS.md` - Extension loading mechanisms
- `v3/docs/DEPLOYMENT.md` - Dockerfile selection guide
- `v3/docs/architecture/adr/040-two-dockerfile-architecture.md` - ADR document
- `v3/CHANGELOG.md` - This file

### Installation

**Using Sindri CLI** (Recommended):

```bash
# Deploy with production image (default)
sindri deploy

# Deploy with development image (build from source)
sindri config init --profile fullstack
# Edit sindri.yaml:
#   deployment:
#     buildFromSource:
#       enabled: true
sindri deploy
```

**Manual Docker Build**:

```bash
# Production image (pre-built binary, no extensions)
docker build -f v3/Dockerfile -t sindri:3.1.0 .

# Development image (source build, bundled extensions)
docker build -f v3/Dockerfile.dev -t sindri:3.1.0-dev .
```

**Using Makefile**:

```bash
# Production
make v3-docker-build-from-binary

# Development
make v3-docker-build-from-source
```

### :link: References

- **Full Changelog**: https://github.com/pacphi/sindri/compare/v3.0.0...v3.1.0
- **ADR-040**: [Two-Dockerfile Architecture](docs/architecture/adr/040-two-dockerfile-architecture.md)
- **Migration Guide**: [Version Migration Guide](../docs/migration/MIGRATION_GUIDE.md)

---

## [3.0.0] - 2026-01-XX

### :sparkles: Initial Release

Complete rewrite of Sindri in Rust with improved performance, enhanced security, and native container image management.

**Key Features**:

- Multi-provider support (Docker, Fly.io, DevPod, Kubernetes, E2B)
- 40+ modular extensions
- Multi-backend secrets management
- Full workspace backup with encryption
- Project scaffolding templates
- Image security with signature verification
- Local Kubernetes cluster management
- Automatic CLI updates
- Schema validation
- System diagnostics with auto-fix

See [v3/README.md](README.md) for complete feature list and getting started guide.

---

[Unreleased]: https://github.com/pacphi/sindri/compare/v3.1.0...HEAD
[3.1.0]: https://github.com/pacphi/sindri/compare/v3.0.0...v3.1.0
[3.0.0]: https://github.com/pacphi/sindri/releases/tag/v3.0.0
