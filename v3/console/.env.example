# ─── Copy this file to .env and fill in values ────────────────────────────────
#
# This file serves two purposes:
#
#   1. Local development — copy to apps/api/.env for direct pnpm usage.
#      Only DATABASE_URL and REDIS_URL are strictly required.
#
#   2. Docker Compose — copy to .env at this directory root.
#      Docker Compose reads .env automatically and substitutes the
#      POSTGRES_*, REDIS_*, *_PORT, and *_VERSION variables into
#      docker-compose.yml.  Service-level secrets for the api container
#      live in apps/api/.env.docker (see apps/api/.env.docker.example).
#
# ─── Docker Compose host configuration ───────────────────────────────────────
# Image versions pinned here so upgrades are a one-line change.
POSTGRES_VERSION=16
REDIS_VERSION=7

# Database credentials — must match apps/api/.env.docker when using Docker.
POSTGRES_DB=sindri_console
POSTGRES_USER=sindri
POSTGRES_PASSWORD=sindri

# Host port mappings — change to avoid conflicts on your machine.
POSTGRES_PORT=5432
REDIS_PORT=6379
API_PORT=3001
WEB_PORT=5173

# ─── Local dev (apps/api/.env) ────────────────────────────────────────────────
DATABASE_URL="postgresql://sindri:sindri@localhost:5432/sindri_console?schema=public"
REDIS_URL="redis://localhost:6379"

# ─── API server ───────────────────────────────────────────────────────────────
PORT=3001
NODE_ENV="development"
LOG_LEVEL="debug"

# ─── Security (generate with: openssl rand -hex 32) ──────────────────────────
JWT_SECRET="change-me-in-production"
SESSION_SECRET="change-me-in-production"

# Bootstrap API key for instance agent registration.
# Agents must set SINDRI_CONSOLE_API_KEY to this value.
SINDRI_CONSOLE_API_KEY="dev-api-key-change-me"

# ─── CORS ─────────────────────────────────────────────────────────────────────
# Comma-separated allowed origins for browser requests.
CORS_ORIGIN="http://localhost:5173"

# ─── Retention (optional, defaults shown) ────────────────────────────────────
# METRICS_RETENTION_DAYS=30
# LOGS_RETENTION_DAYS=14
# EVENTS_RETENTION_DAYS=90
# AUDIT_RETENTION_DAYS=365
