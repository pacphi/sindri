# ─── Copy this file to .env and fill in values ────────────────────────────────
#
# This file is for Docker Compose.  Copy to .env at this directory root:
#
#   cp .env.example .env
#
# Docker Compose reads .env automatically and substitutes variables into
# docker-compose.yml.  The api container receives all API service config
# directly via an environment: block — no separate apps/api/.env.docker needed.
#
# For local pnpm dev (without Docker), use apps/api/.env instead.
# See apps/api/.env.example for the local-dev template.
#
# ── Docker Compose: infrastructure versions ──────────────────────────────────
# Image versions pinned here so upgrades are a one-line change.
POSTGRES_VERSION=16
REDIS_VERSION=7

# ── Docker Compose: database credentials ─────────────────────────────────────
# Also used to construct DATABASE_URL for the api container.
POSTGRES_DB=sindri_console
POSTGRES_USER=sindri
POSTGRES_PASSWORD=sindri

# ── Docker Compose: host port mappings ───────────────────────────────────────
# Change these to avoid conflicts with other services on your machine.
POSTGRES_PORT=5432
REDIS_PORT=6379
API_PORT=3001
WEB_PORT=5173

# ── API service configuration (Docker) ───────────────────────────────────────
# Injected into the api container at runtime.
NODE_ENV="development"
LOG_LEVEL="debug"
CORS_ORIGIN="http://localhost:5173"

# ── Security (generate with: openssl rand -hex 32) ───────────────────────────
JWT_SECRET="change-me-in-production"
SESSION_SECRET="change-me-in-production"

# Bootstrap API key — agents must present this key to register with the Console.
SINDRI_CONSOLE_API_KEY="dev-api-key-change-me"

# ── Retention (optional, defaults shown) ─────────────────────────────────────
# METRICS_RETENTION_DAYS=30
# LOGS_RETENTION_DAYS=14
# EVENTS_RETENTION_DAYS=90
# AUDIT_RETENTION_DAYS=365
