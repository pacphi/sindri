# Sindri Console API — Docker Compose environment
# Copy to apps/api/.env.docker and adjust values before running:
#
#   cp apps/api/.env.docker.example apps/api/.env.docker
#
# This file is loaded by the `api` service via `env_file` in docker-compose.yml.
# It is gitignored.  Never commit the real .env.docker with actual secrets.
#
# ── Database ──────────────────────────────────────────────────────────────────
# Uses the Docker Compose service name "postgres" as the hostname.
DATABASE_URL="postgresql://sindri:sindri@postgres:5432/sindri_console?schema=public"

# ── Redis ─────────────────────────────────────────────────────────────────────
# Uses the Docker Compose service name "redis" as the hostname.
REDIS_URL="redis://redis:6379"

# ── Server ────────────────────────────────────────────────────────────────────
PORT=3001
NODE_ENV=development
LOG_LEVEL=debug

# ── CORS ─────────────────────────────────────────────────────────────────────
# Allow requests from the web container (proxied via nginx on WEB_PORT).
CORS_ORIGIN="http://localhost:5173"

# ── Security ─────────────────────────────────────────────────────────────────
# Generate strong secrets for any non-local environment:
#   openssl rand -hex 32
JWT_SECRET="dev-jwt-secret-change-me"
SESSION_SECRET="dev-session-secret-change-me"

# Bootstrap API key — agents must present this key to register with the Console.
SINDRI_CONSOLE_API_KEY="dev-api-key-change-me"

# ── Retention (optional) ─────────────────────────────────────────────────────
# METRICS_RETENTION_DAYS=30
# LOGS_RETENTION_DAYS=14
# EVENTS_RETENTION_DAYS=90
# AUDIT_RETENTION_DAYS=365
