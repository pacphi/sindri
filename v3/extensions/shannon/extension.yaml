metadata:
  name: shannon
  version: 1.0.0
  description: Autonomous AI pentester for finding exploits in web applications
  category: testing
  dependencies: []

install:
  method: script
  script:
    path: scripts/install.sh
    args: []
    timeout: 300

configure:
  environment:
    - key: SHANNON_HOME
      value: "${HOME}/.shannon"
      scope: bashrc
    - key: PATH
      value: "${SHANNON_HOME}:${PATH}"
      scope: bashrc

validate:
  commands:
    - name: shannon
      versionFlag: --version
      expectedPattern: "shannon"

requirements:
  domains:
    - github.com
    - raw.githubusercontent.com
  diskSpace: 100
  memory: 512
  installTime: 180
  installTimeout: 300
  validationTimeout: 30
  secrets:
    - ANTHROPIC_API_KEY

capabilities:
  auth:
    provider: anthropic
    required: true
    methods: [api-key]
    envVars: [ANTHROPIC_API_KEY, CLAUDE_CODE_MAX_OUTPUT_TOKENS]
    validator:
      command: "test -n \"$ANTHROPIC_API_KEY\""
      expectedExitCode: 0
    features:
      - name: autonomous-pentesting
        requiresApiKey: true
        description: "Run autonomous AI-powered penetration tests"

  hooks:
    post-install:
      command: "shannon --version"
      description: "Verify Shannon installation"

  project-context:
    enabled: true
    mergeFile:
      source: templates/SKILL.md
      target: CLAUDE.md
      strategy: append-if-missing

bom:
  tools:
    - name: shannon
      version: dynamic
      source: script
      type: application
      license: Unknown
      homepage: https://github.com/KeygraphHQ/shannon

docs:
  title: "Shannon"
  overview: |
    Shannon is a fully autonomous AI pentester that finds actual exploits in web applications by combining white-box source code analysis with black-box dynamic exploitation.
  last-updated: "2026-02-08"
  features:
    - "Autonomous Vulnerability Discovery: Finds Injection, XSS, SSRF, and Broken Authentication/Authorization vulnerabilities"
    - "High Success Rate: 96.15% success rate on the hint-free, source-aware XBOW Benchmark"
    - "Hybrid Approach: Combines white-box source code analysis with black-box dynamic testing"
    - "Comprehensive Reports: Generates detailed security assessment reports with exploitation details"
    - "Docker-based: Containerized execution environment for safety and reproducibility"
  usage:
    - section: "Basic Pentest"
      examples:
        - code: |
            # Set up credentials
            export ANTHROPIC_API_KEY="sk-ant-..."
            export CLAUDE_CODE_MAX_OUTPUT_TOKENS=64000

            # Run a pentest
            shannon start \
              URL=https://your-app.com \
              REPO=/path/to/your/app/source

            # Monitor progress
            shannon logs

            # Check specific workflow
            shannon query ID=workflow-id
    - section: "Local Application Testing"
      examples:
        - description: "For applications running on localhost, use Docker's host gateway"
          code: |
            shannon start \
              URL=http://host.docker.internal:3000 \
              REPO=/path/to/your/app
    - section: "Container Management"
      examples:
        - code: |
            # Stop containers (preserve data)
            shannon stop

            # Full cleanup
            shannon stop CLEAN=true
    - section: "Custom Configuration"
      examples:
        - code: |
            shannon start \
              URL=https://app.com \
              REPO=/path/to/repo \
              CONFIG=/path/to/config.yaml
  related:
    - name: docker
      description: "Docker runtime (required dependency)"
  notes: |
    Shannon is for authorized security testing only. Always obtain written authorization before testing any application. Results are saved to ./audit-logs/{hostname}_{sessionId}/.
